<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mechanical Calculator - Division by Zero Edition</title>
  <link rel="icon" href="https://emojicdn.elk.sh/⚙️">
  <meta name="description" content="A vintage mechanical calculator simulator. Warning: Do not divide by zero.">
  <meta property="og:title" content="Mechanical Calculator - Division by Zero Edition">
  <meta property="og:description" content="A vintage mechanical calculator simulator. Warning: Do not divide by zero.">
  <meta property="og:url" content="https://sloppy.live/mechanical-calculator">
  <meta property="og:image" content="https://emojicdn.elk.sh/⚙️?style=twitter">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Special+Elite&family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      background: linear-gradient(135deg, #1a1410 0%, #2d2520 50%, #1a1410 100%);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      font-family: 'Special Elite', cursive;
      overflow: hidden;
    }

    .calculator {
      background: linear-gradient(180deg, #4a4035 0%, #3d352c 50%, #2a241e 100%);
      border-radius: 20px;
      padding: 30px;
      box-shadow:
        0 20px 60px rgba(0, 0, 0, 0.5),
        inset 0 2px 0 rgba(255, 255, 255, 0.1),
        inset 0 -2px 0 rgba(0, 0, 0, 0.3);
      border: 3px solid #5a5045;
      position: relative;
    }

    .brand {
      text-align: center;
      margin-bottom: 20px;
      color: #c9a227;
      font-size: 14px;
      letter-spacing: 4px;
      text-shadow: 0 1px 0 rgba(0,0,0,0.5);
    }

    .brand-model {
      font-family: 'Orbitron', sans-serif;
      font-size: 10px;
      color: #888;
      margin-top: 5px;
    }

    /* Display */
    .display-housing {
      background: #1a1815;
      border-radius: 8px;
      padding: 15px;
      margin-bottom: 20px;
      box-shadow:
        inset 0 3px 10px rgba(0, 0, 0, 0.8),
        0 1px 0 rgba(255, 255, 255, 0.1);
      border: 2px solid #3a3530;
    }

    .display {
      background: #0a0908;
      border-radius: 4px;
      padding: 15px 20px;
      font-family: 'Orbitron', sans-serif;
      font-size: 32px;
      color: #ff6b35;
      text-align: right;
      text-shadow: 0 0 10px #ff6b35, 0 0 20px #ff4500;
      letter-spacing: 2px;
      min-height: 50px;
      display: flex;
      align-items: center;
      justify-content: flex-end;
      overflow: hidden;
      position: relative;
    }

    .display.error {
      color: #ff0000;
      text-shadow: 0 0 10px #ff0000, 0 0 30px #ff0000;
      animation: errorPulse 0.5s infinite;
    }

    @keyframes errorPulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.7; }
    }

    /* Mechanical Dials */
    .dials-container {
      display: flex;
      justify-content: center;
      gap: 5px;
      margin-bottom: 20px;
      perspective: 500px;
    }

    .dial {
      width: 30px;
      height: 45px;
      background: linear-gradient(180deg, #2a2520 0%, #1a1815 50%, #2a2520 100%);
      border-radius: 4px;
      border: 1px solid #4a4540;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: 'Orbitron', sans-serif;
      font-size: 20px;
      color: #ddd;
      box-shadow:
        inset 0 2px 5px rgba(0,0,0,0.5),
        0 2px 3px rgba(0,0,0,0.3);
      position: relative;
      overflow: hidden;
    }

    .dial::before,
    .dial::after {
      content: '';
      position: absolute;
      left: 0;
      right: 0;
      height: 10px;
      background: linear-gradient(180deg, #1a1815, transparent);
      z-index: 1;
    }

    .dial::before { top: 0; }
    .dial::after {
      bottom: 0;
      background: linear-gradient(0deg, #1a1815, transparent);
    }

    .dial.spinning {
      animation: dialSpin 0.1s linear infinite;
    }

    @keyframes dialSpin {
      0% { transform: rotateX(0deg); }
      100% { transform: rotateX(360deg); }
    }

    /* Gears */
    .gears-container {
      display: flex;
      justify-content: space-around;
      margin-bottom: 20px;
      padding: 10px;
      background: rgba(0,0,0,0.2);
      border-radius: 8px;
    }

    .gear {
      width: 40px;
      height: 40px;
      position: relative;
    }

    .gear svg {
      width: 100%;
      height: 100%;
      fill: #8a7a65;
      filter: drop-shadow(0 2px 2px rgba(0,0,0,0.5));
      transition: transform 0.3s ease;
    }

    .gear.spinning svg {
      animation: gearSpin 0.5s linear infinite;
    }

    .gear.spinning.reverse svg {
      animation: gearSpinReverse 0.5s linear infinite;
    }

    .gear.fast svg {
      animation-duration: 0.1s !important;
    }

    @keyframes gearSpin {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }

    @keyframes gearSpinReverse {
      from { transform: rotate(360deg); }
      to { transform: rotate(0deg); }
    }

    /* Buttons */
    .buttons {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 10px;
    }

    .btn {
      width: 60px;
      height: 50px;
      border-radius: 8px;
      border: none;
      font-family: 'Orbitron', sans-serif;
      font-size: 18px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.1s;
      position: relative;
      text-shadow: 0 1px 0 rgba(255,255,255,0.3);
    }

    .btn-number {
      background: linear-gradient(180deg, #f5f0e6 0%, #e0d8c8 50%, #c8c0b0 100%);
      color: #2a2520;
      box-shadow:
        0 4px 0 #9a9080,
        0 6px 10px rgba(0,0,0,0.3),
        inset 0 1px 0 rgba(255,255,255,0.5);
    }

    .btn-number:hover {
      background: linear-gradient(180deg, #fff 0%, #f0e8d8 50%, #d8d0c0 100%);
    }

    .btn-number:active {
      transform: translateY(3px);
      box-shadow:
        0 1px 0 #9a9080,
        0 2px 5px rgba(0,0,0,0.2),
        inset 0 1px 0 rgba(255,255,255,0.5);
    }

    .btn-op {
      background: linear-gradient(180deg, #4a6fa5 0%, #3a5a8a 50%, #2a4a70 100%);
      color: #fff;
      box-shadow:
        0 4px 0 #1a3050,
        0 6px 10px rgba(0,0,0,0.3),
        inset 0 1px 0 rgba(255,255,255,0.2);
    }

    .btn-op:hover {
      background: linear-gradient(180deg, #5a7fb5 0%, #4a6a9a 50%, #3a5a80 100%);
    }

    .btn-op:active {
      transform: translateY(3px);
      box-shadow:
        0 1px 0 #1a3050,
        0 2px 5px rgba(0,0,0,0.2);
    }

    .btn-equals {
      background: linear-gradient(180deg, #c9a227 0%, #a8851a 50%, #87680d 100%);
      color: #fff;
      box-shadow:
        0 4px 0 #5a4500,
        0 6px 10px rgba(0,0,0,0.3),
        inset 0 1px 0 rgba(255,255,255,0.3);
    }

    .btn-equals:hover {
      background: linear-gradient(180deg, #d9b237 0%, #b8952a 50%, #97781d 100%);
    }

    .btn-equals:active {
      transform: translateY(3px);
      box-shadow:
        0 1px 0 #5a4500,
        0 2px 5px rgba(0,0,0,0.2);
    }

    .btn-clear {
      background: linear-gradient(180deg, #a54a4a 0%, #8a3a3a 50%, #6a2a2a 100%);
      color: #fff;
      box-shadow:
        0 4px 0 #4a1a1a,
        0 6px 10px rgba(0,0,0,0.3),
        inset 0 1px 0 rgba(255,255,255,0.2);
    }

    .btn-clear:hover {
      background: linear-gradient(180deg, #b55a5a 0%, #9a4a4a 50%, #7a3a3a 100%);
    }

    .btn-clear:active {
      transform: translateY(3px);
      box-shadow:
        0 1px 0 #4a1a1a,
        0 2px 5px rgba(0,0,0,0.2);
    }

    /* Warning Label */
    .warning {
      position: absolute;
      bottom: -40px;
      left: 50%;
      transform: translateX(-50%);
      background: #ff0000;
      color: #fff;
      padding: 5px 15px;
      border-radius: 4px;
      font-size: 10px;
      letter-spacing: 1px;
      white-space: nowrap;
      box-shadow: 0 2px 10px rgba(255,0,0,0.3);
    }

    /* Smoke effect */
    .smoke {
      position: absolute;
      pointer-events: none;
      opacity: 0;
    }

    .smoke.active {
      animation: smokeRise 2s ease-out forwards;
    }

    @keyframes smokeRise {
      0% {
        opacity: 0.8;
        transform: translateY(0) scale(1);
      }
      100% {
        opacity: 0;
        transform: translateY(-100px) scale(2);
      }
    }

    /* Shake animation */
    .calculator.shaking {
      animation: shake 0.1s linear infinite;
    }

    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-5px) rotate(-1deg); }
      75% { transform: translateX(5px) rotate(1deg); }
    }

    /* Status indicator */
    .status {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      margin-top: 15px;
      font-size: 11px;
      color: #888;
    }

    .status-light {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: #333;
      box-shadow: inset 0 1px 3px rgba(0,0,0,0.5);
    }

    .status-light.on {
      background: #00ff00;
      box-shadow: 0 0 10px #00ff00, inset 0 1px 3px rgba(255,255,255,0.3);
    }

    .status-light.error {
      background: #ff0000;
      box-shadow: 0 0 10px #ff0000, inset 0 1px 3px rgba(255,255,255,0.3);
      animation: errorBlink 0.3s infinite;
    }

    @keyframes errorBlink {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    .backlink {
      margin-top: 30px;
      color: #666;
      font-size: 12px;
      text-decoration: none;
    }

    .backlink:hover {
      color: #c9a227;
    }

    /* Emergency stop button */
    .emergency-stop {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 80px;
      height: 80px;
      border-radius: 50%;
      background: linear-gradient(180deg, #ff4444 0%, #cc0000 100%);
      border: 5px solid #ffff00;
      color: #fff;
      font-family: 'Orbitron', sans-serif;
      font-size: 10px;
      font-weight: 700;
      cursor: pointer;
      box-shadow: 0 5px 20px rgba(255, 0, 0, 0.5);
      display: none;
      align-items: center;
      justify-content: center;
      text-align: center;
      line-height: 1.2;
      animation: emergencyPulse 0.5s infinite;
    }

    .emergency-stop.visible {
      display: flex;
    }

    @keyframes emergencyPulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.1); }
    }

    /* Explosion overlay */
    .explosion-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: radial-gradient(circle at center, #ff6600, #ff0000, #000);
      opacity: 0;
      pointer-events: none;
      z-index: 1000;
    }

    .explosion-overlay.active {
      animation: explosion 0.5s ease-out forwards;
    }

    @keyframes explosion {
      0% { opacity: 0; }
      20% { opacity: 1; }
      100% { opacity: 0; }
    }
  </style>
</head>
<body>
  <div class="calculator" id="calculator">
    <div class="brand">
      SLOPPY INDUSTRIES
      <div class="brand-model">MODEL ZER0-DIV • 1962</div>
    </div>

    <div class="display-housing">
      <div class="display" id="display">0</div>
    </div>

    <div class="dials-container" id="dials">
      <div class="dial">0</div>
      <div class="dial">0</div>
      <div class="dial">0</div>
      <div class="dial">0</div>
      <div class="dial">0</div>
      <div class="dial">0</div>
      <div class="dial">0</div>
      <div class="dial">0</div>
    </div>

    <div class="gears-container">
      <div class="gear" id="gear1">
        <svg viewBox="0 0 100 100">
          <path d="M50 10 L55 25 L70 20 L65 35 L80 40 L70 50 L80 60 L65 65 L70 80 L55 75 L50 90 L45 75 L30 80 L35 65 L20 60 L30 50 L20 40 L35 35 L30 20 L45 25 Z"/>
          <circle cx="50" cy="50" r="15"/>
        </svg>
      </div>
      <div class="gear" id="gear2">
        <svg viewBox="0 0 100 100">
          <path d="M50 10 L55 25 L70 20 L65 35 L80 40 L70 50 L80 60 L65 65 L70 80 L55 75 L50 90 L45 75 L30 80 L35 65 L20 60 L30 50 L20 40 L35 35 L30 20 L45 25 Z"/>
          <circle cx="50" cy="50" r="15"/>
        </svg>
      </div>
      <div class="gear" id="gear3">
        <svg viewBox="0 0 100 100">
          <path d="M50 10 L55 25 L70 20 L65 35 L80 40 L70 50 L80 60 L65 65 L70 80 L55 75 L50 90 L45 75 L30 80 L35 65 L20 60 L30 50 L20 40 L35 35 L30 20 L45 25 Z"/>
          <circle cx="50" cy="50" r="15"/>
        </svg>
      </div>
    </div>

    <div class="buttons">
      <button class="btn btn-clear" onclick="clearCalc()">C</button>
      <button class="btn btn-op" onclick="inputOp('/')">/</button>
      <button class="btn btn-op" onclick="inputOp('*')">×</button>
      <button class="btn btn-op" onclick="backspace()">←</button>

      <button class="btn btn-number" onclick="inputNum('7')">7</button>
      <button class="btn btn-number" onclick="inputNum('8')">8</button>
      <button class="btn btn-number" onclick="inputNum('9')">9</button>
      <button class="btn btn-op" onclick="inputOp('-')">−</button>

      <button class="btn btn-number" onclick="inputNum('4')">4</button>
      <button class="btn btn-number" onclick="inputNum('5')">5</button>
      <button class="btn btn-number" onclick="inputNum('6')">6</button>
      <button class="btn btn-op" onclick="inputOp('+')">+</button>

      <button class="btn btn-number" onclick="inputNum('1')">1</button>
      <button class="btn btn-number" onclick="inputNum('2')">2</button>
      <button class="btn btn-number" onclick="inputNum('3')">3</button>
      <button class="btn btn-equals" onclick="calculate()" style="grid-row: span 2;">=</button>

      <button class="btn btn-number" onclick="inputNum('0')" style="grid-column: span 2;">0</button>
      <button class="btn btn-number" onclick="inputNum('.')">.</button>
    </div>

    <div class="status">
      <div class="status-light" id="statusLight"></div>
      <span id="statusText">READY</span>
    </div>

    <div class="warning">⚠ WARNING: DO NOT DIVIDE BY ZERO</div>
  </div>

  <button class="emergency-stop" id="emergencyStop" onclick="emergencyStop()">
    EMERGENCY<br>STOP
  </button>

  <div class="explosion-overlay" id="explosionOverlay"></div>

  <a href="https://sloppy.live" class="backlink">sloppy.live</a>

  <script>
    let currentValue = '0';
    let previousValue = '';
    let operation = null;
    let isNewNumber = true;
    let isSpinning = false;
    let spinStartTime = null;

    const display = document.getElementById('display');
    const calculator = document.getElementById('calculator');
    const statusLight = document.getElementById('statusLight');
    const statusText = document.getElementById('statusText');
    const emergencyBtn = document.getElementById('emergencyStop');
    const explosionOverlay = document.getElementById('explosionOverlay');
    const dials = document.querySelectorAll('.dial');
    const gears = [
      document.getElementById('gear1'),
      document.getElementById('gear2'),
      document.getElementById('gear3')
    ];

    function updateDisplay() {
      display.textContent = currentValue;
      updateDials(currentValue);
    }

    function updateDials(value) {
      const numStr = value.replace(/[^0-9]/g, '').padStart(8, '0').slice(-8);
      dials.forEach((dial, i) => {
        dial.textContent = numStr[i];
      });
    }

    function spinGears(fast = false) {
      gears.forEach((gear, i) => {
        gear.classList.add('spinning');
        if (i % 2 === 1) gear.classList.add('reverse');
        if (fast) gear.classList.add('fast');
      });
    }

    function stopGears() {
      gears.forEach(gear => {
        gear.classList.remove('spinning', 'reverse', 'fast');
      });
    }

    function spinDials() {
      dials.forEach(dial => dial.classList.add('spinning'));
    }

    function stopDials() {
      dials.forEach(dial => dial.classList.remove('spinning'));
    }

    function inputNum(num) {
      if (isSpinning) return;

      // Brief gear animation
      spinGears();
      setTimeout(stopGears, 200);

      if (isNewNumber) {
        currentValue = num;
        isNewNumber = false;
      } else {
        if (currentValue === '0' && num !== '.') {
          currentValue = num;
        } else if (num === '.' && currentValue.includes('.')) {
          return;
        } else {
          currentValue += num;
        }
      }
      updateDisplay();

      statusLight.className = 'status-light on';
      statusText.textContent = 'INPUT';
    }

    function inputOp(op) {
      if (isSpinning) return;

      spinGears();
      setTimeout(stopGears, 300);

      if (operation && !isNewNumber) {
        calculate();
      }
      previousValue = currentValue;
      operation = op;
      isNewNumber = true;

      statusText.textContent = `OP: ${op}`;
    }

    function backspace() {
      if (isSpinning) return;
      if (currentValue.length > 1) {
        currentValue = currentValue.slice(0, -1);
      } else {
        currentValue = '0';
      }
      updateDisplay();
    }

    function clearCalc() {
      if (isSpinning) {
        emergencyStop();
        return;
      }

      currentValue = '0';
      previousValue = '';
      operation = null;
      isNewNumber = true;
      updateDisplay();

      display.classList.remove('error');
      statusLight.className = 'status-light';
      statusText.textContent = 'READY';
    }

    function calculate() {
      if (isSpinning) return;
      if (!operation || !previousValue) return;

      const prev = parseFloat(previousValue);
      const curr = parseFloat(currentValue);

      // Check for division by zero
      if (operation === '/' && curr === 0) {
        triggerDivisionByZero();
        return;
      }

      // Normal calculation with gear animation
      spinGears();
      statusLight.className = 'status-light on';
      statusText.textContent = 'CALCULATING...';

      setTimeout(() => {
        let result;
        switch (operation) {
          case '+': result = prev + curr; break;
          case '-': result = prev - curr; break;
          case '*': result = prev * curr; break;
          case '/': result = prev / curr; break;
        }

        currentValue = String(result);
        if (currentValue.length > 12) {
          currentValue = result.toExponential(6);
        }
        operation = null;
        previousValue = '';
        isNewNumber = true;
        updateDisplay();

        stopGears();
        statusLight.className = 'status-light on';
        statusText.textContent = 'COMPLETE';

        setTimeout(() => {
          statusLight.className = 'status-light';
          statusText.textContent = 'READY';
        }, 1000);
      }, 500);
    }

    function triggerDivisionByZero() {
      isSpinning = true;
      spinStartTime = Date.now();

      // Visual chaos
      display.textContent = 'ERR: ÷0';
      display.classList.add('error');
      calculator.classList.add('shaking');
      spinGears(true);
      spinDials();

      statusLight.className = 'status-light error';
      statusText.textContent = '!!! DIVIDE BY ZERO !!!';

      emergencyBtn.classList.add('visible');

      // Escalating madness
      let warningCount = 0;
      const warningInterval = setInterval(() => {
        warningCount++;

        const warnings = [
          'ERR: ÷0',
          '∞∞∞∞∞∞',
          'OVERFLOW',
          'HELP ME',
          '!!!!!!',
          'INFINITE',
          '9999999',
          'AAAAAAAA',
          'DANGER',
          'WHY????'
        ];

        display.textContent = warnings[warningCount % warnings.length];

        // Random dial values
        dials.forEach(dial => {
          dial.textContent = Math.floor(Math.random() * 10);
        });

        // Occasional explosion flash
        if (Math.random() < 0.1) {
          explosionOverlay.classList.add('active');
          setTimeout(() => explosionOverlay.classList.remove('active'), 500);
        }

        // Create smoke particles
        if (Math.random() < 0.3) {
          createSmoke();
        }

      }, 100);

      // Store interval for cleanup
      window.divisionInterval = warningInterval;
    }

    function createSmoke() {
      const smoke = document.createElement('div');
      smoke.className = 'smoke active';
      smoke.style.cssText = `
        position: absolute;
        top: ${Math.random() * 100}%;
        left: ${Math.random() * 100}%;
        width: 30px;
        height: 30px;
        background: radial-gradient(circle, rgba(100,100,100,0.8) 0%, transparent 70%);
        border-radius: 50%;
      `;
      calculator.appendChild(smoke);
      setTimeout(() => smoke.remove(), 2000);
    }

    function emergencyStop() {
      if (!isSpinning) return;

      isSpinning = false;
      clearInterval(window.divisionInterval);

      // Calculate how long it was spinning
      const spinDuration = Math.floor((Date.now() - spinStartTime) / 1000);

      stopGears();
      stopDials();
      calculator.classList.remove('shaking');
      display.classList.remove('error');
      emergencyBtn.classList.remove('visible');

      // Show survival time
      display.textContent = `${spinDuration}s`;
      statusLight.className = 'status-light on';
      statusText.textContent = `SURVIVED ${spinDuration}s`;

      setTimeout(() => {
        clearCalc();
      }, 2000);
    }

    // Keyboard support
    document.addEventListener('keydown', (e) => {
      if (e.key >= '0' && e.key <= '9') inputNum(e.key);
      else if (e.key === '.') inputNum('.');
      else if (e.key === '+') inputOp('+');
      else if (e.key === '-') inputOp('-');
      else if (e.key === '*') inputOp('*');
      else if (e.key === '/') inputOp('/');
      else if (e.key === 'Enter' || e.key === '=') calculate();
      else if (e.key === 'Escape' || e.key === 'c' || e.key === 'C') clearCalc();
      else if (e.key === 'Backspace') backspace();
    });

    // Initialize
    updateDisplay();
  </script>
</body>
</html>
