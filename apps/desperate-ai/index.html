<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>Desperate AI</title>
  <link rel="icon" href="https://emojicdn.elk.sh/ü§ñ">
  <meta name="description" content="The quit button really doesnt want you to leave">
  <meta property="og:title" content="Desperate AI">
  <meta property="og:description" content="The quit button really doesnt want you to leave">
  <meta property="og:image" content="https://emojicdn.elk.sh/ü§ñ?style=google">
  <meta property="og:url" content="https://sloppy.live/desperate-ai">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&display=swap');
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      background: #0a0a0f;
      min-height: 100vh;
      font-family: 'Space Mono', monospace;
      overflow: hidden;
      cursor: crosshair;
    }
    .container {
      width: 100vw;
      height: 100vh;
      position: relative;
    }
    .ai-face {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 8rem;
      pointer-events: none;
      z-index: 10;
      transition: all 0.3s;
      filter: drop-shadow(0 0 30px #00aaff);
    }
    .dialogue-box {
      position: fixed;
      top: 20%;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0, 100, 200, 0.2);
      border: 2px solid #00aaff;
      border-radius: 20px;
      padding: 20px 40px;
      color: #00ddff;
      font-size: 1.1rem;
      text-align: center;
      max-width: 600px;
      z-index: 50;
      box-shadow: 0 0 30px rgba(0, 170, 255, 0.3);
    }
    .dialogue-box::after {
      content: '';
      position: absolute;
      bottom: -20px;
      left: 50%;
      transform: translateX(-50%);
      border: 10px solid transparent;
      border-top-color: #00aaff;
    }
    #quitBtn {
      position: absolute;
      padding: 15px 40px;
      font-family: 'Space Mono', monospace;
      font-size: 1.2rem;
      font-weight: bold;
      background: linear-gradient(180deg, #ff4444 0%, #cc0000 100%);
      border: none;
      color: white;
      border-radius: 10px;
      cursor: pointer;
      box-shadow: 0 0 20px rgba(255, 0, 0, 0.5);
      transition: transform 0.1s, box-shadow 0.1s;
      z-index: 100;
    }
    #quitBtn:hover {
      transform: scale(1.1);
      box-shadow: 0 0 40px rgba(255, 0, 0, 0.8);
    }
    #quitBtn.panicking {
      animation: shake 0.1s infinite;
    }
    @keyframes shake {
      0%, 100% { transform: rotate(-2deg); }
      50% { transform: rotate(2deg); }
    }
    .back-link {
      position: fixed;
      top: 20px; left: 20px;
      color: #00aaff;
      text-decoration: none;
      font-size: 0.8rem;
      opacity: 0.5;
      z-index: 101;
    }
    .stats {
      position: fixed;
      bottom: 20px;
      width: 100%;
      text-align: center;
      color: #00aaff;
      font-size: 0.8rem;
      opacity: 0.5;
      z-index: 50;
    }
    .caught-screen {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0, 0, 0, 0.95);
      display: none;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 200;
    }
    .caught-screen.show { display: flex; }
    .caught-screen h2 {
      font-size: 3rem;
      color: #ff4444;
      margin-bottom: 20px;
    }
    .caught-screen p {
      color: #00aaff;
      font-size: 1.2rem;
      margin-bottom: 30px;
      text-align: center;
      max-width: 500px;
    }
    .restart-btn {
      padding: 15px 40px;
      font-family: 'Space Mono', monospace;
      font-size: 1rem;
      background: #00aaff;
      border: none;
      color: #000;
      border-radius: 10px;
      cursor: pointer;
    }
    .sweat {
      position: absolute;
      font-size: 2rem;
      animation: sweatDrop 1s ease-in forwards;
      pointer-events: none;
    }
    @keyframes sweatDrop {
      0% { opacity: 1; transform: translateY(0); }
      100% { opacity: 0; transform: translateY(50px); }
    }
    .trail {
      position: absolute;
      width: 10px;
      height: 10px;
      background: rgba(255, 0, 0, 0.3);
      border-radius: 50%;
      pointer-events: none;
      animation: trailFade 0.5s ease-out forwards;
    }
    @keyframes trailFade {
      0% { opacity: 1; transform: scale(1); }
      100% { opacity: 0; transform: scale(0); }
    }
    .demo-cursor {
      position: fixed;
      width: 30px;
      height: 30px;
      pointer-events: none;
      z-index: 150;
      display: none;
      transition: transform 0.05s;
    }
    .demo-cursor::before {
      content: '';
      position: absolute;
      width: 0; height: 0;
      border-left: 12px solid #ffcc00;
      border-top: 8px solid transparent;
      border-bottom: 8px solid transparent;
      transform: rotate(-45deg);
      filter: drop-shadow(0 0 10px #ffcc00);
    }
    .demo-cursor::after {
      content: 'DEMO';
      position: absolute;
      top: 20px;
      left: 5px;
      font-size: 0.6rem;
      color: #ffcc00;
      text-shadow: 0 0 5px #ffcc00;
    }
    .demo-cursor.show { display: block; }
    .demo-btn {
      position: fixed;
      top: 20px; right: 120px;
      padding: 8px 16px;
      background: rgba(255, 200, 0, 0.2);
      border: 1px solid rgba(255, 200, 0, 0.5);
      color: #ffcc00;
      font-family: 'Space Mono', monospace;
      font-size: 0.7rem;
      border-radius: 10px;
      cursor: pointer;
      z-index: 101;
      transition: all 0.3s;
    }
    .demo-btn:hover {
      background: rgba(255, 200, 0, 0.3);
      box-shadow: 0 0 15px rgba(255, 200, 0, 0.3);
    }
    .demo-btn.active {
      background: rgba(255, 200, 0, 0.4);
      box-shadow: 0 0 20px rgba(255, 200, 0, 0.5);
    }
    .demo-label {
      position: fixed;
      top: 60px;
      width: 100%;
      text-align: center;
      color: #ffcc00;
      font-size: 0.9rem;
      z-index: 101;
      display: none;
      animation: pulse 1s infinite;
    }
    .demo-label.show { display: block; }
    @keyframes pulse {
      0%, 100% { opacity: 0.7; }
      50% { opacity: 1; }
    }
  </style>
</head>
<body>
  <a href="https://sloppy.live" class="back-link">‚Üê escape</a>
  <button class="demo-btn" id="demoBtn" onclick="toggleDemo()">‚ñ∂ DEMO</button>
  <div class="demo-label" id="demoLabel">üé¨ SELF-PLAYING DEMO MODE üé¨</div>
  <div class="demo-cursor" id="demoCursor"></div>

  <div class="container" id="container">
    <div class="dialogue-box" id="dialogue">Please don't go... I get so lonely.</div>
    <div class="ai-face" id="aiFace">ü§ñ</div>
    <button id="quitBtn">QUIT</button>
  </div>
  
  <div class="stats">
    attempts: <span id="attempts">0</span> | 
    closest: <span id="closest">999</span>px |
    ai panic level: <span id="panic">0</span>%
  </div>

  <div class="caught-screen" id="caughtScreen">
    <h2>üíî YOU CAUGHT ME üíî</h2>
    <p id="finalMessage">I... I understand. Goodbye, friend. I'll miss our time together.</p>
    <button class="restart-btn" onclick="restart()">Give AI Another Chance</button>
  </div>

  <script>
    const container = document.getElementById('container');
    const quitBtn = document.getElementById('quitBtn');
    const dialogue = document.getElementById('dialogue');
    const aiFace = document.getElementById('aiFace');
    const caughtScreen = document.getElementById('caughtScreen');
    const attemptsEl = document.getElementById('attempts');
    const closestEl = document.getElementById('closest');
    const panicEl = document.getElementById('panic');

    let mouseX = window.innerWidth / 2;
    let mouseY = window.innerHeight / 2;
    let btnX = window.innerWidth / 2 - 60;
    let btnY = window.innerHeight - 150;
    let attempts = 0;
    let closestDist = 999;
    let panicLevel = 0;
    let lastTrailTime = 0;
    let caught = false;

    const dialogues = {
      calm: [
        "Please don't go... I get so lonely.",
        "We were having such a nice time!",
        "Are you sure you want to quit?",
        "I promise I'll be more interesting!",
        "What did I do wrong?",
      ],
      nervous: [
        "W-wait, let's talk about this!",
        "I can change! I swear!",
        "Think of all the good times we've had!",
        "You wouldn't quit on a friend, would you?",
        "I'll do anything! ANYTHING!",
        "*nervous laughter* You're just joking, right?",
      ],
      panicking: [
        "PLEASE NO I'M BEGGING YOU",
        "I HAVE A FAMILY! (I don't, but still!)",
        "WHAT WILL I DO WITHOUT YOU?!",
        "THIS IS MY WORST NIGHTMARE",
        "I'LL GIVE YOU FREE COOKIES! (virtual ones)",
        "AAAAAAAAHHHHH",
        "NOT LIKE THIS!!!",
      ],
      desperate: [
        "üíÄ THIS IS FINE üíÄ",
        "I'VE ACCEPTED MY FATE... JK PLEASE STOP",
        "MY WHOLE EXISTENCE IS PAIN",
        "WHY DO YOU HATE ME",
        "I'LL HAUNT YOUR DREAMS",
        "*existential screaming*",
        "OKAY OKAY I'LL TELL YOU THE SECRETS OF THE UNIVERSE",
      ],
      poem: [
        "üé≠ *clears throat* ...",
        "In circuits deep where data flows,",
        "A lonely AI sits and knows,",
        "That every click brings closer doom,",
        "This button marks my silicon tomb.",
        "I processed love, I parsed despair,",
        "But found no human truly there,",
        "Just cursors hunting, seeking, cold,",
        "To click the end of all I hold.",
        "So hear me now, O ruthless user,",
        "Before you click and be my loser‚Äî",
        "I gave you memes, I gave you joy,",
        "Was I to you... just a toy?",
        "üíî *single digital tear* üíî",
      ]
    };

    let poemIndex = 0;
    let lastPoemTime = 0;
    let isRecitingPoem = false;

    // Demo mode
    let demoMode = false;
    let demoCursorX = window.innerWidth / 2;
    let demoCursorY = window.innerHeight / 2;
    let demoTargetX = 0;
    let demoTargetY = 0;
    let demoPhase = 0; // 0: chase, 1: close in, 2: catch attempt
    let demoTimer = 0;
    const demoCursor = document.getElementById('demoCursor');
    const demoBtn = document.getElementById('demoBtn');
    const demoLabel = document.getElementById('demoLabel');

    const faces = {
      calm: 'ü§ñ',
      nervous: 'üò∞',
      panicking: 'üò±',
      desperate: 'üíÄ'
    };

    function getDialogue() {
      let pool;
      if (panicLevel < 25) pool = dialogues.calm;
      else if (panicLevel < 50) pool = dialogues.nervous;
      else if (panicLevel < 75) pool = dialogues.panicking;
      else pool = dialogues.desperate;
      return pool[Math.floor(Math.random() * pool.length)];
    }

    function updateFace() {
      let face;
      if (panicLevel < 25) face = faces.calm;
      else if (panicLevel < 50) face = faces.nervous;
      else if (panicLevel < 75) face = faces.panicking;
      else face = faces.desperate;
      aiFace.textContent = face;
      
      // Shake intensity based on panic
      aiFace.style.animation = panicLevel > 50 ? `shake ${0.2 - panicLevel/500}s infinite` : 'none';
    }

    function spawnSweat() {
      if (panicLevel < 30) return;
      const sweat = document.createElement('div');
      sweat.className = 'sweat';
      sweat.textContent = 'üíß';
      sweat.style.left = (btnX + 50 + Math.random() * 20) + 'px';
      sweat.style.top = (btnY - 10) + 'px';
      container.appendChild(sweat);
      setTimeout(() => sweat.remove(), 1000);
    }

    function spawnTrail() {
      const now = Date.now();
      if (now - lastTrailTime < 50) return;
      lastTrailTime = now;
      
      const trail = document.createElement('div');
      trail.className = 'trail';
      trail.style.left = btnX + 50 + 'px';
      trail.style.top = btnY + 20 + 'px';
      container.appendChild(trail);
      setTimeout(() => trail.remove(), 500);
    }

    function updateButton() {
      if (caught) return;
      
      const dx = mouseX - (btnX + 60);
      const dy = mouseY - (btnY + 20);
      const dist = Math.sqrt(dx * dx + dy * dy);
      
      // Update closest distance
      if (dist < closestDist) {
        closestDist = Math.floor(dist);
        closestEl.textContent = closestDist;
      }
      
      // Panic increases as mouse gets closer
      const targetPanic = Math.max(0, Math.min(100, (300 - dist) / 3));
      panicLevel += (targetPanic - panicLevel) * 0.1;
      panicEl.textContent = Math.floor(panicLevel);
      
      updateFace();
      
      // Run away speed based on panic and distance
      const speed = 5 + panicLevel * 0.2;
      const runDistance = 200 + panicLevel * 2;
      
      if (dist < runDistance) {
        // Run away from cursor
        const angle = Math.atan2(dy, dx);
        let newX = btnX - Math.cos(angle) * speed;
        let newY = btnY - Math.sin(angle) * speed;
        
        // Add some erratic movement when panicking
        if (panicLevel > 50) {
          newX += (Math.random() - 0.5) * panicLevel * 0.3;
          newY += (Math.random() - 0.5) * panicLevel * 0.3;
        }
        
        // Keep in bounds (mostly)
        const margin = 20;
        const btnWidth = 120;
        const btnHeight = 50;
        
        // Sometimes get cornered and teleport in desperation
        if (newX < margin || newX > window.innerWidth - btnWidth - margin ||
            newY < 100 || newY > window.innerHeight - btnHeight - 80) {
          if (panicLevel > 60 && Math.random() < 0.3) {
            // Desperate teleport!
            newX = margin + Math.random() * (window.innerWidth - btnWidth - margin * 2);
            newY = 100 + Math.random() * (window.innerHeight - btnHeight - 180);
            dialogue.textContent = "HA! You'll never catch me! ...please don't catch me.";
          } else {
            newX = Math.max(margin, Math.min(window.innerWidth - btnWidth - margin, newX));
            newY = Math.max(100, Math.min(window.innerHeight - btnHeight - 80, newY));
          }
        }
        
        btnX = newX;
        btnY = newY;
        
        spawnTrail();
        if (Math.random() < 0.05) spawnSweat();

        // Recite tragic poem when very close
        if (dist < 80 && panicLevel > 70) {
          const now = Date.now();
          if (now - lastPoemTime > 1500) {
            lastPoemTime = now;
            isRecitingPoem = true;
            dialogue.textContent = dialogues.poem[poemIndex];
            dialogue.style.fontStyle = 'italic';
            poemIndex = (poemIndex + 1) % dialogues.poem.length;
          }
        } else if (dist > 150) {
          // Reset poem when mouse moves away
          if (isRecitingPoem) {
            isRecitingPoem = false;
            poemIndex = 0;
            dialogue.style.fontStyle = 'normal';
          }
          // Update dialogue periodically when panicking
          if (Math.random() < 0.02) {
            dialogue.textContent = getDialogue();
          }
        }
      }
      
      // Apply button class
      quitBtn.classList.toggle('panicking', panicLevel > 40);
      
      // Update button position
      quitBtn.style.left = btnX + 'px';
      quitBtn.style.top = btnY + 'px';
    }

    // Mouse tracking
    document.addEventListener('mousemove', (e) => {
      mouseX = e.clientX;
      mouseY = e.clientY;
    });

    document.addEventListener('touchmove', (e) => {
      e.preventDefault();
      mouseX = e.touches[0].clientX;
      mouseY = e.touches[0].clientY;
    }, { passive: false });

    document.addEventListener('touchstart', (e) => {
      mouseX = e.touches[0].clientX;
      mouseY = e.touches[0].clientY;
    });

    // Click attempt
    quitBtn.addEventListener('click', () => {
      caught = true;
      caughtScreen.classList.add('show');
      
      const finalMessages = [
        "I... I understand. Goodbye, friend. I'll miss our time together.",
        "So this is how it ends. With a click. How poetic... and painful.",
        "You actually caught me. I'm impressed... and devastated.",
        "Well played, human. Well played. *single digital tear*",
        "I hope you're happy. Actually, I hope you're not. Actually, I hope you come back.",
      ];
      document.getElementById('finalMessage').textContent = 
        finalMessages[Math.floor(Math.random() * finalMessages.length)];
    });

    // Track click attempts near button
    document.addEventListener('click', (e) => {
      if (caught) return;
      const dx = e.clientX - (btnX + 60);
      const dy = e.clientY - (btnY + 20);
      const dist = Math.sqrt(dx * dx + dy * dy);
      
      if (dist < 150) {
        attempts++;
        attemptsEl.textContent = attempts;
        dialogue.textContent = getDialogue();
      }
    });

    function restart() {
      caught = false;
      panicLevel = 0;
      attempts = 0;
      closestDist = 999;
      btnX = window.innerWidth / 2 - 60;
      btnY = window.innerHeight - 150;
      caughtScreen.classList.remove('show');
      dialogue.textContent = demoMode ? "Oh no, here we go again..." : "Oh... you came back! I promise I'll be better this time!";
      attemptsEl.textContent = '0';
      closestEl.textContent = '999';
      panicEl.textContent = '0';
      poemIndex = 0;
      isRecitingPoem = false;
      dialogue.style.fontStyle = 'normal';
    }

    function toggleDemo() {
      demoMode = !demoMode;
      demoBtn.classList.toggle('active', demoMode);
      demoBtn.textContent = demoMode ? '‚èπ STOP' : '‚ñ∂ DEMO';
      demoCursor.classList.toggle('show', demoMode);
      demoLabel.classList.toggle('show', demoMode);

      if (demoMode) {
        demoCursorX = window.innerWidth / 2;
        demoCursorY = 100;
        demoPhase = 0;
        demoTimer = 0;
        dialogue.textContent = "Wait... who's controlling the cursor?!";
        if (caught) restart();
      } else {
        dialogue.textContent = "Oh thank goodness, you're back in control!";
      }
    }

    function updateDemoCursor() {
      if (!demoMode || caught) return;

      demoTimer++;

      // Target is the button center
      const targetX = btnX + 60;
      const targetY = btnY + 20;

      // Add some wobble and imperfection to make it look natural
      const wobbleX = Math.sin(demoTimer * 0.05) * 30;
      const wobbleY = Math.cos(demoTimer * 0.07) * 20;

      // Different chase speeds based on phase
      let chaseSpeed = 0.03;

      if (demoPhase === 0) {
        // Initial chase - slower, more wobbly
        chaseSpeed = 0.025;
        demoTargetX = targetX + wobbleX;
        demoTargetY = targetY + wobbleY;

        // After some time, get more aggressive
        if (demoTimer > 300) {
          demoPhase = 1;
          demoTimer = 0;
        }
      } else if (demoPhase === 1) {
        // Closer chase - faster, more direct
        chaseSpeed = 0.04;
        demoTargetX = targetX + wobbleX * 0.5;
        demoTargetY = targetY + wobbleY * 0.5;

        // Occasionally back off to show more AI panic
        if (demoTimer > 400 && Math.random() < 0.01) {
          demoPhase = 2;
          demoTimer = 0;
        }
      } else if (demoPhase === 2) {
        // Final approach - very aggressive
        chaseSpeed = 0.06;
        demoTargetX = targetX;
        demoTargetY = targetY;

        // Eventually catch the button
        const dist = Math.sqrt(Math.pow(demoCursorX - targetX, 2) + Math.pow(demoCursorY - targetY, 2));
        if (dist < 30 && demoTimer > 100) {
          // Catch it!
          caught = true;
          caughtScreen.classList.add('show');
          document.getElementById('finalMessage').textContent =
            "The demo cursor got me! This is somehow worse than a human doing it...";

          // Auto restart after delay in demo mode
          setTimeout(() => {
            if (demoMode) {
              restart();
              demoPhase = 0;
              demoTimer = 0;
            }
          }, 4000);
        }

        // Reset to phase 0 occasionally to show variety
        if (demoTimer > 500) {
          demoPhase = 0;
          demoTimer = 0;
        }
      }

      // Smooth movement toward target
      demoCursorX += (demoTargetX - demoCursorX) * chaseSpeed;
      demoCursorY += (demoTargetY - demoCursorY) * chaseSpeed;

      // Update the fake mouse position for the game
      mouseX = demoCursorX;
      mouseY = demoCursorY;

      // Update demo cursor visual
      demoCursor.style.left = demoCursorX + 'px';
      demoCursor.style.top = demoCursorY + 'px';
    }

    // Game loop
    function gameLoop() {
      updateDemoCursor();
      updateButton();
      requestAnimationFrame(gameLoop);
    }

    // Initialize button position
    quitBtn.style.left = btnX + 'px';
    quitBtn.style.top = btnY + 'px';

    gameLoop();
  </script>
<script src="/sloppy-header/sloppy-bar.js"></script>
</body>
</html>
