<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sakura Hearts ¬∑ Anime Dating Simulator</title>
  <meta name="description" content="Choose your path through Sakura Hearts, a cozy anime dating simulator where every choice sparks a different connection." />
  <meta property="og:title" content="Sakura Hearts ¬∑ Anime Dating Simulator" />
  <meta property="og:description" content="Choose your path through Sakura Hearts, a cozy anime dating simulator where every choice sparks a different connection." />
  <meta property="og:url" content="https://app.vibecodedbyx.com/anime-dating-sim/" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCAxMjAwIDYzMCc+CiAgPGRlZnM+CiAgICA8bGluZWFyR3JhZGllbnQgaWQ9J2cnIHgxPScwJyB5MT0nMCcgeDI9JzEnIHkyPScxJz4KICAgICAgPHN0b3Agb2Zmc2V0PScwJScgc3RvcC1jb2xvcj0nI2ZmOWFlNicvPgogICAgICA8c3RvcCBvZmZzZXQ9JzEwMCUnIHN0b3AtY29sb3I9JyM4YTVjZmYnLz4KICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgPC9kZWZzPgogIDxyZWN0IHdpZHRoPScxMjAwJyBoZWlnaHQ9JzYzMCcgZmlsbD0ndXJsKCNnKScvPgogIDx0ZXh0IHg9JzUwJScgeT0nNDAlJyB0ZXh0LWFuY2hvcj0nbWlkZGxlJyBmb250LXNpemU9Jzk2JyBmaWxsPScjZmZmZmZmJz7wn4y4IFNha3VyYSBIZWFydHM8L3RleHQ+CiAgPHRleHQgeD0nNTAlJyB5PSc2MCUnIHRleHQtYW5jaG9yPSdtaWRkbGUnIGZvbnQtc2l6ZT0nNDgnIGZpbGw9JyNmZmZmZmYnPkFuaW1lIERhdGluZyBTaW11bGF0b3I8L3RleHQ+Cjwvc3ZnPg==" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Sakura Hearts ¬∑ Anime Dating Simulator" />
  <meta name="twitter:description" content="Choose your path through Sakura Hearts, a cozy anime dating simulator where every choice sparks a different connection." />
  <meta name="twitter:image" content="data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCAxMjAwIDYzMCc+CiAgPGRlZnM+CiAgICA8bGluZWFyR3JhZGllbnQgaWQ9J2cnIHgxPScwJyB5MT0nMCcgeDI9JzEnIHkyPScxJz4KICAgICAgPHN0b3Agb2Zmc2V0PScwJScgc3RvcC1jb2xvcj0nI2ZmOWFlNicvPgogICAgICA8c3RvcCBvZmZzZXQ9JzEwMCUnIHN0b3AtY29sb3I9JyM4YTVjZmYnLz4KICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgPC9kZWZzPgogIDxyZWN0IHdpZHRoPScxMjAwJyBoZWlnaHQ9JzYzMCcgZmlsbD0ndXJsKCNnKScvPgogIDx0ZXh0IHg9JzUwJScgeT0nNDAlJyB0ZXh0LWFuY2hvcj0nbWlkZGxlJyBmb250LXNpemU9Jzk2JyBmaWxsPScjZmZmZmZmJz7wn4y4IFNha3VyYSBIZWFydHM8L3RleHQ+CiAgPHRleHQgeD0nNTAlJyB5PSc2MCUnIHRleHQtYW5jaG9yPSdtaWRkbGUnIGZvbnQtc2l6ZT0nNDgnIGZpbGw9JyNmZmZmZmYnPkFuaW1lIERhdGluZyBTaW11bGF0b3I8L3RleHQ+Cjwvc3ZnPg==" />
  <link rel="icon" href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCAxMDAgMTAwJz4KICA8dGV4dCB4PSc1MCUnIHk9JzYwJScgZm9udC1zaXplPSc2MCcgdGV4dC1hbmNob3I9J21pZGRsZSc+8J+MuDwvdGV4dD4KPC9zdmc+" />
  <style>
    :root {
      color-scheme: light dark;
      font-family: "Inter", "Segoe UI", system-ui, sans-serif;
      --bg: #15061d;
      --card: rgba(255, 255, 255, 0.12);
      --text: #ffffff;
      --accent: #ff8ed6;
      --accent-strong: #ffd166;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      min-height: 100vh;
      background: radial-gradient(circle at top, #35134c, #15061d 45%);
      color: var(--text);
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 24px 16px 64px;
    }

    header {
      text-align: center;
      max-width: 680px;
    }

    header h1 {
      font-size: clamp(2.5rem, 6vw, 3.5rem);
      margin-bottom: 0.25em;
    }

    header p {
      margin: 0 0 0.5em;
      font-size: clamp(1rem, 2.5vw, 1.25rem);
      color: rgba(255, 255, 255, 0.8);
    }

    header a {
      color: var(--accent-strong);
      text-decoration: none;
      font-weight: 600;
    }

    main {
      width: min(960px, 100%);
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 20px;
      margin-top: 32px;
    }

    .panel {
      background: var(--card);
      backdrop-filter: blur(16px);
      border: 1px solid rgba(255, 255, 255, 0.15);
      border-radius: 22px;
      padding: 24px;
      box-shadow: 0 18px 40px rgba(15, 5, 24, 0.4);
      transition: transform 0.2s ease, border-color 0.2s ease;
    }

    .panel:hover {
      transform: translateY(-4px);
      border-color: rgba(255, 255, 255, 0.3);
    }

    .characters {
      display: grid;
      gap: 16px;
    }

    .character-card {
      display: grid;
      grid-template-columns: 64px 1fr;
      gap: 16px;
      align-items: center;
      padding: 16px;
      border-radius: 18px;
      background: rgba(255, 255, 255, 0.08);
    }

    .character-card strong {
      font-size: 1.1rem;
    }

    .character-card span {
      font-size: 2.5rem;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .story {
      grid-column: 1 / -1;
      display: grid;
      gap: 18px;
    }

    .story h2 {
      margin: 0;
      font-size: clamp(1.5rem, 5vw, 2rem);
    }

    .story p {
      margin: 0;
      line-height: 1.5;
      color: rgba(255, 255, 255, 0.9);
    }

    .choices {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .choices button {
      all: unset;
      padding: 16px;
      border-radius: 14px;
      background: rgba(255, 255, 255, 0.13);
      border: 1px solid transparent;
      cursor: pointer;
      font-weight: 600;
      transition: transform 0.15s ease, border-color 0.2s ease, background 0.2s ease;
    }

    .choices button:hover,
    .choices button:focus-visible {
      border-color: rgba(255, 255, 255, 0.45);
      background: rgba(255, 255, 255, 0.18);
      transform: translateY(-2px);
    }

    .choices button:active {
      transform: translateY(1px);
    }

    .status {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      font-size: 0.95rem;
      color: rgba(255, 255, 255, 0.7);
    }

    .status span {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 6px 10px;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.08);
    }

    .controls {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
    }

    .controls button {
      all: unset;
      padding: 12px 18px;
      border-radius: 14px;
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.25);
      cursor: pointer;
      font-weight: 600;
      transition: transform 0.15s ease, background 0.2s ease;
    }

    .controls button:hover,
    .controls button:focus-visible {
      background: rgba(255, 255, 255, 0.2);
    }

    .log {
      max-height: 240px;
      overflow-y: auto;
      display: grid;
      gap: 12px;
      padding-right: 4px;
      scrollbar-width: thin;
    }

    .log-entry {
      padding: 12px;
      border-radius: 14px;
      background: rgba(255, 255, 255, 0.08);
      font-size: 0.95rem;
      line-height: 1.4;
    }

    @media (max-width: 720px) {
      body {
        padding: 16px 12px 48px;
      }

      main {
        margin-top: 24px;
      }

      .panel {
        padding: 20px;
      }

      .status {
        flex-direction: column;
        align-items: stretch;
      }
    }
  </style>
</head>
<body>
  <header>
    <h1>üå∏ Sakura Hearts</h1>
    <p>Welcome to the most chaotic (but kinda wholesome) anime dating sim built live for chat. Choose wisely‚Äîthe petals remember everything.</p>
    <p><a href="https://www.vibecodedbyx.com" target="_blank" rel="noopener">Watch the livestream</a></p>
  </header>

  <main>
    <section class="panel characters" aria-label="Character roster">
      <div class="character-card" data-character="yumi">
        <span>üéÄ</span>
        <div>
          <strong>Yumi Tanaka</strong>
          <p>Student council prodigy with a soft spot for bubble tea and dramatic sunsets.</p>
          <small class="affection" data-meter="yumi">Affection: 0</small>
        </div>
      </div>
      <div class="character-card" data-character="kai">
        <span>üéß</span>
        <div>
          <strong>Kai Ishikawa</strong>
          <p>Lo-fi DJ whose playlists heal stress. Rumor says he smiles when no one‚Äôs looking.</p>
          <small class="affection" data-meter="kai">Affection: 0</small>
        </div>
      </div>
      <div class="character-card" data-character="mei">
        <span>üñåÔ∏è</span>
        <div>
          <strong>Mei Aoyama</strong>
          <p>Art club visionary painting the future. Finds inspiration in rebellious hearts.</p>
          <small class="affection" data-meter="mei">Affection: 0</small>
        </div>
      </div>
    </section>

    <section class="panel story" aria-live="polite">
      <div>
        <h2 id="scene-title">Day 1 ¬∑ Transfer Vibes</h2>
        <p id="scene-text">Your first morning at Sakura Academy smells like cherry blossoms and anticipation. Chat is screaming. Who do you notice first?</p>
      </div>
      <div class="choices" id="choice-list" role="group" aria-labelledby="scene-title"></div>
      <div class="status" id="status-bar">
        <span id="day-status">Day: 1</span>
        <span id="mood-status">Chat mood: chaotic but hyped</span>
      </div>
      <div class="controls">
        <button type="button" id="share-button">Share story</button>
        <button type="button" id="reset-button">Start over</button>
      </div>
    </section>

    <section class="panel log" aria-live="polite" aria-label="Choice log" id="log"></section>
  </main>

  <template id="choice-template">
    <button type="button"></button>
  </template>

  <template id="log-template">
    <div class="log-entry"></div>
  </template>

  <script>
    const state = {
      day: 1,
      sceneIndex: 0,
      affection: {
        yumi: 0,
        kai: 0,
        mei: 0,
      },
      log: [],
    };

    const scenes = [
      {
        title: "Day 1 ¬∑ Transfer Vibes",
        text: "Your first morning at Sakura Academy smells like cherry blossoms and anticipation. Chat is screaming. Who do you notice first?",
        mood: "chaotic but hyped",
        choices: [
          {
            text: "Slide into the student council room with Yumi.",
            affection: { yumi: 2 },
            log: "You compliment Yumi's perfectly curated planner. She blushes‚Äîjust a little.",
          },
          {
            text: "Follow the bassline to Kai's rooftop set.",
            affection: { kai: 2 },
            log: "Kai nods as you catch the beat. Chat instantly ships it.",
          },
          {
            text: "Wander into the art studio where Mei crafts cosmic murals.",
            affection: { mei: 2 },
            log: "Mei hands you a spare brush. Paint splatters; chemistry happens.",
          },
        ],
      },
      {
        title: "Day 2 ¬∑ Festival Planning Arc",
        text: "The Spring Festival needs a headliner. Whoever you back will shine‚Äîand remember your support.",
        mood: "bubbly with a side of stress",
        choices: [
          {
            text: "Help Yumi choreograph a surprise performance.",
            affection: { yumi: 3 },
            log: "You rehearse until sunset. Yumi's thank-you bow lingers a beat longer than normal.",
          },
          {
            text: "Drop a collab beat with Kai and remix the school anthem.",
            affection: { kai: 3 },
            log: "Kai lets you choose the final drop. It's a vibe and the chat pogs in unison.",
          },
          {
            text: "Assist Mei in painting a glow-in-the-dark mural for the stage backdrop.",
            affection: { mei: 3 },
            log: "Glitter ends up everywhere. Mei laughs so hard her eyeliner smudges‚Äîand she doesn't mind.",
          },
        ],
      },
      {
        title: "Day 3 ¬∑ Confession Fireworks",
        text: "Finale night. Fireworks above, petals below. Who gets your heart?",
        mood: "romantic cliffhanger energy",
        choices: [
          {
            text: "Confess to Yumi under the lantern arch.",
            affection: { yumi: 5 },
            ending: "Yumi flips to a page in her planner titled 'Us'. She says yes‚Äîefficiently and adorably.",
          },
          {
            text: "Give Kai the limited-edition vinyl you scored.",
            affection: { kai: 5 },
            ending: "Kai takes off his headphones so you hear him say it‚Äîhis heart beats for you.",
          },
          {
            text: "Surprise Mei with a joint canvas that completes her masterpiece.",
            affection: { mei: 5 },
            ending: "Mei paints a tiny heart in the corner and labels it with both your initials.",
          },
        ],
      },
    ];

    const affectionMeters = document.querySelectorAll("[data-meter]");
    const choiceList = document.getElementById("choice-list");
    const sceneTitle = document.getElementById("scene-title");
    const sceneText = document.getElementById("scene-text");
    const moodStatus = document.getElementById("mood-status");
    const dayStatus = document.getElementById("day-status");
    const logContainer = document.getElementById("log");
    const choiceTemplate = document.getElementById("choice-template");
    const logTemplate = document.getElementById("log-template");
    const shareButton = document.getElementById("share-button");
    const resetButton = document.getElementById("reset-button");

    const stored = localStorage.getItem("sakura-hearts-state");
    if (stored) {
      try {
        const saved = JSON.parse(stored);
        Object.assign(state, saved);
      } catch (error) {
        console.error("Failed to load saved state", error);
        localStorage.removeItem("sakura-hearts-state");
      }
    }

    function saveState() {
      const toSave = {
        day: state.day,
        sceneIndex: state.sceneIndex,
        affection: state.affection,
        log: state.log.slice(-25),
      };
      localStorage.setItem("sakura-hearts-state", JSON.stringify(toSave));
    }

    function updateAffectionMeters() {
      affectionMeters.forEach((meter) => {
        const key = meter.dataset.meter;
        meter.textContent = `Affection: ${state.affection[key]}`;
      });
    }

    function renderScene() {
      const scene = scenes[state.sceneIndex];
      sceneTitle.textContent = scene.title;
      sceneText.textContent = scene.text;
      choiceList.innerHTML = "";
      moodStatus.textContent = `Chat mood: ${scene.mood}`;
      dayStatus.textContent = `Day: ${state.day}`;

      scene.choices.forEach((choice) => {
        const choiceNode = choiceTemplate.content.firstElementChild.cloneNode(true);
        choiceNode.textContent = choice.text;
        choiceNode.addEventListener("click", () => handleChoice(choice));
        choiceList.append(choiceNode);
      });

      renderLog();
      updateAffectionMeters();
      saveState();
    }

    function renderLog() {
      logContainer.innerHTML = "";
      state.log.slice(-12).forEach((entry) => {
        const logNode = logTemplate.content.firstElementChild.cloneNode(true);
        logNode.textContent = entry;
        logContainer.append(logNode);
      });
      logContainer.scrollTop = logContainer.scrollHeight;
    }

    function handleChoice(choice) {
      Object.entries(choice.affection || {}).forEach(([key, value]) => {
        state.affection[key] = (state.affection[key] || 0) + value;
      });

      const scene = scenes[state.sceneIndex];
      const entry = `${scene.title}: ${choice.log || "A mysterious choice was made."}`;
      state.log.push(entry);

      if (choice.ending) {
        conclude(choice);
        return;
      }

      if (state.sceneIndex < scenes.length - 1) {
        state.sceneIndex += 1;
        state.day += 1;
        renderScene();
      }
    }

    function conclude(choice) {
      const affectionEntries = Object.entries(state.affection);
      const strongest = affectionEntries.sort((a, b) => b[1] - a[1])[0];
      const [winnerKey] = strongest;
      const endingText = choice.ending ?? "The petals fall, but the future is unwritten.";

      sceneTitle.textContent = "Finale ¬∑ Fireworks of Fate";
      sceneText.textContent = endingText;
      moodStatus.textContent = "Chat mood: absolutely losing it";
      dayStatus.textContent = `Day: ${state.day}`;
      choiceList.innerHTML = "";

      const wrapUp = document.createElement("div");
      wrapUp.className = "choices";
      wrapUp.innerHTML = `
        <div class="log-entry">
          <strong>Most affection:</strong> ${formatName(winnerKey)} with ${state.affection[winnerKey]} pts.\nKeep playing to unlock the other endings!
        </div>
      `;
      choiceList.append(wrapUp);

      state.sceneIndex = scenes.length - 1;
      state.log.push(`Final ending unlocked with ${formatName(winnerKey)}.`);
      saveState();
    }

    function formatName(key) {
      switch (key) {
        case "yumi":
          return "Yumi";
        case "kai":
          return "Kai";
        case "mei":
          return "Mei";
        default:
          return "Someone unexpected";
      }
    }

    function resetGame() {
      state.day = 1;
      state.sceneIndex = 0;
      state.affection = { yumi: 0, kai: 0, mei: 0 };
      state.log = [];
      saveState();
      renderScene();
    }

    shareButton.addEventListener("click", async () => {
      const winner = Object.entries(state.affection).sort((a, b) => b[1] - a[1])[0];
      const [key, value] = winner;
      const shareData = {
        title: "Sakura Hearts",
        text: `I just got ${formatName(key)} to ${value} affection in Sakura Hearts! Can you beat it?`,
        url: window.location.href,
      };

      if (navigator.share) {
        try {
          await navigator.share(shareData);
        } catch (error) {
          console.warn("Share cancelled", error);
        }
      } else {
        navigator.clipboard?.writeText(`${shareData.text} ${shareData.url}`)
          .then(() => alert("Link copied! Send it to your best wingperson."))
          .catch(() => alert("Couldn't share automatically. Drop the link manually!"));
      }
    });

    resetButton.addEventListener("click", () => {
      if (confirm("Reset your Sakura Hearts story?")) {
        resetGame();
      }
    });

    renderScene();
  </script>
</body>
</html>
