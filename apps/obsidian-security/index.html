<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Captain's Command - Ship Defense Dashboard</title>
  <link rel="icon" href="https://emojicdn.elk.sh/üè¥‚Äç‚ò†Ô∏è">
  <meta property="og:title" content="Captain's Command">
  <meta property="og:description" content="Impenetrable ship defense dashboard">
  <meta property="og:url" content="https://sloppy.live/obsidian-security">
  <meta property="og:image" content="https://sloppy.live/obsidian-security/og-image.png">
  <link href="https://fonts.googleapis.com/css2?family=Pirate+One&family=IM+Fell+English+SC&display=swap" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    :root {
      --hull: #1a0f0a;
      --hull-light: #2a1810;
      --hull-edge: #3d2817;
      --gold: #d4a84b;
      --ocean: #2e86ab;
      --blood: #c0392b;
      --emerald: #27ae60;
      --amber: #e67e22;
    }

    body {
      background: var(--hull);
      color: #e8d4a8;
      font-family: 'IM Fell English SC', serif;
      min-height: 100vh;
      overflow-x: hidden;
    }

    .wood-texture {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background-image: repeating-linear-gradient(
        90deg,
        rgba(139, 90, 43, 0.08) 0px,
        rgba(139, 90, 43, 0.04) 2px,
        transparent 2px,
        transparent 30px
      );
      pointer-events: none;
      z-index: 0;
    }

    header {
      background: linear-gradient(180deg, var(--hull-light) 0%, transparent 100%);
      border-bottom: 2px solid var(--hull-edge);
      padding: 20px 30px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: relative;
      z-index: 10;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .logo-icon {
      font-size: 40px;
      filter: drop-shadow(0 0 10px rgba(212, 168, 75, 0.5));
      animation: sway 3s ease-in-out infinite;
    }

    @keyframes sway {
      0%, 100% { transform: rotate(-5deg); }
      50% { transform: rotate(5deg); }
    }

    .logo h1 {
      font-family: 'Pirate One', cursive;
      font-size: 32px;
      color: var(--gold);
      text-shadow: 3px 3px 0 #2a1810, 0 0 20px rgba(212, 168, 75, 0.5);
      letter-spacing: 2px;
    }

    .status-indicator {
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 14px;
      color: var(--emerald);
    }

    .status-dot {
      width: 12px;
      height: 12px;
      background: var(--emerald);
      border-radius: 50%;
      box-shadow: 0 0 15px var(--emerald);
      animation: lantern 1.5s ease-in-out infinite;
    }

    @keyframes lantern {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    main {
      padding: 30px;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 25px;
      position: relative;
      z-index: 5;
    }

    .panel {
      background: linear-gradient(135deg, var(--hull-light) 0%, var(--hull) 100%);
      border: 2px solid var(--hull-edge);
      border-radius: 8px;
      padding: 25px;
      position: relative;
      overflow: hidden;
      box-shadow: inset 0 0 30px rgba(0, 0, 0, 0.3);
    }

    .panel::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: linear-gradient(90deg, transparent, var(--gold), transparent);
    }

    .panel-title {
      font-family: 'Pirate One', cursive;
      font-size: 14px;
      letter-spacing: 2px;
      color: var(--gold);
      margin-bottom: 20px;
      text-transform: uppercase;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .panel-title::before {
      content: '‚öì';
      font-size: 12px;
    }

    .armor-ring {
      width: 200px;
      height: 200px;
      margin: 0 auto;
      position: relative;
    }

    .armor-ring svg {
      width: 100%;
      height: 100%;
      transform: rotate(-90deg);
    }

    .armor-bg {
      fill: none;
      stroke: var(--hull-edge);
      stroke-width: 12;
    }

    .armor-fill {
      fill: none;
      stroke: url(#armor-gradient);
      stroke-width: 12;
      stroke-linecap: round;
      stroke-dasharray: 502;
      stroke-dashoffset: 25;
      filter: drop-shadow(0 0 10px var(--gold));
      animation: armor-load 2s ease-out forwards;
    }

    @keyframes armor-load {
      from { stroke-dashoffset: 502; }
      to { stroke-dashoffset: 25; }
    }

    .armor-center {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      text-align: center;
    }

    .armor-percent {
      font-family: 'Pirate One', cursive;
      font-size: 48px;
      color: var(--gold);
      text-shadow: 0 0 15px rgba(212, 168, 75, 0.5);
    }

    .armor-label {
      font-size: 12px;
      color: #8b7355;
      letter-spacing: 2px;
    }

    .threat-grid {
      display: grid;
      grid-template-columns: repeat(8, 1fr);
      gap: 4px;
    }

    .threat-cell {
      aspect-ratio: 1;
      background: var(--hull-edge);
      border-radius: 2px;
      transition: all 0.3s;
    }

    .threat-cell.active {
      background: var(--emerald);
      box-shadow: 0 0 8px var(--emerald);
    }

    .threat-cell.warning {
      background: var(--amber);
      box-shadow: 0 0 8px var(--amber);
      animation: threat-pulse 0.5s ease-in-out infinite;
    }

    .threat-cell.danger {
      background: var(--blood);
      box-shadow: 0 0 8px var(--blood);
      animation: threat-pulse 0.3s ease-in-out infinite;
    }

    @keyframes threat-pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    .threat-legend {
      display: flex;
      justify-content: space-between;
      margin-top: 15px;
      font-size: 11px;
      color: #8b7355;
    }

    .metric {
      margin-bottom: 20px;
    }

    .metric:last-child {
      margin-bottom: 0;
    }

    .metric-header {
      display: flex;
      justify-content: space-between;
      margin-bottom: 8px;
      font-size: 13px;
    }

    .metric-name {
      color: #8b7355;
    }

    .metric-value {
      color: var(--gold);
    }

    .metric-bar {
      height: 8px;
      background: var(--hull-edge);
      border-radius: 4px;
      overflow: hidden;
    }

    .metric-fill {
      height: 100%;
      border-radius: 4px;
      transition: width 1s ease-out;
    }

    .metric-fill.gold { background: var(--gold); box-shadow: 0 0 8px var(--gold); }
    .metric-fill.ocean { background: var(--ocean); box-shadow: 0 0 8px var(--ocean); }
    .metric-fill.emerald { background: var(--emerald); box-shadow: 0 0 8px var(--emerald); }
    .metric-fill.blood { background: var(--blood); box-shadow: 0 0 8px var(--blood); }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 15px;
    }

    .stat-box {
      background: var(--hull);
      border: 1px solid var(--hull-edge);
      border-radius: 6px;
      padding: 15px;
      text-align: center;
    }

    .stat-value {
      font-family: 'Pirate One', cursive;
      font-size: 28px;
      color: var(--gold);
      text-shadow: 0 0 10px rgba(212, 168, 75, 0.5);
    }

    .stat-value.emerald { color: var(--emerald); text-shadow: 0 0 10px var(--emerald); }
    .stat-value.blood { color: var(--blood); text-shadow: 0 0 10px var(--blood); }
    .stat-value.ocean { color: var(--ocean); text-shadow: 0 0 10px var(--ocean); }

    .stat-label {
      font-size: 10px;
      color: #8b7355;
      letter-spacing: 1px;
      margin-top: 5px;
    }

    .activity-list {
      max-height: 250px;
      overflow-y: auto;
    }

    .activity-list::-webkit-scrollbar {
      width: 4px;
    }

    .activity-list::-webkit-scrollbar-track {
      background: var(--hull-edge);
    }

    .activity-list::-webkit-scrollbar-thumb {
      background: var(--gold);
      border-radius: 2px;
    }

    .activity-item {
      display: flex;
      gap: 12px;
      padding: 12px 0;
      border-bottom: 1px solid var(--hull-edge);
      font-size: 13px;
      animation: fade-in 0.5s ease-out;
    }

    @keyframes fade-in {
      from { opacity: 0; transform: translateX(-10px); }
      to { opacity: 1; transform: translateX(0); }
    }

    .activity-icon {
      width: 32px;
      height: 32px;
      border-radius: 6px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 16px;
      flex-shrink: 0;
    }

    .activity-icon.blocked {
      background: rgba(192, 57, 43, 0.2);
    }

    .activity-icon.allowed {
      background: rgba(39, 174, 96, 0.2);
    }

    .activity-icon.scan {
      background: rgba(212, 168, 75, 0.2);
    }

    .activity-text {
      flex: 1;
    }

    .activity-title {
      color: #e8d4a8;
      margin-bottom: 3px;
    }

    .activity-time {
      font-size: 11px;
      color: #5c3a1e;
    }

    .ship-log {
      font-size: 12px;
      color: var(--gold);
      background: var(--hull);
      padding: 15px;
      border-radius: 4px;
      height: 120px;
      overflow: hidden;
      line-height: 1.8;
      font-style: italic;
    }

    .cursor-blink {
      animation: blink 0.5s step-end infinite;
    }

    @keyframes blink {
      50% { opacity: 0; }
    }

    .network-canvas {
      width: 100%;
      height: 200px;
      background: var(--hull);
      border-radius: 4px;
    }

    footer {
      text-align: center;
      padding: 20px;
      position: relative;
      z-index: 5;
    }

    footer a {
      color: #5c3a1e;
      text-decoration: none;
      font-size: 12px;
    }

    footer a:hover {
      color: var(--gold);
    }

    @media (max-width: 768px) {
      main {
        padding: 15px;
        gap: 15px;
      }

      header {
        flex-direction: column;
        gap: 15px;
        text-align: center;
      }

      .logo h1 {
        font-size: 24px;
      }

      .armor-ring {
        width: 150px;
        height: 150px;
      }

      .armor-percent {
        font-size: 36px;
      }
    }
  </style>
</head>
<body>
  <div class="wood-texture"></div>

  <header>
    <div class="logo">
      <div class="logo-icon">üè¥‚Äç‚ò†Ô∏è</div>
      <h1>CAPTAIN'S COMMAND</h1>
    </div>
    <div class="status-indicator">
      <div class="status-dot"></div>
      <span>SHIP SECURE</span>
    </div>
  </header>

  <main>
    <div class="panel">
      <div class="panel-title">Hull Integrity</div>
      <div class="armor-ring">
        <svg viewBox="0 0 180 180">
          <defs>
            <linearGradient id="armor-gradient" x1="0%" y1="0%" x2="100%" y2="0%">
              <stop offset="0%" stop-color="#2e86ab"/>
              <stop offset="50%" stop-color="#d4a84b"/>
              <stop offset="100%" stop-color="#27ae60"/>
            </linearGradient>
          </defs>
          <circle class="armor-bg" cx="90" cy="90" r="80"/>
          <circle class="armor-fill" cx="90" cy="90" r="80"/>
        </svg>
        <div class="armor-center">
          <div class="armor-percent" id="armor-value">95</div>
          <div class="armor-label">SEAWORTHY</div>
        </div>
      </div>
    </div>

    <div class="panel">
      <div class="panel-title">Sea Watch</div>
      <div class="threat-grid" id="threat-grid"></div>
      <div class="threat-legend">
        <span>‚óè CLEAR SEAS</span>
        <span>‚óè SHIP SPOTTED</span>
        <span>‚óè ENEMY VESSEL</span>
      </div>
    </div>

    <div class="panel">
      <div class="panel-title">Ship Status</div>
      <div class="metric">
        <div class="metric-header">
          <span class="metric-name">Cannon Power</span>
          <span class="metric-value" id="firewall-val">98%</span>
        </div>
        <div class="metric-bar">
          <div class="metric-fill gold" id="firewall-bar" style="width: 98%"></div>
        </div>
      </div>
      <div class="metric">
        <div class="metric-header">
          <span class="metric-name">Rum Supplies</span>
          <span class="metric-value">FULL</span>
        </div>
        <div class="metric-bar">
          <div class="metric-fill emerald" style="width: 100%"></div>
        </div>
      </div>
      <div class="metric">
        <div class="metric-header">
          <span class="metric-name">Crow's Nest Watch</span>
          <span class="metric-value">VIGILANT</span>
        </div>
        <div class="metric-bar">
          <div class="metric-fill ocean" style="width: 92%"></div>
        </div>
      </div>
      <div class="metric">
        <div class="metric-header">
          <span class="metric-name">Treasure Hold</span>
          <span class="metric-value">OVERFLOWING</span>
        </div>
        <div class="metric-bar">
          <div class="metric-fill gold" style="width: 100%"></div>
        </div>
      </div>
    </div>

    <div class="panel">
      <div class="panel-title">Voyage Statistics</div>
      <div class="stats-grid">
        <div class="stat-box">
          <div class="stat-value" id="blocked-count">2,847</div>
          <div class="stat-label">SHIPS PLUNDERED</div>
        </div>
        <div class="stat-box">
          <div class="stat-value emerald" id="scans-count">12,459</div>
          <div class="stat-label">LEAGUES SAILED</div>
        </div>
        <div class="stat-box">
          <div class="stat-value blood">0</div>
          <div class="stat-label">MUTINIES</div>
        </div>
        <div class="stat-box">
          <div class="stat-value ocean">99.97%</div>
          <div class="stat-label">CREW LOYALTY</div>
        </div>
      </div>
    </div>

    <div class="panel">
      <div class="panel-title">Captain's Log</div>
      <div class="activity-list" id="activity-list"></div>
    </div>

    <div class="panel">
      <div class="panel-title">Treasure Coordinates</div>
      <div class="ship-log" id="coords-display"></div>
    </div>

    <div class="panel" style="grid-column: span 2;">
      <div class="panel-title">Fleet Positions</div>
      <canvas class="network-canvas" id="network-canvas"></canvas>
    </div>
  </main>

  <footer>
    <a href="https://sloppy.live">sloppy.live</a>
  </footer>

  <script>
    const threatGrid = document.getElementById('threat-grid');
    const threatCells = [];

    for (let i = 0; i < 64; i++) {
      const cell = document.createElement('div');
      cell.className = 'threat-cell';
      threatGrid.appendChild(cell);
      threatCells.push(cell);
    }

    function updateThreatMatrix() {
      threatCells.forEach(cell => {
        const rand = Math.random();
        cell.className = 'threat-cell';
        if (rand > 0.3) cell.classList.add('active');
        else if (rand > 0.1) cell.classList.add('warning');
        else if (rand > 0.02) cell.classList.add('danger');
      });
    }

    updateThreatMatrix();
    setInterval(updateThreatMatrix, 2000);

    const activities = [
      { type: 'blocked', icon: '‚öîÔ∏è', title: 'Repelled boarding party from The Black Pearl' },
      { type: 'scan', icon: 'üî≠', title: 'Horizon scanned - all clear' },
      { type: 'blocked', icon: 'üí£', title: 'Enemy cannonball deflected' },
      { type: 'allowed', icon: 'üç∫', title: 'Crew morale boosted with rum ration' },
      { type: 'blocked', icon: 'ü¶ë', title: 'Kraken tentacle spotted and avoided' },
      { type: 'scan', icon: 'üó∫Ô∏è', title: 'New treasure coordinates acquired' },
      { type: 'blocked', icon: '‚ò†Ô∏è', title: 'Navy vessel outmaneuvered' },
      { type: 'allowed', icon: '‚öì', title: 'Safe harbor located' },
      { type: 'scan', icon: 'üè¥‚Äç‚ò†Ô∏è', title: 'Jolly Roger raised - intimidation successful' },
      { type: 'blocked', icon: 'üåä', title: 'Rogue wave navigated' }
    ];

    const activityList = document.getElementById('activity-list');
    let activityIndex = 0;

    function addActivity() {
      const activity = activities[activityIndex % activities.length];

      const item = document.createElement('div');
      item.className = 'activity-item';
      item.innerHTML = `
        <div class="activity-icon ${activity.type}">${activity.icon}</div>
        <div class="activity-text">
          <div class="activity-title">${activity.title}</div>
          <div class="activity-time">${new Date().toLocaleTimeString()}</div>
        </div>
      `;

      activityList.insertBefore(item, activityList.firstChild);

      if (activityList.children.length > 10) {
        activityList.removeChild(activityList.lastChild);
      }

      activityIndex++;
    }

    addActivity();
    addActivity();
    addActivity();
    setInterval(addActivity, 4000);

    const coordsDisplay = document.getElementById('coords-display');
    const directions = ['N', 'S', 'E', 'W', 'NE', 'NW', 'SE', 'SW'];

    function updateCoords() {
      let text = '';
      for (let i = 0; i < 5; i++) {
        const lat = (Math.random() * 90).toFixed(4);
        const lng = (Math.random() * 180).toFixed(4);
        const dir1 = directions[Math.floor(Math.random() * 2)];
        const dir2 = directions[2 + Math.floor(Math.random() * 2)];
        text += `${lat}¬∞ ${dir1}, ${lng}¬∞ ${dir2}\n`;
      }
      coordsDisplay.innerHTML = text + '<span class="cursor-blink">‚ñå</span>';
    }

    updateCoords();
    setInterval(updateCoords, 3000);

    const networkCanvas = document.getElementById('network-canvas');
    const ctx = networkCanvas.getContext('2d');

    function resizeNetwork() {
      networkCanvas.width = networkCanvas.offsetWidth * 2;
      networkCanvas.height = networkCanvas.offsetHeight * 2;
    }
    resizeNetwork();
    window.addEventListener('resize', resizeNetwork);

    const ships = [];
    const flagshipPos = { x: 0.5, y: 0.5 };

    for (let i = 0; i < 8; i++) {
      const angle = (i / 8) * Math.PI * 2;
      const dist = 0.2 + Math.random() * 0.2;
      ships.push({
        x: 0.5 + Math.cos(angle) * dist,
        y: 0.5 + Math.sin(angle) * dist,
        size: 10 + Math.random() * 8,
        friendly: Math.random() > 0.2,
        angle: Math.random() * Math.PI * 2
      });
    }

    function drawNetwork() {
      const W = networkCanvas.width;
      const H = networkCanvas.height;

      ctx.fillStyle = '#1a0f0a';
      ctx.fillRect(0, 0, W, H);

      // Draw ocean waves pattern
      ctx.strokeStyle = 'rgba(46, 134, 171, 0.1)';
      ctx.lineWidth = 1;
      for (let y = 0; y < H; y += 20) {
        ctx.beginPath();
        for (let x = 0; x < W; x += 5) {
          const wave = Math.sin((x + Date.now() * 0.02) * 0.05) * 5;
          if (x === 0) ctx.moveTo(x, y + wave);
          else ctx.lineTo(x, y + wave);
        }
        ctx.stroke();
      }

      // Draw connections to flagship
      ships.forEach(ship => {
        ctx.strokeStyle = ship.friendly ? 'rgba(39, 174, 96, 0.3)' : 'rgba(192, 57, 43, 0.3)';
        ctx.lineWidth = 1;
        ctx.setLineDash([5, 5]);
        ctx.beginPath();
        ctx.moveTo(flagshipPos.x * W, flagshipPos.y * H);
        ctx.lineTo(ship.x * W, ship.y * H);
        ctx.stroke();
        ctx.setLineDash([]);
      });

      // Draw ships
      ships.forEach(ship => {
        ctx.save();
        ctx.translate(ship.x * W, ship.y * H);
        ctx.rotate(ship.angle);

        ctx.fillStyle = ship.friendly ? '#27ae60' : '#c0392b';
        ctx.shadowColor = ship.friendly ? '#27ae60' : '#c0392b';
        ctx.shadowBlur = 10;

        // Ship body
        ctx.beginPath();
        ctx.moveTo(ship.size, 0);
        ctx.lineTo(-ship.size * 0.6, -ship.size * 0.4);
        ctx.lineTo(-ship.size * 0.6, ship.size * 0.4);
        ctx.closePath();
        ctx.fill();

        ctx.restore();
      });

      // Draw flagship
      ctx.save();
      ctx.translate(flagshipPos.x * W, flagshipPos.y * H);

      ctx.fillStyle = '#d4a84b';
      ctx.shadowColor = '#d4a84b';
      ctx.shadowBlur = 25;

      ctx.beginPath();
      ctx.moveTo(25, 0);
      ctx.lineTo(-15, -12);
      ctx.lineTo(-15, 12);
      ctx.closePath();
      ctx.fill();

      // Mast
      ctx.strokeStyle = '#8b5a2b';
      ctx.lineWidth = 3;
      ctx.beginPath();
      ctx.moveTo(0, 0);
      ctx.lineTo(0, -20);
      ctx.stroke();

      // Flag
      ctx.fillStyle = '#1a0f0a';
      ctx.beginPath();
      ctx.moveTo(0, -20);
      ctx.lineTo(15, -15);
      ctx.lineTo(0, -10);
      ctx.fill();

      ctx.restore();
      ctx.shadowBlur = 0;

      // Compass rose
      ctx.save();
      ctx.translate(W - 60, H - 60);
      ctx.strokeStyle = 'rgba(212, 168, 75, 0.5)';
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.arc(0, 0, 30, 0, Math.PI * 2);
      ctx.stroke();

      ['N', 'E', 'S', 'W'].forEach((dir, i) => {
        const angle = (i * Math.PI / 2) - Math.PI / 2;
        ctx.fillStyle = '#d4a84b';
        ctx.font = '12px "IM Fell English SC"';
        ctx.textAlign = 'center';
        ctx.fillText(dir, Math.cos(angle) * 40, Math.sin(angle) * 40 + 4);
      });
      ctx.restore();

      requestAnimationFrame(drawNetwork);
    }

    drawNetwork();

    function updateStats() {
      const blocked = document.getElementById('blocked-count');
      const scans = document.getElementById('scans-count');

      const blockedVal = parseInt(blocked.textContent.replace(/,/g, ''));
      const scansVal = parseInt(scans.textContent.replace(/,/g, ''));

      blocked.textContent = (blockedVal + Math.floor(Math.random() * 3)).toLocaleString();
      scans.textContent = (scansVal + Math.floor(Math.random() * 10)).toLocaleString();

      const cannonVal = 95 + Math.floor(Math.random() * 5);
      document.getElementById('firewall-val').textContent = cannonVal + '%';
      document.getElementById('firewall-bar').style.width = cannonVal + '%';

      const hullVal = 93 + Math.floor(Math.random() * 7);
      document.getElementById('armor-value').textContent = hullVal;
    }

    setInterval(updateStats, 3000);
  </script>
</body>
</html>
