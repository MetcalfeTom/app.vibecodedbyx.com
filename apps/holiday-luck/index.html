<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Holiday Luck Calculator</title>
  <link rel="icon" href="https://emojicdn.elk.sh/üéÑ">
  <meta property="og:title" content="Holiday Luck Calculator">
  <meta property="og:description" content="Is your year blessed or cursed by holiday placement?">
  <meta property="og:url" content="https://sloppy.live/holiday-luck">
  <meta property="og:image" content="https://emojicdn.elk.sh/üéÑ?style=apple&size=512">
  <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600;700&family=JetBrains+Mono&display=swap" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    :root {
      --good: #22c55e;
      --bad: #ef4444;
      --meh: #f59e0b;
      --bg: #fefce8;
      --panel: #ffffff;
      --text: #1c1917;
      --muted: #78716c;
    }

    body {
      font-family: 'Fredoka', sans-serif;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      padding: 20px;
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
    }

    .header {
      text-align: center;
      margin-bottom: 30px;
    }

    .title {
      font-size: 2.5rem;
      font-weight: 700;
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 15px;
    }

    .subtitle {
      color: var(--muted);
      font-size: 1.1rem;
    }

    /* Year selector */
    .year-selector {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 20px;
      margin-bottom: 30px;
    }

    .year-btn {
      background: var(--panel);
      border: 2px solid #e5e5e5;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      font-size: 1.5rem;
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .year-btn:hover {
      background: #f5f5f5;
      transform: scale(1.1);
    }

    .current-year {
      font-size: 4rem;
      font-weight: 700;
      min-width: 200px;
      text-align: center;
    }

    /* Verdict */
    .verdict-card {
      background: var(--panel);
      border-radius: 20px;
      padding: 30px;
      text-align: center;
      margin-bottom: 30px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.08);
      position: relative;
      overflow: hidden;
    }

    .verdict-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 6px;
    }

    .verdict-card.good::before { background: var(--good); }
    .verdict-card.bad::before { background: var(--bad); }
    .verdict-card.meh::before { background: var(--meh); }

    .verdict-emoji {
      font-size: 5rem;
      margin-bottom: 15px;
      animation: bounce 1s ease-in-out infinite;
    }

    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }

    .verdict-text {
      font-size: 2rem;
      font-weight: 700;
      margin-bottom: 10px;
    }

    .verdict-card.good .verdict-text { color: var(--good); }
    .verdict-card.bad .verdict-text { color: var(--bad); }
    .verdict-card.meh .verdict-text { color: var(--meh); }

    .verdict-desc {
      color: var(--muted);
      font-size: 1rem;
    }

    .score-bar {
      display: flex;
      align-items: center;
      gap: 15px;
      margin-top: 20px;
      justify-content: center;
    }

    .score-track {
      width: 200px;
      height: 12px;
      background: #e5e5e5;
      border-radius: 6px;
      overflow: hidden;
    }

    .score-fill {
      height: 100%;
      border-radius: 6px;
      transition: width 0.5s ease;
    }

    .score-fill.good { background: var(--good); }
    .score-fill.bad { background: var(--bad); }
    .score-fill.meh { background: var(--meh); }

    .score-label {
      font-weight: 600;
      font-size: 1.1rem;
    }

    /* Holiday list */
    .holidays-card {
      background: var(--panel);
      border-radius: 20px;
      padding: 25px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.08);
      margin-bottom: 30px;
    }

    .holidays-title {
      font-size: 1.3rem;
      font-weight: 600;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .holiday-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 12px;
    }

    .holiday-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px 15px;
      background: #fafafa;
      border-radius: 12px;
      transition: all 0.2s;
    }

    .holiday-item:hover {
      transform: translateX(5px);
    }

    .holiday-item.weekend {
      background: #fef2f2;
      border: 1px solid #fecaca;
    }

    .holiday-item.weekday {
      background: #f0fdf4;
      border: 1px solid #bbf7d0;
    }

    .holiday-icon {
      font-size: 1.5rem;
    }

    .holiday-info {
      flex: 1;
    }

    .holiday-name {
      font-weight: 600;
      font-size: 0.9rem;
    }

    .holiday-date {
      font-size: 0.75rem;
      color: var(--muted);
      font-family: 'JetBrains Mono', monospace;
    }

    .holiday-day {
      font-size: 0.75rem;
      font-weight: 600;
      padding: 4px 8px;
      border-radius: 20px;
    }

    .holiday-day.weekend {
      background: #fee2e2;
      color: var(--bad);
    }

    .holiday-day.weekday {
      background: #dcfce7;
      color: var(--good);
    }

    /* Stats */
    .stats-row {
      display: flex;
      gap: 15px;
      margin-bottom: 30px;
    }

    .stat-card {
      flex: 1;
      background: var(--panel);
      border-radius: 16px;
      padding: 20px;
      text-align: center;
      box-shadow: 0 4px 20px rgba(0,0,0,0.08);
    }

    .stat-value {
      font-size: 2.5rem;
      font-weight: 700;
    }

    .stat-card.good .stat-value { color: var(--good); }
    .stat-card.bad .stat-value { color: var(--bad); }

    .stat-label {
      color: var(--muted);
      font-size: 0.85rem;
      margin-top: 5px;
    }

    /* Year comparison */
    .comparison-card {
      background: var(--panel);
      border-radius: 20px;
      padding: 25px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.08);
    }

    .comparison-title {
      font-size: 1.3rem;
      font-weight: 600;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .year-row {
      display: flex;
      align-items: center;
      gap: 15px;
      padding: 10px 0;
      border-bottom: 1px solid #f5f5f5;
      cursor: pointer;
      transition: all 0.2s;
    }

    .year-row:hover {
      background: #fafafa;
      margin: 0 -15px;
      padding: 10px 15px;
      border-radius: 10px;
    }

    .year-row:last-child {
      border-bottom: none;
    }

    .year-row .year {
      font-weight: 600;
      width: 60px;
    }

    .year-row .bar {
      flex: 1;
      height: 24px;
      background: #e5e5e5;
      border-radius: 12px;
      overflow: hidden;
      display: flex;
    }

    .year-row .bar-fill {
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: flex-end;
      padding-right: 8px;
      font-size: 0.7rem;
      font-weight: 600;
      color: white;
      min-width: fit-content;
    }

    .year-row .bar-fill.good { background: var(--good); }
    .year-row .bar-fill.bad { background: var(--bad); }
    .year-row .bar-fill.meh { background: var(--meh); }

    .year-row .verdict-badge {
      font-size: 1.2rem;
    }

    .back-link {
      position: fixed;
      top: 15px;
      right: 15px;
      color: var(--muted);
      text-decoration: none;
      font-size: 0.8rem;
    }

    .back-link:hover { color: var(--text); }

    @media (max-width: 600px) {
      .title { font-size: 1.8rem; }
      .current-year { font-size: 3rem; min-width: 150px; }
      .holiday-grid { grid-template-columns: 1fr; }
      .stats-row { flex-direction: column; }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1 class="title">üéÑ Holiday Luck Calculator üéÅ</h1>
      <p class="subtitle">Do your holidays fall on weekdays or get wasted on weekends?</p>
    </div>

    <div class="year-selector">
      <button class="year-btn" onclick="changeYear(-1)">‚óÄ</button>
      <div class="current-year" id="current-year">2025</div>
      <button class="year-btn" onclick="changeYear(1)">‚ñ∂</button>
    </div>

    <div class="verdict-card" id="verdict-card">
      <div class="verdict-emoji" id="verdict-emoji">üéâ</div>
      <div class="verdict-text" id="verdict-text">BLESSED YEAR</div>
      <div class="verdict-desc" id="verdict-desc">Most holidays fall on weekdays!</div>
      <div class="score-bar">
        <span>üò¢</span>
        <div class="score-track">
          <div class="score-fill" id="score-fill"></div>
        </div>
        <span>üéâ</span>
        <span class="score-label" id="score-label">75%</span>
      </div>
    </div>

    <div class="stats-row">
      <div class="stat-card good">
        <div class="stat-value" id="weekday-count">0</div>
        <div class="stat-label">Weekday Holidays</div>
      </div>
      <div class="stat-card bad">
        <div class="stat-value" id="weekend-count">0</div>
        <div class="stat-label">Weekend Holidays</div>
      </div>
    </div>

    <div class="holidays-card">
      <h2 class="holidays-title">üìÖ Holiday Breakdown</h2>
      <div class="holiday-grid" id="holiday-grid"></div>
    </div>

    <div class="comparison-card">
      <h2 class="comparison-title">üìä Nearby Years</h2>
      <div id="comparison-list"></div>
    </div>
  </div>

  <a href="https://sloppy.live" class="back-link">‚Üê sloppy.live</a>

  <script>
    // Fixed-date holidays (month is 0-indexed)
    const holidays = [
      { name: "New Year's Day", month: 0, day: 1, icon: "üéÜ" },
      { name: "Valentine's Day", month: 1, day: 14, icon: "üíï" },
      { name: "St. Patrick's Day", month: 2, day: 17, icon: "‚òòÔ∏è" },
      { name: "Independence Day", month: 6, day: 4, icon: "üá∫üá∏" },
      { name: "Halloween", month: 9, day: 31, icon: "üéÉ" },
      { name: "Veterans Day", month: 10, day: 11, icon: "üéñÔ∏è" },
      { name: "Christmas Eve", month: 11, day: 24, icon: "üåü" },
      { name: "Christmas Day", month: 11, day: 25, icon: "üéÑ" },
      { name: "New Year's Eve", month: 11, day: 31, icon: "ü•≥" }
    ];

    const dayNames = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
    const monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];

    let currentYear = new Date().getFullYear();

    function isWeekend(dayOfWeek) {
      return dayOfWeek === 0 || dayOfWeek === 6;
    }

    function getHolidayData(year) {
      return holidays.map(h => {
        const date = new Date(year, h.month, h.day);
        const dayOfWeek = date.getDay();
        return {
          ...h,
          date,
          dayOfWeek,
          dayName: dayNames[dayOfWeek],
          isWeekend: isWeekend(dayOfWeek),
          dateStr: `${monthNames[h.month]} ${h.day}`
        };
      });
    }

    function calculateScore(year) {
      const data = getHolidayData(year);
      const weekdayCount = data.filter(h => !h.isWeekend).length;
      const total = data.length;
      return {
        weekdayCount,
        weekendCount: total - weekdayCount,
        score: weekdayCount / total,
        data
      };
    }

    function getVerdict(score) {
      if (score >= 0.7) return { class: 'good', emoji: 'üéâ', text: 'BLESSED YEAR', desc: 'Most holidays fall on weekdays! Maximum days off!' };
      if (score >= 0.5) return { class: 'meh', emoji: 'üòê', text: 'MEH YEAR', desc: 'Some holidays wasted on weekends...' };
      return { class: 'bad', emoji: 'üò≠', text: 'CURSED YEAR', desc: 'Too many holidays fall on weekends! Tragic!' };
    }

    function updateDisplay() {
      const { weekdayCount, weekendCount, score, data } = calculateScore(currentYear);
      const verdict = getVerdict(score);

      // Update year
      document.getElementById('current-year').textContent = currentYear;

      // Update verdict card
      const verdictCard = document.getElementById('verdict-card');
      verdictCard.className = 'verdict-card ' + verdict.class;
      document.getElementById('verdict-emoji').textContent = verdict.emoji;
      document.getElementById('verdict-text').textContent = verdict.text;
      document.getElementById('verdict-desc').textContent = verdict.desc;

      // Update score bar
      const scoreFill = document.getElementById('score-fill');
      scoreFill.style.width = (score * 100) + '%';
      scoreFill.className = 'score-fill ' + verdict.class;
      document.getElementById('score-label').textContent = Math.round(score * 100) + '%';

      // Update stats
      document.getElementById('weekday-count').textContent = weekdayCount;
      document.getElementById('weekend-count').textContent = weekendCount;

      // Update holiday grid
      const grid = document.getElementById('holiday-grid');
      grid.innerHTML = data.map(h => `
        <div class="holiday-item ${h.isWeekend ? 'weekend' : 'weekday'}">
          <span class="holiday-icon">${h.icon}</span>
          <div class="holiday-info">
            <div class="holiday-name">${h.name}</div>
            <div class="holiday-date">${h.dateStr}</div>
          </div>
          <span class="holiday-day ${h.isWeekend ? 'weekend' : 'weekday'}">${h.dayName.slice(0, 3)}</span>
        </div>
      `).join('');

      // Update comparison
      updateComparison();
    }

    function updateComparison() {
      const years = [];
      for (let y = currentYear - 3; y <= currentYear + 3; y++) {
        const { score } = calculateScore(y);
        const verdict = getVerdict(score);
        years.push({ year: y, score, verdict });
      }

      const list = document.getElementById('comparison-list');
      list.innerHTML = years.map(y => `
        <div class="year-row" onclick="setYear(${y.year})">
          <span class="year">${y.year}</span>
          <div class="bar">
            <div class="bar-fill ${y.verdict.class}" style="width: ${y.score * 100}%">
              ${Math.round(y.score * 100)}%
            </div>
          </div>
          <span class="verdict-badge">${y.verdict.emoji}</span>
        </div>
      `).join('');
    }

    function changeYear(delta) {
      currentYear += delta;
      updateDisplay();
    }

    function setYear(year) {
      currentYear = year;
      updateDisplay();
    }

    // Initialize
    updateDisplay();
  </script>
</body>
</html>
