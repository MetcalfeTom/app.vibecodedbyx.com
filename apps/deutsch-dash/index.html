<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Deutsch Dash - Neon German Learning</title>
  <meta name="description" content="Learn German vocabulary with neon-powered games">
  <meta property="og:title" content="Deutsch Dash">
  <meta property="og:description" content="Neon German vocabulary games - Schnell lernen!">
  <meta property="og:url" content="https://sloppy.live/deutsch-dash">
  <meta property="og:image" content="https://sloppy.live/deutsch-dash/og-image.png">
  <link rel="icon" href="https://emojicdn.elk.sh/üá©üá™">
  <link href="https://fonts.googleapis.com/css2?family=Russo+One&family=Exo+2:wght@400;700;900&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      min-height: 100vh;
      background: linear-gradient(135deg, #0a0a0a 0%, #1a0a0a 50%, #0a0a0a 100%);
      font-family: 'Exo 2', sans-serif;
      color: #fff;
      overflow-x: hidden;
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
    }

    /* Header */
    .header {
      text-align: center;
      margin-bottom: 30px;
      padding: 25px;
      background: linear-gradient(180deg, rgba(255, 0, 0, 0.1), rgba(255, 200, 0, 0.05));
      border: 2px solid;
      border-image: linear-gradient(180deg, #ff0040, #ffcc00) 1;
      position: relative;
    }

    .header::before {
      content: '';
      position: absolute;
      top: -2px;
      left: -2px;
      right: -2px;
      bottom: -2px;
      background: linear-gradient(180deg, rgba(255, 0, 64, 0.3), rgba(255, 204, 0, 0.3));
      filter: blur(20px);
      z-index: -1;
    }

    h1 {
      font-family: 'Russo One', sans-serif;
      font-size: 3rem;
      letter-spacing: 4px;
      background: linear-gradient(180deg, #ff0040, #ffcc00);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow: 0 0 30px rgba(255, 100, 0, 0.5);
      margin-bottom: 5px;
    }

    .subtitle {
      font-size: 1rem;
      color: #888;
      letter-spacing: 3px;
    }

    /* Stats Bar */
    .stats-bar {
      display: flex;
      justify-content: center;
      gap: 30px;
      margin-bottom: 25px;
      flex-wrap: wrap;
    }

    .stat {
      text-align: center;
      padding: 15px 25px;
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 204, 0, 0.3);
      border-radius: 8px;
    }

    .stat-value {
      font-size: 2rem;
      font-weight: 900;
      color: #ffcc00;
      text-shadow: 0 0 20px rgba(255, 204, 0, 0.5);
    }

    .stat-label {
      font-size: 0.7rem;
      color: #666;
      letter-spacing: 2px;
      text-transform: uppercase;
    }

    /* Game Mode Selection */
    .mode-select {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 15px;
      margin-bottom: 25px;
    }

    .mode-btn {
      padding: 20px 15px;
      background: rgba(0, 0, 0, 0.5);
      border: 2px solid #333;
      color: #888;
      font-family: 'Exo 2', sans-serif;
      font-size: 0.9rem;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.2s;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .mode-btn:hover {
      border-color: #ff0040;
      color: #ff0040;
      box-shadow: 0 0 20px rgba(255, 0, 64, 0.3);
    }

    .mode-btn.active {
      background: linear-gradient(180deg, rgba(255, 0, 64, 0.2), rgba(255, 204, 0, 0.1));
      border-color: #ff0040;
      color: #fff;
      box-shadow: 0 0 30px rgba(255, 0, 64, 0.4);
    }

    .mode-icon {
      font-size: 1.5rem;
      display: block;
      margin-bottom: 8px;
    }

    /* Category Selection */
    .category-bar {
      display: flex;
      gap: 10px;
      margin-bottom: 25px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .cat-btn {
      padding: 8px 16px;
      background: transparent;
      border: 1px solid #444;
      color: #666;
      font-family: 'Exo 2', sans-serif;
      font-size: 0.75rem;
      cursor: pointer;
      transition: all 0.2s;
      border-radius: 20px;
    }

    .cat-btn:hover {
      border-color: #ffcc00;
      color: #ffcc00;
    }

    .cat-btn.active {
      background: #ffcc00;
      border-color: #ffcc00;
      color: #000;
    }

    /* Game Area */
    .game-area {
      background: rgba(0, 0, 0, 0.5);
      border: 2px solid #222;
      border-radius: 12px;
      padding: 30px;
      min-height: 400px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    /* Flash Card Mode */
    .flash-card {
      width: 100%;
      max-width: 400px;
      min-height: 250px;
      background: linear-gradient(135deg, #1a1a1a, #0a0a0a);
      border: 3px solid #ff0040;
      border-radius: 16px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s;
      position: relative;
      perspective: 1000px;
    }

    .flash-card:hover {
      box-shadow: 0 0 40px rgba(255, 0, 64, 0.4);
      transform: scale(1.02);
    }

    .flash-card.flipped {
      border-color: #ffcc00;
    }

    .card-word {
      font-size: 2.5rem;
      font-weight: 900;
      text-align: center;
      padding: 20px;
    }

    .card-german {
      color: #ff0040;
      text-shadow: 0 0 20px rgba(255, 0, 64, 0.5);
    }

    .card-english {
      color: #ffcc00;
      text-shadow: 0 0 20px rgba(255, 204, 0, 0.5);
    }

    .card-hint {
      font-size: 0.8rem;
      color: #666;
      position: absolute;
      bottom: 15px;
    }

    .card-category {
      font-size: 0.7rem;
      color: #444;
      position: absolute;
      top: 15px;
      text-transform: uppercase;
      letter-spacing: 2px;
    }

    /* Quiz Mode */
    .quiz-question {
      font-size: 2rem;
      font-weight: 900;
      color: #ff0040;
      text-shadow: 0 0 20px rgba(255, 0, 64, 0.5);
      margin-bottom: 30px;
      text-align: center;
    }

    .quiz-options {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 15px;
      width: 100%;
      max-width: 500px;
    }

    .quiz-option {
      padding: 20px;
      background: rgba(255, 255, 255, 0.05);
      border: 2px solid #333;
      color: #fff;
      font-family: 'Exo 2', sans-serif;
      font-size: 1.1rem;
      cursor: pointer;
      transition: all 0.2s;
      border-radius: 8px;
    }

    .quiz-option:hover {
      border-color: #ffcc00;
      background: rgba(255, 204, 0, 0.1);
    }

    .quiz-option.correct {
      border-color: #00ff88;
      background: rgba(0, 255, 136, 0.2);
      color: #00ff88;
    }

    .quiz-option.wrong {
      border-color: #ff0040;
      background: rgba(255, 0, 64, 0.2);
      color: #ff0040;
    }

    /* Speed Match Mode */
    .speed-container {
      width: 100%;
      text-align: center;
    }

    .speed-timer {
      font-size: 3rem;
      font-weight: 900;
      color: #ff0040;
      text-shadow: 0 0 30px rgba(255, 0, 64, 0.5);
      margin-bottom: 20px;
    }

    .speed-word {
      font-size: 2.5rem;
      font-weight: 900;
      color: #ffcc00;
      text-shadow: 0 0 20px rgba(255, 204, 0, 0.5);
      margin-bottom: 25px;
    }

    .speed-input {
      width: 100%;
      max-width: 400px;
      padding: 15px 20px;
      background: rgba(0, 0, 0, 0.5);
      border: 2px solid #333;
      color: #fff;
      font-family: 'Exo 2', sans-serif;
      font-size: 1.5rem;
      text-align: center;
      border-radius: 8px;
      outline: none;
    }

    .speed-input:focus {
      border-color: #ffcc00;
      box-shadow: 0 0 20px rgba(255, 204, 0, 0.3);
    }

    .speed-input.correct {
      border-color: #00ff88;
      box-shadow: 0 0 20px rgba(0, 255, 136, 0.3);
    }

    .speed-input.wrong {
      border-color: #ff0040;
      box-shadow: 0 0 20px rgba(255, 0, 64, 0.3);
    }

    /* Buttons */
    .game-btn {
      padding: 15px 40px;
      background: linear-gradient(180deg, #ff0040, #cc0033);
      border: none;
      color: #fff;
      font-family: 'Exo 2', sans-serif;
      font-size: 1rem;
      font-weight: 700;
      cursor: pointer;
      border-radius: 8px;
      text-transform: uppercase;
      letter-spacing: 2px;
      transition: all 0.2s;
      margin-top: 20px;
    }

    .game-btn:hover {
      transform: scale(1.05);
      box-shadow: 0 0 30px rgba(255, 0, 64, 0.5);
    }

    .game-btn.secondary {
      background: transparent;
      border: 2px solid #ffcc00;
      color: #ffcc00;
    }

    /* Streak indicator */
    .streak {
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 10px 20px;
      background: rgba(0, 0, 0, 0.8);
      border: 2px solid #00ff88;
      border-radius: 8px;
      font-weight: 700;
      color: #00ff88;
      text-shadow: 0 0 10px rgba(0, 255, 136, 0.5);
      opacity: 0;
      transform: translateY(-20px);
      transition: all 0.3s;
    }

    .streak.visible {
      opacity: 1;
      transform: translateY(0);
    }

    /* Result feedback */
    .feedback {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 4rem;
      font-weight: 900;
      pointer-events: none;
      opacity: 0;
      transition: all 0.3s;
    }

    .feedback.show {
      opacity: 1;
      animation: feedbackPop 0.5s ease-out;
    }

    .feedback.correct {
      color: #00ff88;
      text-shadow: 0 0 40px rgba(0, 255, 136, 0.8);
    }

    .feedback.wrong {
      color: #ff0040;
      text-shadow: 0 0 40px rgba(255, 0, 64, 0.8);
    }

    @keyframes feedbackPop {
      0% { transform: translate(-50%, -50%) scale(0.5); opacity: 0; }
      50% { transform: translate(-50%, -50%) scale(1.2); opacity: 1; }
      100% { transform: translate(-50%, -50%) scale(1); opacity: 0; }
    }

    /* Footer */
    .back-link {
      display: block;
      text-align: center;
      margin-top: 30px;
      color: #444;
      text-decoration: none;
      font-size: 0.8rem;
      letter-spacing: 2px;
    }

    .back-link:hover {
      color: #ffcc00;
    }

    /* Responsive */
    @media (max-width: 600px) {
      h1 { font-size: 2rem; }
      .mode-select { grid-template-columns: 1fr; }
      .quiz-options { grid-template-columns: 1fr; }
      .card-word { font-size: 1.8rem; }
    }

    .hidden { display: none !important; }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>DEUTSCH DASH</h1>
      <div class="subtitle">SCHNELL LERNEN ‚Ä¢ FAST LEARNING</div>
    </div>

    <div class="stats-bar">
      <div class="stat">
        <div class="stat-value" id="score">0</div>
        <div class="stat-label">Score</div>
      </div>
      <div class="stat">
        <div class="stat-value" id="streak">0</div>
        <div class="stat-label">Streak</div>
      </div>
      <div class="stat">
        <div class="stat-value" id="learned">0</div>
        <div class="stat-label">Learned</div>
      </div>
    </div>

    <div class="mode-select">
      <button class="mode-btn active" data-mode="flash">
        <span class="mode-icon">üé¥</span>
        Flash Cards
      </button>
      <button class="mode-btn" data-mode="quiz">
        <span class="mode-icon">‚ùì</span>
        Quiz
      </button>
      <button class="mode-btn" data-mode="speed">
        <span class="mode-icon">‚ö°</span>
        Speed Dash
      </button>
    </div>

    <div class="category-bar">
      <button class="cat-btn active" data-cat="all">All</button>
      <button class="cat-btn" data-cat="basics">Basics</button>
      <button class="cat-btn" data-cat="food">Food</button>
      <button class="cat-btn" data-cat="animals">Animals</button>
      <button class="cat-btn" data-cat="colors">Colors</button>
      <button class="cat-btn" data-cat="numbers">Numbers</button>
      <button class="cat-btn" data-cat="verbs">Verbs</button>
    </div>

    <div class="game-area" id="gameArea">
      <!-- Game content loaded dynamically -->
    </div>

    <a href="https://sloppy.live" class="back-link">SLOPPY.LIVE</a>
  </div>

  <div class="streak" id="streakIndicator">üî• STREAK!</div>
  <div class="feedback" id="feedback"></div>

  <script>
    // ========================================
    // DEUTSCH DASH - VOCABULARY DATABASE
    // ========================================

    const vocabulary = {
      basics: [
        { de: 'Hallo', en: 'Hello' },
        { de: 'Tsch√ºss', en: 'Goodbye' },
        { de: 'Danke', en: 'Thank you' },
        { de: 'Bitte', en: 'Please / You\'re welcome' },
        { de: 'Ja', en: 'Yes' },
        { de: 'Nein', en: 'No' },
        { de: 'Guten Morgen', en: 'Good morning' },
        { de: 'Gute Nacht', en: 'Good night' },
        { de: 'Wie geht\'s?', en: 'How are you?' },
        { de: 'Gut', en: 'Good' },
        { de: 'Schlecht', en: 'Bad' },
        { de: 'Ich', en: 'I' },
        { de: 'Du', en: 'You' },
        { de: 'Wir', en: 'We' },
        { de: 'Was', en: 'What' },
        { de: 'Wo', en: 'Where' },
      ],
      food: [
        { de: 'Brot', en: 'Bread' },
        { de: 'Wasser', en: 'Water' },
        { de: 'Bier', en: 'Beer' },
        { de: 'Wein', en: 'Wine' },
        { de: 'Kaffee', en: 'Coffee' },
        { de: 'Tee', en: 'Tea' },
        { de: 'Milch', en: 'Milk' },
        { de: 'K√§se', en: 'Cheese' },
        { de: 'Wurst', en: 'Sausage' },
        { de: 'Apfel', en: 'Apple' },
        { de: 'Ei', en: 'Egg' },
        { de: 'Fleisch', en: 'Meat' },
        { de: 'Fisch', en: 'Fish' },
        { de: 'Kuchen', en: 'Cake' },
        { de: 'Suppe', en: 'Soup' },
        { de: 'Salat', en: 'Salad' },
      ],
      animals: [
        { de: 'Hund', en: 'Dog' },
        { de: 'Katze', en: 'Cat' },
        { de: 'Vogel', en: 'Bird' },
        { de: 'Fisch', en: 'Fish' },
        { de: 'Pferd', en: 'Horse' },
        { de: 'Kuh', en: 'Cow' },
        { de: 'Schwein', en: 'Pig' },
        { de: 'Schaf', en: 'Sheep' },
        { de: 'Maus', en: 'Mouse' },
        { de: 'B√§r', en: 'Bear' },
        { de: 'Wolf', en: 'Wolf' },
        { de: 'Fuchs', en: 'Fox' },
        { de: 'Hase', en: 'Rabbit' },
        { de: 'Elefant', en: 'Elephant' },
        { de: 'L√∂we', en: 'Lion' },
        { de: 'Affe', en: 'Monkey' },
      ],
      colors: [
        { de: 'Rot', en: 'Red' },
        { de: 'Blau', en: 'Blue' },
        { de: 'Gr√ºn', en: 'Green' },
        { de: 'Gelb', en: 'Yellow' },
        { de: 'Schwarz', en: 'Black' },
        { de: 'Wei√ü', en: 'White' },
        { de: 'Grau', en: 'Gray' },
        { de: 'Braun', en: 'Brown' },
        { de: 'Orange', en: 'Orange' },
        { de: 'Rosa', en: 'Pink' },
        { de: 'Lila', en: 'Purple' },
        { de: 'Gold', en: 'Gold' },
      ],
      numbers: [
        { de: 'Eins', en: 'One' },
        { de: 'Zwei', en: 'Two' },
        { de: 'Drei', en: 'Three' },
        { de: 'Vier', en: 'Four' },
        { de: 'F√ºnf', en: 'Five' },
        { de: 'Sechs', en: 'Six' },
        { de: 'Sieben', en: 'Seven' },
        { de: 'Acht', en: 'Eight' },
        { de: 'Neun', en: 'Nine' },
        { de: 'Zehn', en: 'Ten' },
        { de: 'Hundert', en: 'Hundred' },
        { de: 'Tausend', en: 'Thousand' },
      ],
      verbs: [
        { de: 'sein', en: 'to be' },
        { de: 'haben', en: 'to have' },
        { de: 'gehen', en: 'to go' },
        { de: 'kommen', en: 'to come' },
        { de: 'machen', en: 'to make/do' },
        { de: 'sehen', en: 'to see' },
        { de: 'essen', en: 'to eat' },
        { de: 'trinken', en: 'to drink' },
        { de: 'sprechen', en: 'to speak' },
        { de: 'lernen', en: 'to learn' },
        { de: 'arbeiten', en: 'to work' },
        { de: 'spielen', en: 'to play' },
        { de: 'schlafen', en: 'to sleep' },
        { de: 'lesen', en: 'to read' },
        { de: 'schreiben', en: 'to write' },
        { de: 'lieben', en: 'to love' },
      ]
    };

    // Game state
    let currentMode = 'flash';
    let currentCategory = 'all';
    let score = 0;
    let streak = 0;
    let learned = new Set();
    let currentWord = null;
    let isFlipped = false;
    let speedTimer = null;
    let speedTimeLeft = 60;

    // Get words for current category
    function getWords() {
      if (currentCategory === 'all') {
        return Object.values(vocabulary).flat();
      }
      return vocabulary[currentCategory] || [];
    }

    // Get random word
    function getRandomWord() {
      const words = getWords();
      return words[Math.floor(Math.random() * words.length)];
    }

    // Get category name for word
    function getCategoryForWord(word) {
      for (const [cat, words] of Object.entries(vocabulary)) {
        if (words.some(w => w.de === word.de)) return cat;
      }
      return 'unknown';
    }

    // Shuffle array
    function shuffle(arr) {
      const a = [...arr];
      for (let i = a.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [a[i], a[j]] = [a[j], a[i]];
      }
      return a;
    }

    // Show feedback
    function showFeedback(isCorrect) {
      const feedback = document.getElementById('feedback');
      feedback.textContent = isCorrect ? 'RICHTIG!' : 'FALSCH!';
      feedback.className = `feedback show ${isCorrect ? 'correct' : 'wrong'}`;
      setTimeout(() => feedback.className = 'feedback', 500);
    }

    // Update stats display
    function updateStats() {
      document.getElementById('score').textContent = score;
      document.getElementById('streak').textContent = streak;
      document.getElementById('learned').textContent = learned.size;

      const streakIndicator = document.getElementById('streakIndicator');
      if (streak >= 3) {
        streakIndicator.textContent = `üî• ${streak} STREAK!`;
        streakIndicator.classList.add('visible');
      } else {
        streakIndicator.classList.remove('visible');
      }
    }

    // Handle correct answer
    function handleCorrect() {
      score += 10 + (streak * 2);
      streak++;
      learned.add(currentWord.de);
      showFeedback(true);
      updateStats();
    }

    // Handle wrong answer
    function handleWrong() {
      streak = 0;
      showFeedback(false);
      updateStats();
    }

    // ========================================
    // FLASH CARD MODE
    // ========================================

    function renderFlashCard() {
      currentWord = getRandomWord();
      isFlipped = false;
      const cat = getCategoryForWord(currentWord);

      document.getElementById('gameArea').innerHTML = `
        <div class="flash-card" id="flashCard">
          <div class="card-category">${cat}</div>
          <div class="card-word card-german">${currentWord.de}</div>
          <div class="card-hint">Click to reveal</div>
        </div>
        <div style="display: flex; gap: 15px; margin-top: 20px;">
          <button class="game-btn secondary" id="knowBtn">I Know It ‚úì</button>
          <button class="game-btn" id="nextBtn">Next ‚Üí</button>
        </div>
      `;

      document.getElementById('flashCard').addEventListener('click', flipCard);
      document.getElementById('knowBtn').addEventListener('click', () => {
        handleCorrect();
        renderFlashCard();
      });
      document.getElementById('nextBtn').addEventListener('click', renderFlashCard);
    }

    function flipCard() {
      if (isFlipped) return;
      isFlipped = true;
      const card = document.getElementById('flashCard');
      card.classList.add('flipped');
      card.querySelector('.card-word').className = 'card-word card-english';
      card.querySelector('.card-word').textContent = currentWord.en;
      card.querySelector('.card-hint').textContent = currentWord.de + ' ‚Üí ' + currentWord.en;
    }

    // ========================================
    // QUIZ MODE
    // ========================================

    function renderQuiz() {
      currentWord = getRandomWord();
      const words = getWords();

      // Get 3 wrong answers
      let options = [currentWord];
      while (options.length < 4) {
        const w = words[Math.floor(Math.random() * words.length)];
        if (!options.find(o => o.en === w.en)) {
          options.push(w);
        }
      }
      options = shuffle(options);

      document.getElementById('gameArea').innerHTML = `
        <div class="quiz-question">${currentWord.de}</div>
        <div class="quiz-options">
          ${options.map(opt => `
            <button class="quiz-option" data-answer="${opt.en}">${opt.en}</button>
          `).join('')}
        </div>
      `;

      document.querySelectorAll('.quiz-option').forEach(btn => {
        btn.addEventListener('click', () => checkQuizAnswer(btn));
      });
    }

    function checkQuizAnswer(btn) {
      const answer = btn.dataset.answer;
      const isCorrect = answer === currentWord.en;

      // Disable all buttons
      document.querySelectorAll('.quiz-option').forEach(b => {
        b.style.pointerEvents = 'none';
        if (b.dataset.answer === currentWord.en) {
          b.classList.add('correct');
        } else if (b === btn && !isCorrect) {
          b.classList.add('wrong');
        }
      });

      if (isCorrect) {
        handleCorrect();
      } else {
        handleWrong();
      }

      // Next question after delay
      setTimeout(renderQuiz, 1000);
    }

    // ========================================
    // SPEED DASH MODE
    // ========================================

    function renderSpeedDash() {
      speedTimeLeft = 60;
      currentWord = getRandomWord();

      document.getElementById('gameArea').innerHTML = `
        <div class="speed-container">
          <div class="speed-timer" id="speedTimer">60</div>
          <div class="speed-word" id="speedWord">${currentWord.de}</div>
          <input type="text" class="speed-input" id="speedInput" placeholder="Type the English..." autocomplete="off">
          <button class="game-btn" id="startSpeedBtn">START DASH!</button>
        </div>
      `;

      document.getElementById('startSpeedBtn').addEventListener('click', startSpeedRound);
    }

    function startSpeedRound() {
      document.getElementById('startSpeedBtn').style.display = 'none';
      const input = document.getElementById('speedInput');
      input.focus();
      input.addEventListener('input', checkSpeedAnswer);

      speedTimer = setInterval(() => {
        speedTimeLeft--;
        document.getElementById('speedTimer').textContent = speedTimeLeft;

        if (speedTimeLeft <= 0) {
          clearInterval(speedTimer);
          endSpeedRound();
        }
      }, 1000);
    }

    function checkSpeedAnswer() {
      const input = document.getElementById('speedInput');
      const answer = input.value.trim().toLowerCase();
      const correct = currentWord.en.toLowerCase();

      if (answer === correct) {
        input.classList.add('correct');
        handleCorrect();

        setTimeout(() => {
          input.value = '';
          input.classList.remove('correct');
          currentWord = getRandomWord();
          document.getElementById('speedWord').textContent = currentWord.de;
        }, 200);
      }
    }

    function endSpeedRound() {
      document.getElementById('gameArea').innerHTML = `
        <div style="text-align: center;">
          <div style="font-size: 1.5rem; color: #ffcc00; margin-bottom: 20px;">TIME'S UP!</div>
          <div style="font-size: 3rem; font-weight: 900; color: #ff0040; margin-bottom: 10px;">${score} POINTS</div>
          <div style="font-size: 1.2rem; color: #666; margin-bottom: 30px;">${learned.size} words learned</div>
          <button class="game-btn" id="playAgainBtn">PLAY AGAIN</button>
        </div>
      `;

      document.getElementById('playAgainBtn').addEventListener('click', () => {
        score = 0;
        streak = 0;
        updateStats();
        renderSpeedDash();
      });
    }

    // ========================================
    // MODE & CATEGORY SWITCHING
    // ========================================

    function setMode(mode) {
      currentMode = mode;
      document.querySelectorAll('.mode-btn').forEach(btn => {
        btn.classList.toggle('active', btn.dataset.mode === mode);
      });

      if (speedTimer) {
        clearInterval(speedTimer);
        speedTimer = null;
      }

      switch (mode) {
        case 'flash': renderFlashCard(); break;
        case 'quiz': renderQuiz(); break;
        case 'speed': renderSpeedDash(); break;
      }
    }

    function setCategory(cat) {
      currentCategory = cat;
      document.querySelectorAll('.cat-btn').forEach(btn => {
        btn.classList.toggle('active', btn.dataset.cat === cat);
      });
      setMode(currentMode); // Refresh current mode
    }

    // Event listeners
    document.querySelectorAll('.mode-btn').forEach(btn => {
      btn.addEventListener('click', () => setMode(btn.dataset.mode));
    });

    document.querySelectorAll('.cat-btn').forEach(btn => {
      btn.addEventListener('click', () => setCategory(btn.dataset.cat));
    });

    // Initialize
    renderFlashCard();
  </script>
</body>
</html>
