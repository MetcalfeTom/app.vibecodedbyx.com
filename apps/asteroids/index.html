<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sea Scourge - Pirate Ship Combat</title>
<link rel="icon" href="https://emojicdn.elk.sh/ðŸ´â€â˜ ï¸">
<meta property="og:title" content="Sea Scourge - Pirate Ship Combat">
<meta property="og:description" content="Command yer vessel and blast enemy ships to Davy Jones' locker!">
<meta property="og:url" content="https://sloppy.live/asteroids">
<meta property="og:image" content="https://sloppy.live/asteroids/og-image.png">
<link href="https://fonts.googleapis.com/css2?family=Pirata+One&family=IM+Fell+English+SC&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'IM Fell English SC',serif;background:#0a0d12;color:#d4a84b;overflow:hidden;height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center}
#gameCanvas{border:4px solid #5c3a1e;box-shadow:0 0 30px rgba(139,90,43,.4);background:#0d1a2a}
.ui{position:fixed;top:20px;left:20px;right:20px;display:flex;justify-content:space-between;align-items:flex-start;pointer-events:none;z-index:100}
.stat-panel{background:rgba(10,13,18,.95);border:3px solid #5c3a1e;padding:15px 20px;border-radius:8px;box-shadow:0 0 15px rgba(212,168,75,.3);min-width:150px}
.stat-label{font-size:12px;opacity:.7;text-transform:uppercase;font-family:'Pirata One',cursive;letter-spacing:1px}
.stat-value{font-size:24px;font-weight:bold;margin-top:5px;text-shadow:0 0 10px rgba(212,168,75,.5);font-family:'Pirata One',cursive}
.lives{display:flex;gap:8px;margin-top:5px}
.life-icon{font-size:20px;text-shadow:0 0 8px rgba(212,168,75,.5)}
.game-over-screen{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(10,13,18,.98);border:4px solid #5c3a1e;padding:40px;border-radius:15px;text-align:center;display:none;z-index:200;box-shadow:0 0 40px rgba(139,90,43,.6);min-width:400px}
.game-over-screen.show{display:block;animation:slideIn .5s}
@keyframes slideIn{from{transform:translate(-50%,-60%);opacity:0}to{transform:translate(-50%,-50%);opacity:1}}
.game-over-screen h1{font-size:42px;margin-bottom:20px;text-shadow:0 0 20px rgba(212,168,75,.5);font-family:'Pirata One',cursive}
.final-stats{margin:30px 0;display:flex;flex-direction:column;gap:15px}
.stat-row{display:flex;justify-content:space-between;font-size:18px}
.btn{background:linear-gradient(135deg,#5c3a1e,#8b5a2b);border:3px solid #d4a84b;color:#d4a84b;padding:15px 40px;font-size:18px;font-family:'Pirata One',cursive;cursor:pointer;margin:10px;border-radius:5px;transition:all .3s;pointer-events:all}
.btn:hover{background:linear-gradient(135deg,#8b5a2b,#d4a84b);color:#1a0f0a;box-shadow:0 0 25px rgba(212,168,75,.5);transform:scale(1.05)}
.controls{position:fixed;bottom:20px;left:50%;transform:translateX(-50%);background:rgba(10,13,18,.9);border:2px solid #5c3a1e;padding:15px 25px;border-radius:8px;text-align:center;font-size:14px;box-shadow:0 0 15px rgba(139,90,43,.3);color:#8b7355}
.level-up{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);font-size:48px;font-weight:bold;color:#d4a84b;text-shadow:0 0 30px rgba(212,168,75,.8);pointer-events:none;z-index:150;display:none;font-family:'Pirata One',cursive}
.level-up.show{display:block;animation:levelUpAnim 2s}
@keyframes levelUpAnim{0%{opacity:0;transform:translate(-50%,-50%) scale(.5)}20%{opacity:1;transform:translate(-50%,-50%) scale(1.2)}80%{opacity:1;transform:translate(-50%,-50%) scale(1)}100%{opacity:0;transform:translate(-50%,-50%) scale(.8)}}
@media (max-width:768px){
.controls{font-size:12px;padding:10px 15px}
.stat-panel{padding:10px;min-width:100px}
.stat-value{font-size:18px}
.game-over-screen{min-width:300px;padding:30px 20px}
}
</style>
</head>
<body>
<div class="ui">
<div class="stat-panel">
<div class="stat-label">Doubloons</div>
<div class="stat-value" id="score">0</div>
</div>
<div class="stat-panel">
<div class="stat-label">Wave</div>
<div class="stat-value" id="level">1</div>
</div>
<div class="stat-panel">
<div class="stat-label">Fleet</div>
<div class="lives" id="lives">
<span class="life-icon">â›µ</span>
<span class="life-icon">â›µ</span>
<span class="life-icon">â›µ</span>
</div>
</div>
</div>
<canvas id="gameCanvas"></canvas>
<div class="level-up" id="levelUp">WAVE CLEARED!</div>
<div class="game-over-screen" id="gameOverScreen">
<h1>YE WALKED THE PLANK!</h1>
<div class="final-stats">
<div class="stat-row"><span>Booty Plundered:</span><span id="finalScore">0</span></div>
<div class="stat-row"><span>Waves Survived:</span><span id="finalLevel">1</span></div>
<div class="stat-row"><span>Ships Sunk:</span><span id="shipsDestroyed">0</span></div>
</div>
<button class="btn" onclick="startGame()">SET SAIL AGAIN!</button>
<div style="margin-top:20px;font-size:12px;opacity:.7">
<a href="https://sloppy.live" style="color:#d4a84b;text-decoration:none">sloppy.live</a>
</div>
</div>
<div class="controls"><strong>HELM:</strong> ARROWS to steer & sail | SPACE to fire cannons | P to pause</div>
<script>
const c=document.getElementById('gameCanvas'),ctx=c.getContext('2d');
const resizeCanvas=()=>{c.width=Math.min(window.innerWidth-40,1200);c.height=Math.min(window.innerHeight-40,800)};
resizeCanvas();
window.addEventListener('resize',resizeCanvas);
let gameRunning=false,paused=false,score=0,level=1,lives=3,shipsDestroyed=0;
let ship=null,cannonballs=[],enemies=[],particles=[],waves=[],keys={};

// Ocean wave pattern
class Wave{
constructor(y){this.y=y;this.offset=Math.random()*Math.PI*2;this.speed=0.02+Math.random()*0.01;this.amplitude=3+Math.random()*3}
draw(){
ctx.strokeStyle='rgba(30,80,120,0.3)';
ctx.lineWidth=1;
ctx.beginPath();
for(let x=0;x<c.width;x+=10){
const waveY=this.y+Math.sin(x*0.02+this.offset)*this.amplitude;
if(x===0)ctx.moveTo(x,waveY);
else ctx.lineTo(x,waveY);
}
ctx.stroke();
this.offset+=this.speed;
}
}

class Ship{
constructor(){this.x=c.width/2;this.y=c.height/2;this.angle=-Math.PI/2;this.velocity={x:0,y:0};this.size=20;this.rotationSpeed=.08;this.thrust=.12;this.friction=.985;this.invincible=false;this.invincibleTime=0;this.sailAngle=0}
update(){
if(keys['ArrowLeft'])this.angle-=this.rotationSpeed;
if(keys['ArrowRight'])this.angle+=this.rotationSpeed;
if(keys['ArrowUp']){
this.velocity.x+=Math.cos(this.angle)*this.thrust;
this.velocity.y+=Math.sin(this.angle)*this.thrust;
this.sailAngle=Math.sin(Date.now()*0.01)*0.2;
for(let i=0;i<2;i++)particles.push(new Particle(this.x-Math.cos(this.angle)*this.size,this.y-Math.sin(this.angle)*this.size,'#4a90a4',3,'wake'))
}
this.velocity.x*=this.friction;
this.velocity.y*=this.friction;
this.x+=this.velocity.x;
this.y+=this.velocity.y;
if(this.x<0)this.x=c.width;
if(this.x>c.width)this.x=0;
if(this.y<0)this.y=c.height;
if(this.y>c.height)this.y=0;
if(this.invincible){
this.invincibleTime--;
if(this.invincibleTime<=0)this.invincible=false
}
}
draw(){
ctx.save();
ctx.translate(this.x,this.y);
ctx.rotate(this.angle+Math.PI/2);
if(!this.invincible||Math.floor(Date.now()/100)%2===0){
// Hull
ctx.fillStyle='#5c3a1e';
ctx.strokeStyle='#8b5a2b';
ctx.lineWidth=2;
ctx.beginPath();
ctx.moveTo(0,-this.size);
ctx.lineTo(this.size*0.6,this.size*0.3);
ctx.lineTo(this.size*0.3,this.size);
ctx.lineTo(-this.size*0.3,this.size);
ctx.lineTo(-this.size*0.6,this.size*0.3);
ctx.closePath();
ctx.fill();
ctx.stroke();

// Mast
ctx.strokeStyle='#3d2512';
ctx.lineWidth=3;
ctx.beginPath();
ctx.moveTo(0,this.size*0.5);
ctx.lineTo(0,-this.size*0.5);
ctx.stroke();

// Sail
ctx.save();
ctx.rotate(this.sailAngle);
ctx.fillStyle='#e8dcc8';
ctx.strokeStyle='#8b7355';
ctx.lineWidth=1;
ctx.beginPath();
ctx.moveTo(-this.size*0.5,-this.size*0.4);
ctx.quadraticCurveTo(0,-this.size*0.1,this.size*0.5,-this.size*0.4);
ctx.lineTo(this.size*0.4,this.size*0.2);
ctx.quadraticCurveTo(0,this.size*0.4,-this.size*0.4,this.size*0.2);
ctx.closePath();
ctx.fill();
ctx.stroke();
ctx.restore();

// Jolly Roger
ctx.fillStyle='#111';
ctx.beginPath();
ctx.arc(0,-this.size*0.3,4,0,Math.PI*2);
ctx.fill();
ctx.fillStyle='#fff';
ctx.font='6px serif';
ctx.textAlign='center';
ctx.fillText('â˜ ',0,-this.size*0.28);

// Cannons
ctx.fillStyle='#333';
ctx.fillRect(-this.size*0.7,-this.size*0.1,6,4);
ctx.fillRect(this.size*0.5,-this.size*0.1,6,4);
}
ctx.restore()
}
makeInvincible(){this.invincible=true;this.invincibleTime=120}
}

class Cannonball{
constructor(x,y,angle){
this.x=x;this.y=y;
this.velocity={x:Math.cos(angle)*10,y:Math.sin(angle)*10};
this.life=50;this.size=5
}
update(){
this.x+=this.velocity.x;
this.y+=this.velocity.y;
this.life--;
if(this.x<0)this.x=c.width;
if(this.x>c.width)this.x=0;
if(this.y<0)this.y=c.height;
if(this.y>c.height)this.y=0;
// Smoke trail
if(Math.random()>0.7)particles.push(new Particle(this.x,this.y,'#555',2,'smoke'))
}
draw(){
ctx.fillStyle='#222';
ctx.shadowBlur=8;
ctx.shadowColor='rgba(255,100,0,0.5)';
ctx.beginPath();
ctx.arc(this.x,this.y,this.size,0,Math.PI*2);
ctx.fill();
ctx.shadowBlur=0
}
isDead(){return this.life<=0}
}

class EnemyShip{
constructor(x,y,size){
this.x=x||Math.random()*c.width;
this.y=y||Math.random()*c.height;
this.size=size||45;
const speed=0.8+Math.random()*1.5,angle=Math.random()*Math.PI*2;
this.velocity={x:Math.cos(angle)*speed,y:Math.sin(angle)*speed};
this.rotation=Math.random()*Math.PI*2;
this.rotationSpeed=(Math.random()-.5)*.03;
this.type=Math.random()>0.7?'kraken':'ship';
this.bobOffset=Math.random()*Math.PI*2;
}
update(){
this.x+=this.velocity.x;
this.y+=this.velocity.y;
this.rotation+=this.rotationSpeed;
this.bobOffset+=0.05;
if(this.x<-this.size)this.x=c.width+this.size;
if(this.x>c.width+this.size)this.x=-this.size;
if(this.y<-this.size)this.y=c.height+this.size;
if(this.y>c.height+this.size)this.y=-this.size
}
draw(){
ctx.save();
ctx.translate(this.x,this.y);
const bob=Math.sin(this.bobOffset)*3;
ctx.translate(0,bob);

if(this.type==='kraken'){
// Kraken tentacle
ctx.rotate(this.rotation);
ctx.strokeStyle='#2d5a3a';
ctx.fillStyle='#1a3a2a';
ctx.lineWidth=3;
for(let i=0;i<6;i++){
const angle=(i/6)*Math.PI*2;
const len=this.size*(0.6+Math.sin(Date.now()*0.005+i)*0.2);
ctx.save();
ctx.rotate(angle);
ctx.beginPath();
ctx.moveTo(0,0);
ctx.quadraticCurveTo(len*0.5,len*0.3,len*0.3,len);
ctx.quadraticCurveTo(0,len*0.8,-len*0.3,len);
ctx.quadraticCurveTo(-len*0.5,len*0.3,0,0);
ctx.fill();
ctx.stroke();
ctx.restore();
}
// Eye
ctx.fillStyle='#ff0';
ctx.shadowColor='#ff0';
ctx.shadowBlur=10;
ctx.beginPath();
ctx.arc(0,0,this.size*0.15,0,Math.PI*2);
ctx.fill();
ctx.fillStyle='#000';
ctx.beginPath();
ctx.arc(0,0,this.size*0.08,0,Math.PI*2);
ctx.fill();
}else{
// Enemy ship
ctx.rotate(this.rotation);
ctx.fillStyle='#4a2a1a';
ctx.strokeStyle='#6b3a2a';
ctx.lineWidth=2;
ctx.beginPath();
ctx.moveTo(0,-this.size*0.8);
ctx.lineTo(this.size*0.4,this.size*0.4);
ctx.lineTo(-this.size*0.4,this.size*0.4);
ctx.closePath();
ctx.fill();
ctx.stroke();
// Red sails
ctx.fillStyle='#8b0000';
ctx.beginPath();
ctx.moveTo(-this.size*0.3,-this.size*0.3);
ctx.lineTo(this.size*0.3,-this.size*0.3);
ctx.lineTo(0,this.size*0.2);
ctx.closePath();
ctx.fill();
}
ctx.restore()
}
collidesWith(obj){
const dx=this.x-obj.x,dy=this.y-obj.y;
return Math.sqrt(dx*dx+dy*dy)<this.size*0.7+(obj.size||0)
}
}

class Particle{
constructor(x,y,color,size,type){
this.x=x;this.y=y;this.color=color;this.size=size||3;this.type=type||'debris';
const angle=Math.random()*Math.PI*2,speed=type==='wake'?0.5:2+Math.random()*3;
this.velocity={x:Math.cos(angle)*speed,y:Math.sin(angle)*speed};
this.life=type==='smoke'?20:40+Math.random()*30;
this.maxLife=this.life
}
update(){
this.x+=this.velocity.x;
this.y+=this.velocity.y;
this.velocity.x*=.96;
this.velocity.y*=.96;
if(this.type==='smoke')this.velocity.y-=0.05;
this.life--
}
draw(){
const alpha=this.life/this.maxLife;
ctx.fillStyle=this.color;
ctx.globalAlpha=alpha;
ctx.shadowBlur=this.type==='debris'?5:0;
ctx.shadowColor=this.color;
ctx.beginPath();
ctx.arc(this.x,this.y,this.size*(this.type==='smoke'?1.5-alpha*0.5:1),0,Math.PI*2);
ctx.fill();
ctx.globalAlpha=1;
ctx.shadowBlur=0
}
isDead(){return this.life<=0}
}

const initWaves=()=>{waves=[];for(let i=0;i<15;i++)waves.push(new Wave(i*(c.height/15)))};
const spawnEnemies=count=>{
for(let i=0;i<count;i++){
let x,y;
do{x=Math.random()*c.width;y=Math.random()*c.height}while(ship&&Math.hypot(x-ship.x,y-ship.y)<150);
enemies.push(new EnemyShip(x,y,40+Math.random()*20))
}
};

const destroyEnemy=e=>{
shipsDestroyed++;
if(e.size>20){
const newSize=e.size*0.6;
for(let i=0;i<2;i++){
const ne=new EnemyShip(e.x,e.y,newSize);
ne.type=e.type;
enemies.push(ne);
}
score+=e.type==='kraken'?75:50
}else{score+=e.type==='kraken'?150:100}
// Explosion
const colors=e.type==='kraken'?['#2d5a3a','#1a3a2a','#4a8a5a']:['#5c3a1e','#8b5a2b','#f80'];
for(let i=0;i<25;i++)particles.push(new Particle(e.x,e.y,colors[Math.floor(Math.random()*colors.length)],4,'debris'))
};

let lastShot=0;
const shoot=()=>{
const now=Date.now();
if(now-lastShot>300){
cannonballs.push(new Cannonball(ship.x+Math.cos(ship.angle)*ship.size,ship.y+Math.sin(ship.angle)*ship.size,ship.angle));
lastShot=now;
// Recoil particles
for(let i=0;i<5;i++)particles.push(new Particle(ship.x,ship.y,'#ff6600',2,'debris'))
}
};

const update=()=>{
if(!gameRunning||paused)return;
ship.update();
cannonballs=cannonballs.filter(b=>{b.update();return!b.isDead()});
enemies.forEach(e=>e.update());
particles=particles.filter(p=>{p.update();return!p.isDead()});

for(let i=cannonballs.length-1;i>=0;i--){
for(let j=enemies.length-1;j>=0;j--){
if(enemies[j].collidesWith(cannonballs[i])){
destroyEnemy(enemies[j]);
enemies.splice(j,1);
cannonballs.splice(i,1);
break
}
}
}

if(!ship.invincible){
for(let i=enemies.length-1;i>=0;i--){
if(enemies[i].collidesWith(ship)){
destroyEnemy(enemies[i]);
enemies.splice(i,1);
lives--;
ship.makeInvincible();
for(let j=0;j<30;j++)particles.push(new Particle(ship.x,ship.y,'#d4a84b',3,'debris'));
if(lives<=0)endGame();
updateUI();
break
}
}
}

if(enemies.length===0){
level++;
showLevelUp();
spawnEnemies(3+level);
updateUI()
}
updateUI()
};

const draw=()=>{
// Ocean gradient
const gradient=ctx.createLinearGradient(0,0,0,c.height);
gradient.addColorStop(0,'#0a1628');
gradient.addColorStop(0.5,'#0d1a2a');
gradient.addColorStop(1,'#051015');
ctx.fillStyle=gradient;
ctx.fillRect(0,0,c.width,c.height);

// Wave patterns
waves.forEach(w=>w.draw());

// Moon
ctx.fillStyle='#c9b896';
ctx.shadowColor='#c9b896';
ctx.shadowBlur=30;
ctx.beginPath();
ctx.arc(c.width-80,60,25,0,Math.PI*2);
ctx.fill();
ctx.shadowBlur=0;

// Stars
ctx.fillStyle='#fff';
for(let i=0;i<50;i++){
const x=(i*137)%c.width,y=(i*97)%c.height;
ctx.globalAlpha=0.3+Math.sin(Date.now()*0.002+i)*0.2;
ctx.fillRect(x,y,1,1);
}
ctx.globalAlpha=1;

particles.forEach(p=>p.draw());
enemies.forEach(e=>e.draw());
cannonballs.forEach(b=>b.draw());
if(ship)ship.draw();

if(paused){
ctx.fillStyle='#d4a84b';
ctx.font='48px "Pirata One"';
ctx.textAlign='center';
ctx.textBaseline='middle';
ctx.shadowBlur=20;
ctx.shadowColor='#d4a84b';
ctx.fillText('ANCHORS AWEIGH!',c.width/2,c.height/2);
ctx.shadowBlur=0
}
};

const gameLoop=()=>{
update();
draw();
if(gameRunning)requestAnimationFrame(gameLoop)
};

const startGame=()=>{
gameRunning=true;
paused=false;
score=0;
level=1;
lives=3;
shipsDestroyed=0;
ship=new Ship();
cannonballs=[];
enemies=[];
particles=[];
initWaves();
spawnEnemies(3);
document.getElementById('gameOverScreen').classList.remove('show');
updateUI();
gameLoop()
};

const endGame=()=>{
gameRunning=false;
document.getElementById('finalScore').textContent=score;
document.getElementById('finalLevel').textContent=level;
document.getElementById('shipsDestroyed').textContent=shipsDestroyed;
document.getElementById('gameOverScreen').classList.add('show')
};

const updateUI=()=>{
document.getElementById('score').textContent=score;
document.getElementById('level').textContent=level;
const livesContainer=document.getElementById('lives');
livesContainer.innerHTML='';
for(let i=0;i<lives;i++){
const lifeIcon=document.createElement('span');
lifeIcon.className='life-icon';
lifeIcon.textContent='â›µ';
livesContainer.appendChild(lifeIcon)
}
};

const showLevelUp=()=>{
const levelUpEl=document.getElementById('levelUp');
levelUpEl.textContent=`WAVE ${level} CLEARED!`;
levelUpEl.classList.add('show');
setTimeout(()=>levelUpEl.classList.remove('show'),2e3)
};

document.addEventListener('keydown',e=>{
keys[e.key]=true;
if(e.key===' '&&gameRunning&&!paused){e.preventDefault();shoot()}
if(e.key==='p'||e.key==='P'){
e.preventDefault();
if(gameRunning){paused=!paused;if(!paused)gameLoop()}
}
});
document.addEventListener('keyup',e=>keys[e.key]=false);
startGame()
</script>
</body>
</html>
