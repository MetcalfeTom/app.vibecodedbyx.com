<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Win95 Loâ€‘Fi Soundboard â€” Beat Maker</title>
    <meta name="description" content="Tap classic Win95 vibes into a loâ€‘fi beat maker." />

    <!-- Favicon (emoji) -->
    <link rel="icon" href="https://emojicdn.elk.sh/%F0%9F%AA%9F.png" />

    <!-- Open Graph for shareability (.png only) -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Win95 Loâ€‘Fi Soundboard" />
    <meta property="og:description" content="Tap classic Win95 vibes into a loâ€‘fi beat maker." />
    <meta property="og:url" content="https://app.vibecodedbyx.com/win95-lofi-soundboard" />
    <meta property="og:image" content="https://emojicdn.elk.sh/%F0%9F%8E%9B.png" />

    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header class="brand">
      <div class="logo">ğŸªŸ Win95 Loâ€‘Fi Soundboard</div>
      <nav class="links">
        <a href="https://www.vibecodedbyx.com" target="_blank" rel="noopener">Back to Livestream</a> | <a href="https://app.vibecodedbyx.com/overview" style="color:#4ecdc4;text-decoration:none">ğŸ¨ View All Apps</a>
      </nav>
    </header>

    <main class="container">
      <section class="controls">
        <button id="startBtn" class="primary">Start</button>
        <button id="stopBtn">Stop</button>
        <label class="ctrl">
          <span>BPM</span>
          <input id="bpm" type="range" min="60" max="140" value="92" />
          <span id="bpmVal">92</span>
        </label>
        <label class="ctrl">
          <span>Loâ€‘Fi</span>
          <input id="lofi" type="range" min="0" max="1" value="0.3" step="0.01" />
        </label>
        <button id="randomizeBtn">Win95 Mash</button>
        <button id="clearBtn">Clear</button>
        <button id="saveBtn">Save Pattern</button>
        <button id="loadBtn">Load</button>
      </section>

      <section class="presets">
        <h3>ğŸµ Jingle Presets</h3>
        <div class="preset-row">
          <button id="presetStartup95" class="preset-btn">ğŸªŸ Win95 Start</button>
          <button id="presetShutdown95" class="preset-btn">ğŸ”´ Win95 Stop</button>
          <button id="presetStartup98" class="preset-btn">ğŸ’š Win98 Start</button>
          <button id="presetShutdown98" class="preset-btn">ğŸ§¡ Win98 Stop</button>
          <button id="presetStartupXP" class="preset-btn">ğŸ’™ WinXP Start</button>
          <button id="presetShutdownXP" class="preset-btn">ğŸ’— WinXP Stop</button>
          <button id="presetNotify" class="preset-btn">ğŸ”” Notify</button>
          <button id="presetTada" class="preset-btn">ğŸ‰ Tada</button>
        </div>
      </section>

      <section class="grid" id="grid">
        <!-- Rows injected by JS -->
      </section>

      <section class="mix">
        <div class="mix-row" id="mixRow">
          <!-- Channel strips injected by JS -->
        </div>
      </section>

      <section class="help">
        <p>
          Tip: Press Start to unlock audio (mobile needs a tap). Toggle steps to build your pattern. Use Loâ€‘Fi for warmth and Win95 Mash to randomize.
        </p>
        <p class="status" id="status">Ready.</p>
      </section>
    </main>

    <script src="app.js"></script>
    <section class="public" id="publicSection">
      <h2>ğŸµ Public Beats</h2>
      <div class="pub-row">
        <input id="beatTitle" placeholder="Title your beat (e.g. Night Drive)" maxlength="60" />
        <button id="publishBtn" class="primary">Publish Public</button>
        <button id="saveMyBeatBtn">Save My Beat</button>
        <span id="pubStatus" class="status" aria-live="polite"></span>
      </div>
      <div id="pubError" class="error" style="display:none"></div>

      <h3 style="margin-top:20px;color:var(--sub);font-size:15px">ğŸ“‚ My Saved Beats</h3>
      <div class="board" style="margin-bottom:20px">
        <table class="pub-table">
          <thead><tr><th>Title</th><th>BPM</th><th>Actions</th></tr></thead>
          <tbody id="myBeatsBody"><tr><td colspan="3" class="muted">Loading your beatsâ€¦</td></tr></tbody>
        </table>
      </div>

      <h3 style="color:var(--sub);font-size:15px">ğŸŒ Community Beats</h3>
      <div class="board">
        <table class="pub-table">
          <thead><tr><th>Title</th><th>BPM</th><th>Votes</th><th>Actions</th></tr></thead>
          <tbody id="beatsBody"><tr><td colspan="4" class="muted">Loading public beatsâ€¦</td></tr></tbody>
        </table>
      </div>
    </section>
    <script type="module" src="supabase-config.js"></script>
    <script type="module" src="public.js"></script>
  </body>
  </html>
