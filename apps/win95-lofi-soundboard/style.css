:root{
  --bg:#0b0f14; /* deep neutral */
  --panel:#121821;
  --muted:#2a3442;
  --accent:#7bd389; /* loâ€‘fi mint */
  --accent-2:#d3a57b; /* warm sand */
  --accent-glow:rgba(123,211,137,0.4);
  --text:#e6edf3;
  --sub:#9fb0c3;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:linear-gradient(180deg,#0b0f14 0%, #0e141c 50%, #0a0d12 100%);
  background-attachment:fixed;
  color:var(--text);
  font:500 16px/1.4 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
}
.brand{
  display:flex;align-items:center;justify-content:space-between;
  padding:14px 16px;border-bottom:1px solid var(--muted);
  background:rgba(18,24,33,0.8);backdrop-filter:saturate(120%) blur(6px);
  position:sticky;top:0;z-index:10;
}
.brand .logo{font-weight:700;letter-spacing:.2px}
.brand a{color:var(--sub);text-decoration:none}
.brand a:hover{color:var(--text)}
.container{max-width:1100px;margin:0 auto;padding:16px}

.controls{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:14px}
.controls button, .controls input[type="range"]{
  background:var(--panel);color:var(--text);
  border:1px solid var(--muted);border-radius:10px;padding:10px 12px;
  transition:all .2s ease;
}
.controls button{cursor:pointer;font-weight:500}
.controls button.primary{
  background:linear-gradient(135deg,var(--accent),#5cb368);
  color:#0b0f14;border-color:#4fb26a;
  box-shadow:0 0 15px var(--accent-glow);
}
.controls button.primary:hover{
  box-shadow:0 0 25px var(--accent-glow),0 4px 12px rgba(0,0,0,0.3);
  transform:translateY(-2px);
}
.controls button:hover{border-color:var(--accent);transform:translateY(-1px)}
.controls button:active{transform:translateY(0)}
.controls .ctrl{display:flex;align-items:center;gap:8px;padding:6px 8px;background:var(--panel);border-radius:10px;border:1px solid var(--muted)}

.presets{background:linear-gradient(180deg,var(--panel),#0e151d);border:1px solid var(--muted);border-radius:12px;padding:14px;margin-bottom:14px;box-shadow:inset 0 1px 0 rgba(255,255,255,0.03)}
.presets h3{margin:0 0 12px 0;color:var(--sub);font-size:14px;font-weight:600;text-transform:uppercase;letter-spacing:0.5px}
.preset-row{display:flex;flex-wrap:wrap;gap:10px}
.preset-btn{
  background:linear-gradient(145deg,#1a2838,#0e151d);
  color:var(--text);border:1px solid var(--muted);border-radius:12px;
  padding:12px 18px;cursor:pointer;font-size:14px;font-weight:500;
  transition:all .25s cubic-bezier(.4,0,.2,1);
  box-shadow:0 2px 8px rgba(0,0,0,0.2);
}
.preset-btn:hover{
  border-color:var(--accent);transform:translateY(-3px);
  box-shadow:0 0 20px rgba(123,211,137,0.2),0 8px 16px rgba(0,0,0,0.3);
}
.preset-btn:active{transform:translateY(0);box-shadow:0 1px 4px rgba(0,0,0,0.2)}

.grid{
  background:var(--panel);border:1px solid var(--muted);border-radius:12px;
  overflow-x:auto;overflow-y:hidden;
}
.row{display:grid;grid-template-columns:150px repeat(32,40px);border-bottom:1px solid var(--muted)}
.row:last-child{border-bottom:0}
.label{padding:10px 12px;background:#0e151d;color:var(--sub);display:flex;align-items:center;gap:8px;border-right:1px solid var(--muted);position:sticky;left:0;z-index:1}
.cell{height:38px;border-right:1px solid #1a2430;position:relative}
.cell:last-child{border-right:0}
.cell input{display:none}
.cell .pad{
  position:absolute;inset:5px;border-radius:8px;border:1px dashed #293546;background:transparent;
  transition:all .15s cubic-bezier(.4,0,.2,1);
}
.cell .pad:hover{background:rgba(123,211,137,.05);border-color:#3a4858}
.cell input:checked + .pad{
  background:linear-gradient(180deg, rgba(123,211,137,.35), rgba(123,211,137,.15));
  border:1px solid var(--accent);
  box-shadow:0 0 12px rgba(123,211,137,.3);
}
.cell.active .pad{
  outline:2px solid var(--accent-2);outline-offset:-2px;
  box-shadow:0 0 16px rgba(211,165,123,.4);
  animation:pulse-active 0.5s ease;
}
@keyframes pulse-active{
  0%{transform:scale(1)}
  50%{transform:scale(1.05)}
  100%{transform:scale(1)}
}

.mix{margin-top:14px;overflow-x:auto}
.mix-row{display:grid;grid-template-columns:repeat(14,minmax(100px,1fr));gap:10px}
.strip{background:var(--panel);border:1px solid var(--muted);border-radius:12px;padding:10px}
.strip h4{margin:0 0 8px 0;color:var(--sub);font-size:13px}
.strip label{display:flex;align-items:center;gap:8px;margin-bottom:8px}
.strip input[type="range"]{width:100%}

.help{color:var(--sub);margin-top:10px}
.status{margin-top:6px;color:#a4e4b4}

/* Public beats */
.public{margin-top:18px;background:var(--panel);border:1px solid var(--muted);border-radius:12px;padding:12px}
.public h2{margin:0 0 8px;color:var(--sub);font-size:16px}
.pub-row{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:10px}
.pub-row input{flex:1;min-width:220px;background:#0e151d;color:var(--text);border:1px solid var(--muted);border-radius:10px;padding:10px 12px}
.public .error{background:#2a1320;border:1px solid #6b283f;color:#ffd6e0;border-radius:10px;padding:8px 10px;margin:8px 0}
.board{overflow:auto;border-radius:10px;border:1px solid var(--muted)}
.pub-table{width:100%;border-collapse:collapse}
.pub-table th,.pub-table td{padding:10px;border-bottom:1px solid #1a2430;text-align:left}
.pub-table th{background:#0e151d;color:var(--sub)}
.pub-table td .btn{padding:6px 10px;border:1px solid var(--muted);border-radius:8px;background:transparent;color:var(--text);cursor:pointer}
.pub-table td .btn.primary{background:var(--accent);border-color:#4fb26a;color:#0b0f14}

@media (max-width: 900px){
  .row{grid-template-columns:110px repeat(32,40px)}
  .mix-row{grid-template-columns:repeat(14,minmax(100px,1fr))}
}
@media (max-width: 560px){
  .row{grid-template-columns:90px repeat(32,38px)}
  .cell{height:32px}
  .mix-row{grid-template-columns:repeat(14,minmax(90px,1fr))}
}
