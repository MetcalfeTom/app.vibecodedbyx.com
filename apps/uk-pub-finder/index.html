<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>The British Pub & Restaurant Guide</title>
  <meta name="description" content="Discover top-rated pubs and restaurants across the United Kingdom">
  <meta property="og:title" content="UK Pub & Restaurant Finder">
  <meta property="og:description" content="Find the finest pubs and restaurants across Britain">
  <meta property="og:url" content="https://sloppy.live/uk-pub-finder">
  <meta property="og:image" content="https://sloppy.live/uk-pub-finder/og-image.png">
  <link rel="icon" href="https://emojicdn.elk.sh/üç∫">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Source+Sans+3:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --pub-red: #8B2635;
      --pub-gold: #C9A962;
      --pub-cream: #F5F0E6;
      --pub-dark: #1C1410;
      --pub-wood: #3D2314;
      --pub-green: #2D4A3E;
    }

    body {
      min-height: 100vh;
      background: var(--pub-cream);
      font-family: 'Source Sans 3', sans-serif;
      color: var(--pub-dark);
    }

    /* Header */
    header {
      background: linear-gradient(180deg, var(--pub-dark) 0%, var(--pub-wood) 100%);
      padding: 30px 20px;
      text-align: center;
      border-bottom: 4px solid var(--pub-gold);
      position: relative;
    }

    header::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23C9A962' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
      opacity: 0.5;
    }

    .logo {
      position: relative;
      z-index: 1;
    }

    .logo-icon {
      font-size: 3rem;
      margin-bottom: 10px;
    }

    h1 {
      font-family: 'Playfair Display', serif;
      font-size: 2.5rem;
      font-weight: 700;
      color: var(--pub-cream);
      text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
      margin-bottom: 5px;
    }

    .tagline {
      color: var(--pub-gold);
      font-size: 1rem;
      letter-spacing: 2px;
      text-transform: uppercase;
    }

    /* Search Section */
    .search-section {
      background: var(--pub-red);
      padding: 25px 20px;
      border-bottom: 3px solid var(--pub-gold);
    }

    .search-container {
      max-width: 900px;
      margin: 0 auto;
      display: flex;
      gap: 15px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .search-input {
      flex: 1;
      min-width: 250px;
      padding: 14px 20px;
      font-size: 1rem;
      font-family: 'Source Sans 3', sans-serif;
      border: 2px solid var(--pub-gold);
      border-radius: 8px;
      background: var(--pub-cream);
      color: var(--pub-dark);
    }

    .search-input::placeholder {
      color: #888;
    }

    .search-input:focus {
      outline: none;
      box-shadow: 0 0 0 3px rgba(201, 169, 98, 0.4);
    }

    .filter-select {
      padding: 14px 20px;
      font-size: 1rem;
      font-family: 'Source Sans 3', sans-serif;
      border: 2px solid var(--pub-gold);
      border-radius: 8px;
      background: var(--pub-cream);
      color: var(--pub-dark);
      cursor: pointer;
      min-width: 150px;
    }

    .filter-select:focus {
      outline: none;
      box-shadow: 0 0 0 3px rgba(201, 169, 98, 0.4);
    }

    /* Filters */
    .filters {
      background: var(--pub-wood);
      padding: 15px 20px;
      display: flex;
      gap: 10px;
      justify-content: center;
      flex-wrap: wrap;
    }

    .filter-btn {
      padding: 10px 20px;
      font-family: 'Source Sans 3', sans-serif;
      font-size: 0.9rem;
      font-weight: 500;
      border: 2px solid transparent;
      border-radius: 25px;
      background: rgba(255,255,255,0.1);
      color: var(--pub-cream);
      cursor: pointer;
      transition: all 0.2s;
    }

    .filter-btn:hover {
      background: rgba(255,255,255,0.2);
    }

    .filter-btn.active {
      background: var(--pub-gold);
      color: var(--pub-dark);
      border-color: var(--pub-gold);
    }

    /* Results */
    .results-section {
      max-width: 1200px;
      margin: 0 auto;
      padding: 30px 20px;
    }

    .results-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 25px;
      padding-bottom: 15px;
      border-bottom: 2px solid var(--pub-wood);
    }

    .results-count {
      font-family: 'Playfair Display', serif;
      font-size: 1.3rem;
      color: var(--pub-wood);
    }

    .sort-select {
      padding: 8px 15px;
      font-family: 'Source Sans 3', sans-serif;
      border: 1px solid #ccc;
      border-radius: 5px;
      background: white;
      cursor: pointer;
    }

    /* Cards Grid */
    .cards-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
      gap: 25px;
    }

    /* Pub Card */
    .pub-card {
      background: white;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      transition: transform 0.3s, box-shadow 0.3s;
      border: 1px solid #e0d8c8;
    }

    .pub-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 25px rgba(0,0,0,0.15);
    }

    .card-header {
      background: linear-gradient(135deg, var(--pub-dark) 0%, var(--pub-wood) 100%);
      padding: 20px;
      position: relative;
    }

    .card-type {
      position: absolute;
      top: 15px;
      right: 15px;
      padding: 5px 12px;
      font-size: 0.75rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 1px;
      border-radius: 20px;
      background: var(--pub-gold);
      color: var(--pub-dark);
    }

    .card-type.restaurant {
      background: var(--pub-red);
      color: white;
    }

    .card-type.gastropub {
      background: var(--pub-green);
      color: white;
    }

    .card-name {
      font-family: 'Playfair Display', serif;
      font-size: 1.4rem;
      font-weight: 700;
      color: var(--pub-cream);
      margin-bottom: 5px;
    }

    .card-location {
      color: var(--pub-gold);
      font-size: 0.9rem;
      display: flex;
      align-items: center;
      gap: 5px;
    }

    .card-body {
      padding: 20px;
    }

    .card-rating {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 12px;
    }

    .stars {
      color: var(--pub-gold);
      font-size: 1.1rem;
      letter-spacing: 2px;
    }

    .rating-value {
      font-weight: 600;
      color: var(--pub-wood);
    }

    .review-count {
      color: #888;
      font-size: 0.85rem;
    }

    .card-cuisine {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      margin-bottom: 12px;
    }

    .cuisine-tag {
      padding: 4px 10px;
      font-size: 0.8rem;
      background: var(--pub-cream);
      color: var(--pub-wood);
      border-radius: 15px;
      border: 1px solid #d4c9b5;
    }

    .card-description {
      color: #555;
      font-size: 0.95rem;
      line-height: 1.5;
      margin-bottom: 15px;
    }

    .card-features {
      display: flex;
      gap: 15px;
      flex-wrap: wrap;
      padding-top: 12px;
      border-top: 1px solid #eee;
    }

    .feature {
      display: flex;
      align-items: center;
      gap: 5px;
      font-size: 0.85rem;
      color: #666;
    }

    .feature-icon {
      font-size: 1rem;
    }

    /* Price indicator */
    .price {
      color: var(--pub-green);
      font-weight: 600;
    }

    /* No results */
    .no-results {
      text-align: center;
      padding: 60px 20px;
      color: #888;
    }

    .no-results-icon {
      font-size: 4rem;
      margin-bottom: 20px;
    }

    .no-results h3 {
      font-family: 'Playfair Display', serif;
      font-size: 1.5rem;
      color: var(--pub-wood);
      margin-bottom: 10px;
    }

    /* Footer */
    footer {
      background: var(--pub-dark);
      color: var(--pub-cream);
      text-align: center;
      padding: 25px 20px;
      margin-top: 40px;
    }

    footer a {
      color: var(--pub-gold);
      text-decoration: none;
    }

    footer a:hover {
      text-decoration: underline;
    }

    /* Responsive */
    @media (max-width: 600px) {
      h1 {
        font-size: 1.8rem;
      }

      .tagline {
        font-size: 0.85rem;
      }

      .search-input {
        min-width: 100%;
      }

      .cards-grid {
        grid-template-columns: 1fr;
      }

      .card-name {
        font-size: 1.2rem;
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="logo">
      <div class="logo-icon">üç∫</div>
      <h1>The British Pub & Restaurant Guide</h1>
      <p class="tagline">Discover the Finest Establishments Across the UK</p>
    </div>
  </header>

  <section class="search-section">
    <div class="search-container">
      <input type="text" class="search-input" id="searchInput" placeholder="Search by name, location, or cuisine...">
      <select class="filter-select" id="regionFilter">
        <option value="">All Regions</option>
        <option value="London">London</option>
        <option value="South East">South East</option>
        <option value="South West">South West</option>
        <option value="Midlands">Midlands</option>
        <option value="North">North</option>
        <option value="Scotland">Scotland</option>
        <option value="Wales">Wales</option>
      </select>
    </div>
  </section>

  <section class="filters">
    <button class="filter-btn active" data-filter="all">All</button>
    <button class="filter-btn" data-filter="pub">Traditional Pubs</button>
    <button class="filter-btn" data-filter="gastropub">Gastropubs</button>
    <button class="filter-btn" data-filter="restaurant">Restaurants</button>
  </section>

  <section class="results-section">
    <div class="results-header">
      <span class="results-count" id="resultsCount">Loading establishments...</span>
      <select class="sort-select" id="sortSelect">
        <option value="rating">Sort by Rating</option>
        <option value="name">Sort by Name</option>
        <option value="reviews">Sort by Reviews</option>
      </select>
    </div>

    <div class="cards-grid" id="cardsGrid">
      <!-- Cards will be inserted here -->
    </div>

    <div class="no-results hidden" id="noResults">
      <div class="no-results-icon">üîç</div>
      <h3>No establishments found</h3>
      <p>Try adjusting your search or filters</p>
    </div>
  </section>

  <footer>
    <p>A curated guide to Britain's finest drinking and dining establishments</p>
    <p style="margin-top: 10px; opacity: 0.7;"><a href="https://sloppy.live">sloppy.live</a></p>
  </footer>

  <script>
    // Curated database of UK pubs and restaurants
    const establishments = [
      {
        name: "The Churchill Arms",
        type: "pub",
        location: "Kensington, London",
        region: "London",
        rating: 4.7,
        reviews: 2847,
        cuisine: ["British", "Thai"],
        price: "¬£¬£",
        description: "Iconic pub famous for its stunning floral displays and excellent Thai food served in the conservatory. A true London landmark since 1750.",
        features: ["Beer Garden", "Food", "Historic"]
      },
      {
        name: "The Lamb & Flag",
        type: "pub",
        location: "Covent Garden, London",
        region: "London",
        rating: 4.5,
        reviews: 1923,
        cuisine: ["British", "Ales"],
        price: "¬£¬£",
        description: "One of London's oldest pubs, dating back to 1623. Charles Dickens was a regular. Traditional ales and classic pub grub.",
        features: ["Historic", "Real Ale", "Food"]
      },
      {
        name: "The Fat Duck",
        type: "restaurant",
        location: "Bray, Berkshire",
        region: "South East",
        rating: 4.9,
        reviews: 1456,
        cuisine: ["Modern British", "Tasting Menu"],
        price: "¬£¬£¬£¬£",
        description: "Heston Blumenthal's three-Michelin-starred restaurant offering an extraordinary multi-sensory dining experience.",
        features: ["Michelin Star", "Tasting Menu", "Booking Essential"]
      },
      {
        name: "The Hand & Flowers",
        type: "gastropub",
        location: "Marlow, Buckinghamshire",
        region: "South East",
        rating: 4.8,
        reviews: 2134,
        cuisine: ["Modern British", "Gastropub"],
        price: "¬£¬£¬£",
        description: "Tom Kerridge's two-Michelin-starred gastropub. Elevated British classics in a cosy, traditional setting.",
        features: ["Michelin Star", "Food", "Booking Essential"]
      },
      {
        name: "The Eagle",
        type: "gastropub",
        location: "Clerkenwell, London",
        region: "London",
        rating: 4.4,
        reviews: 1678,
        cuisine: ["Mediterranean", "British"],
        price: "¬£¬£",
        description: "Britain's original gastropub, opened in 1991. Seasonal Mediterranean-influenced menu with excellent wines.",
        features: ["Historic", "Food", "Wine"]
      },
      {
        name: "Dishoom",
        type: "restaurant",
        location: "King's Cross, London",
        region: "London",
        rating: 4.6,
        reviews: 5234,
        cuisine: ["Indian", "Bombay Cafe"],
        price: "¬£¬£",
        description: "Inspired by the old Irani caf√©s of Bombay. Outstanding breakfast, lunch and dinner in a stunning art deco setting.",
        features: ["Breakfast", "No Booking", "Vegetarian"]
      },
      {
        name: "The Sportsman",
        type: "gastropub",
        location: "Seasalter, Kent",
        region: "South East",
        rating: 4.8,
        reviews: 987,
        cuisine: ["Modern British", "Seafood"],
        price: "¬£¬£¬£",
        description: "Michelin-starred pub on the Kent coast. Famous for its homemade butter and incredible local seafood.",
        features: ["Michelin Star", "Seafood", "Coastal"]
      },
      {
        name: "The Old Nag's Head",
        type: "pub",
        location: "Edale, Peak District",
        region: "Midlands",
        rating: 4.5,
        reviews: 892,
        cuisine: ["British", "Pub Classics"],
        price: "¬£¬£",
        description: "16th-century inn at the start of the Pennine Way. Log fires, local ales, and hearty food for hungry walkers.",
        features: ["Dog Friendly", "Beer Garden", "Hiking"]
      },
      {
        name: "The Turf Tavern",
        type: "pub",
        location: "Oxford",
        region: "South East",
        rating: 4.6,
        reviews: 2456,
        cuisine: ["British", "Ales"],
        price: "¬£¬£",
        description: "Hidden 13th-century pub tucked between Oxford's dreaming spires. A favourite of students and tourists alike.",
        features: ["Historic", "Beer Garden", "Real Ale"]
      },
      {
        name: "The Witchery",
        type: "restaurant",
        location: "Edinburgh, Scotland",
        region: "Scotland",
        rating: 4.7,
        reviews: 1876,
        cuisine: ["Scottish", "Fine Dining"],
        price: "¬£¬£¬£",
        description: "Opulent Gothic dining at the gates of Edinburgh Castle. Scottish produce showcased in theatrical surroundings.",
        features: ["Romantic", "Historic", "Fine Dining"]
      },
      {
        name: "The Walnut Tree",
        type: "restaurant",
        location: "Abergavenny, Wales",
        region: "Wales",
        rating: 4.7,
        reviews: 654,
        cuisine: ["Modern European", "Welsh"],
        price: "¬£¬£¬£",
        description: "Shaun Hill's legendary restaurant celebrating Welsh produce. Simple, perfectly executed dishes.",
        features: ["Michelin Star", "Local Produce", "Wine"]
      },
      {
        name: "The Philharmonic Dining Rooms",
        type: "pub",
        location: "Liverpool",
        region: "North",
        rating: 4.6,
        reviews: 1234,
        cuisine: ["British", "Pub Classics"],
        price: "¬£¬£",
        description: "Grade I listed Victorian gin palace with ornate mahogany and stained glass. The most beautiful pub in Britain.",
        features: ["Historic", "Architecture", "Real Ale"]
      },
      {
        name: "The Pig",
        type: "gastropub",
        location: "Brockenhurst, New Forest",
        region: "South West",
        rating: 4.5,
        reviews: 1567,
        cuisine: ["British", "Farm to Table"],
        price: "¬£¬£¬£",
        description: "Restaurant with rooms in a Georgian manor. 25-mile menu featuring produce from the kitchen garden.",
        features: ["Garden", "Hotel", "Local Produce"]
      },
      {
        name: "St. John",
        type: "restaurant",
        location: "Smithfield, London",
        region: "London",
        rating: 4.6,
        reviews: 2098,
        cuisine: ["British", "Nose to Tail"],
        price: "¬£¬£¬£",
        description: "Fergus Henderson's pioneering nose-to-tail restaurant. Simple, honest British cooking at its finest.",
        features: ["Iconic", "Wine", "Bakery"]
      },
      {
        name: "The Anchor",
        type: "pub",
        location: "Walberswick, Suffolk",
        region: "South East",
        rating: 4.4,
        reviews: 789,
        cuisine: ["British", "Seafood"],
        price: "¬£¬£",
        description: "Arts and Crafts pub in a charming Suffolk village. Famous for fish and chips and stunning beach walks.",
        features: ["Beach", "Dog Friendly", "Beer Garden"]
      },
      {
        name: "Brat",
        type: "restaurant",
        location: "Shoreditch, London",
        region: "London",
        rating: 4.7,
        reviews: 1432,
        cuisine: ["Basque", "Grill"],
        price: "¬£¬£¬£",
        description: "Michelin-starred restaurant focused on open-fire cooking. Spectacular whole turbot and wood-roasted dishes.",
        features: ["Michelin Star", "Open Fire", "Wine"]
      },
      {
        name: "The Drovers Inn",
        type: "pub",
        location: "Loch Lomond, Scotland",
        region: "Scotland",
        rating: 4.3,
        reviews: 1876,
        cuisine: ["Scottish", "Pub Classics"],
        price: "¬£¬£",
        description: "Haunted 300-year-old coaching inn with kilted staff and roaring fires. Wonderfully eccentric atmosphere.",
        features: ["Historic", "Dog Friendly", "Live Music"]
      },
      {
        name: "The Hardwick",
        type: "gastropub",
        location: "Abergavenny, Wales",
        region: "Wales",
        rating: 4.5,
        reviews: 923,
        cuisine: ["Modern British", "Welsh"],
        price: "¬£¬£",
        description: "Stephen Terry's relaxed gastropub showcasing the best of Welsh borders produce. Generous portions, big flavours.",
        features: ["Local Produce", "Sunday Roast", "Wine"]
      },
      {
        name: "The Crown at Bray",
        type: "gastropub",
        location: "Bray, Berkshire",
        region: "South East",
        rating: 4.6,
        reviews: 1234,
        cuisine: ["British", "Seasonal"],
        price: "¬£¬£¬£",
        description: "Heston Blumenthal's village pub offering refined yet accessible cooking in a 16th-century setting.",
        features: ["Historic", "Garden", "Sunday Roast"]
      },
      {
        name: "Hawksmoor",
        type: "restaurant",
        location: "Seven Dials, London",
        region: "London",
        rating: 4.6,
        reviews: 3456,
        cuisine: ["Steakhouse", "British"],
        price: "¬£¬£¬£",
        description: "London's favourite steakhouse serving the finest British beef in a beautiful art deco basement.",
        features: ["Steak", "Cocktails", "Private Dining"]
      },
      {
        name: "The Star Inn",
        type: "gastropub",
        location: "Harome, Yorkshire",
        region: "North",
        rating: 4.7,
        reviews: 876,
        cuisine: ["Modern British", "Yorkshire"],
        price: "¬£¬£¬£",
        description: "14th-century thatched pub with a Michelin star. Andrew Pern's celebration of Yorkshire's larder.",
        features: ["Michelin Star", "Thatched", "Garden"]
      },
      {
        name: "The Marksman",
        type: "gastropub",
        location: "Hackney, London",
        region: "London",
        rating: 4.5,
        reviews: 1567,
        cuisine: ["Modern British", "Seasonal"],
        price: "¬£¬£",
        description: "Michelin-starred East End pub. Elevated British cooking with standout beef and barley bun.",
        features: ["Michelin Star", "Real Ale", "Sunday Roast"]
      },
      {
        name: "The Scran & Scallie",
        type: "gastropub",
        location: "Stockbridge, Edinburgh",
        region: "Scotland",
        rating: 4.4,
        reviews: 1123,
        cuisine: ["Scottish", "Pub Classics"],
        price: "¬£¬£",
        description: "Tom Kitchin's neighbourhood gastropub. Proper Scottish comfort food done exceptionally well.",
        features: ["Dog Friendly", "Sunday Roast", "Beer Garden"]
      },
      {
        name: "The Pony & Trap",
        type: "gastropub",
        location: "Chew Magna, Somerset",
        region: "South West",
        rating: 4.6,
        reviews: 789,
        cuisine: ["Modern British", "Farm to Table"],
        price: "¬£¬£",
        description: "Michelin-starred hilltop pub with stunning views. Josh Eggleton's farm-to-fork philosophy shines.",
        features: ["Michelin Star", "Views", "Local Produce"]
      },
      {
        name: "The Rising Moon",
        type: "pub",
        location: "Matley, Greater Manchester",
        region: "North",
        rating: 4.8,
        reviews: 647,
        cuisine: ["British", "Pub Classics"],
        price: "¬£¬£",
        description: "A beloved local gem tucked away in the village of Matley. Warm hospitality, crackling fires, and proper Northern pub grub have made this a firm favourite with locals and visitors alike.",
        features: ["Dog Friendly", "Real Ale", "Beer Garden", "Sunday Roast"]
      }
    ];

    // State
    let filteredEstablishments = [...establishments];
    let currentFilter = 'all';
    let currentRegion = '';
    let currentSearch = '';
    let currentSort = 'rating';

    // DOM elements
    const searchInput = document.getElementById('searchInput');
    const regionFilter = document.getElementById('regionFilter');
    const sortSelect = document.getElementById('sortSelect');
    const filterBtns = document.querySelectorAll('.filter-btn');
    const cardsGrid = document.getElementById('cardsGrid');
    const resultsCount = document.getElementById('resultsCount');
    const noResults = document.getElementById('noResults');

    // Generate star rating
    function getStars(rating) {
      const full = Math.floor(rating);
      const half = rating % 1 >= 0.5 ? 1 : 0;
      const empty = 5 - full - half;
      return '‚òÖ'.repeat(full) + (half ? '¬Ω' : '') + '‚òÜ'.repeat(empty);
    }

    // Create card HTML
    function createCard(est) {
      const typeClass = est.type === 'restaurant' ? 'restaurant' : est.type === 'gastropub' ? 'gastropub' : '';
      const typeLabel = est.type === 'pub' ? 'Traditional Pub' : est.type === 'gastropub' ? 'Gastropub' : 'Restaurant';

      return `
        <article class="pub-card">
          <div class="card-header">
            <span class="card-type ${typeClass}">${typeLabel}</span>
            <h2 class="card-name">${est.name}</h2>
            <p class="card-location">üìç ${est.location}</p>
          </div>
          <div class="card-body">
            <div class="card-rating">
              <span class="stars">${getStars(est.rating)}</span>
              <span class="rating-value">${est.rating}</span>
              <span class="review-count">(${est.reviews.toLocaleString()} reviews)</span>
            </div>
            <div class="card-cuisine">
              ${est.cuisine.map(c => `<span class="cuisine-tag">${c}</span>`).join('')}
              <span class="cuisine-tag price">${est.price}</span>
            </div>
            <p class="card-description">${est.description}</p>
            <div class="card-features">
              ${est.features.map(f => `<span class="feature"><span class="feature-icon">${getFeatureIcon(f)}</span>${f}</span>`).join('')}
            </div>
          </div>
        </article>
      `;
    }

    // Get feature icon
    function getFeatureIcon(feature) {
      const icons = {
        'Beer Garden': 'üå≥',
        'Food': 'üçΩÔ∏è',
        'Historic': 'üèõÔ∏è',
        'Real Ale': 'üç∫',
        'Michelin Star': '‚≠ê',
        'Tasting Menu': 'üë®‚Äçüç≥',
        'Booking Essential': 'üìÖ',
        'Wine': 'üç∑',
        'Dog Friendly': 'üêï',
        'Hiking': 'ü•æ',
        'Romantic': 'üíï',
        'Fine Dining': '‚ú®',
        'Local Produce': 'ü•ï',
        'Seafood': 'ü¶û',
        'Coastal': 'üåä',
        'Breakfast': 'üç≥',
        'No Booking': 'üö∂',
        'Vegetarian': 'ü•ó',
        'Garden': 'üå∫',
        'Hotel': 'üõèÔ∏è',
        'Iconic': 'üèÜ',
        'Bakery': 'ü•ê',
        'Beach': 'üèñÔ∏è',
        'Open Fire': 'üî•',
        'Live Music': 'üéµ',
        'Sunday Roast': 'ü•©',
        'Steak': 'ü•©',
        'Cocktails': 'üç∏',
        'Private Dining': 'üö™',
        'Thatched': 'üè°',
        'Views': 'üèîÔ∏è',
        'Architecture': 'üèõÔ∏è'
      };
      return icons[feature] || '‚úì';
    }

    // Filter and sort establishments
    function updateResults() {
      filteredEstablishments = establishments.filter(est => {
        // Type filter
        if (currentFilter !== 'all' && est.type !== currentFilter) return false;

        // Region filter
        if (currentRegion && est.region !== currentRegion) return false;

        // Search filter
        if (currentSearch) {
          const search = currentSearch.toLowerCase();
          const searchable = [
            est.name,
            est.location,
            est.region,
            ...est.cuisine,
            est.description
          ].join(' ').toLowerCase();
          if (!searchable.includes(search)) return false;
        }

        return true;
      });

      // Sort
      filteredEstablishments.sort((a, b) => {
        switch (currentSort) {
          case 'rating':
            return b.rating - a.rating;
          case 'name':
            return a.name.localeCompare(b.name);
          case 'reviews':
            return b.reviews - a.reviews;
          default:
            return 0;
        }
      });

      renderResults();
    }

    // Render results
    function renderResults() {
      if (filteredEstablishments.length === 0) {
        cardsGrid.innerHTML = '';
        noResults.classList.remove('hidden');
        resultsCount.textContent = 'No establishments found';
      } else {
        noResults.classList.add('hidden');
        cardsGrid.innerHTML = filteredEstablishments.map(createCard).join('');
        resultsCount.textContent = `${filteredEstablishments.length} establishment${filteredEstablishments.length !== 1 ? 's' : ''} found`;
      }
    }

    // Event listeners
    searchInput.addEventListener('input', (e) => {
      currentSearch = e.target.value;
      updateResults();
    });

    regionFilter.addEventListener('change', (e) => {
      currentRegion = e.target.value;
      updateResults();
    });

    sortSelect.addEventListener('change', (e) => {
      currentSort = e.target.value;
      updateResults();
    });

    filterBtns.forEach(btn => {
      btn.addEventListener('click', () => {
        filterBtns.forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        currentFilter = btn.dataset.filter;
        updateResults();
      });
    });

    // Initial render
    updateResults();
  </script>
</body>
</html>
