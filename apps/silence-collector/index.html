<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Silence Collector</title>
    <link rel="icon" href="https://emojicdn.elk.sh/ðŸ¤«">
    <meta name="og:title" content="Silence Collector">
    <meta name="og:description" content="Click to harvest the void. An idle game about collecting silence.">
    <meta name="og:url" content="https://sloppy.live/silence-collector">
    <meta name="og:image" content="https://sloppy.live/silence-collector/og-image.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Cormorant Garamond', serif;
            background: #0a0a0f;
            color: #e8e8f0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            user-select: none;
        }

        /* Ambient particles */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        .particle {
            position: absolute;
            width: 2px;
            height: 2px;
            background: rgba(200, 200, 220, 0.3);
            border-radius: 50%;
            animation: float 20s infinite ease-in-out;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) translateX(0); opacity: 0; }
            10% { opacity: 0.5; }
            50% { transform: translateY(-100vh) translateX(50px); opacity: 0.3; }
            90% { opacity: 0.5; }
        }

        .container {
            position: relative;
            z-index: 1;
            text-align: center;
            padding: 20px;
            max-width: 500px;
            width: 100%;
        }

        h1 {
            font-size: 2.5rem;
            font-weight: 300;
            letter-spacing: 0.3em;
            margin-bottom: 10px;
            color: #c8c8d8;
            text-transform: uppercase;
        }

        .silence-counter {
            font-size: 4rem;
            font-weight: 600;
            color: #fff;
            margin: 30px 0;
            text-shadow: 0 0 30px rgba(180, 180, 220, 0.5);
            transition: transform 0.1s;
        }

        .silence-counter.pulse {
            transform: scale(1.05);
        }

        .per-second {
            font-size: 1.2rem;
            color: #888;
            margin-bottom: 40px;
            font-style: italic;
        }

        /* The void - click target */
        .void {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background: radial-gradient(circle at 30% 30%, #1a1a2e, #0a0a0f 70%);
            border: 1px solid rgba(100, 100, 140, 0.3);
            margin: 0 auto 40px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow:
                0 0 60px rgba(80, 80, 120, 0.2),
                inset 0 0 60px rgba(0, 0, 0, 0.8);
            position: relative;
            overflow: hidden;
        }

        .void:hover {
            border-color: rgba(150, 150, 200, 0.5);
            box-shadow:
                0 0 80px rgba(100, 100, 150, 0.3),
                inset 0 0 60px rgba(0, 0, 0, 0.8);
        }

        .void:active {
            transform: scale(0.95);
        }

        .void-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 0.9rem;
            color: rgba(150, 150, 180, 0.6);
            letter-spacing: 0.2em;
            text-transform: uppercase;
        }

        /* Click feedback */
        .click-feedback {
            position: absolute;
            pointer-events: none;
            font-size: 1.5rem;
            color: rgba(200, 200, 230, 0.8);
            animation: rise 1s ease-out forwards;
            z-index: 10;
        }

        @keyframes rise {
            0% { opacity: 1; transform: translateY(0); }
            100% { opacity: 0; transform: translateY(-60px); }
        }

        /* Upgrades */
        .upgrades {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-top: 20px;
        }

        .upgrade {
            background: rgba(30, 30, 50, 0.6);
            border: 1px solid rgba(80, 80, 120, 0.3);
            border-radius: 8px;
            padding: 15px 20px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .upgrade:hover:not(.locked) {
            background: rgba(40, 40, 70, 0.8);
            border-color: rgba(120, 120, 180, 0.5);
        }

        .upgrade.locked {
            opacity: 0.4;
            cursor: not-allowed;
        }

        .upgrade-info {
            text-align: left;
        }

        .upgrade-name {
            font-size: 1.1rem;
            color: #d8d8e8;
            margin-bottom: 4px;
        }

        .upgrade-desc {
            font-size: 0.85rem;
            color: #888;
        }

        .upgrade-cost {
            font-size: 1.2rem;
            color: #a8a8c8;
            white-space: nowrap;
            margin-left: 15px;
        }

        .upgrade-owned {
            font-size: 0.9rem;
            color: #666;
            margin-left: 8px;
        }

        /* Stats */
        .stats {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid rgba(80, 80, 120, 0.2);
            font-size: 0.9rem;
            color: #666;
        }

        .stats div {
            margin: 5px 0;
        }

        /* Back link */
        .back-link {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: #555;
            text-decoration: none;
            font-size: 0.9rem;
            transition: color 0.2s;
        }

        .back-link:hover {
            color: #888;
        }

        /* Responsive */
        @media (max-width: 500px) {
            h1 {
                font-size: 1.8rem;
                letter-spacing: 0.2em;
            }

            .silence-counter {
                font-size: 3rem;
            }

            .void {
                width: 160px;
                height: 160px;
            }
        }

        /* Milestone flash */
        .milestone-flash {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 2rem;
            color: #fff;
            text-shadow: 0 0 30px rgba(180, 180, 220, 0.8);
            animation: milestoneAnim 2s ease-out forwards;
            pointer-events: none;
            z-index: 100;
            text-align: center;
        }

        @keyframes milestoneAnim {
            0% { opacity: 0; transform: translate(-50%, -50%) scale(0.5); }
            20% { opacity: 1; transform: translate(-50%, -50%) scale(1.1); }
            80% { opacity: 1; }
            100% { opacity: 0; transform: translate(-50%, -50%) scale(1); }
        }
    </style>
</head>
<body>
    <div class="particles" id="particles"></div>

    <div class="container">
        <h1>Silence</h1>

        <div class="silence-counter" id="counter">0</div>
        <div class="per-second"><span id="sps">0</span> silence per second</div>

        <div class="void" id="void" onclick="harvestSilence(event)">
            <span class="void-text">click the void</span>
        </div>

        <div class="upgrades" id="upgrades"></div>

        <div class="stats">
            <div>Total harvested: <span id="totalHarvested">0</span></div>
            <div>Clicks: <span id="totalClicks">0</span></div>
        </div>
    </div>

    <a href="https://sloppy.live" class="back-link">sloppy.live</a>

    <script>
        // Game state
        let silence = 0;
        let totalSilence = 0;
        let totalClicks = 0;
        let silencePerClick = 1;
        let silencePerSecond = 0;

        // Upgrades
        const upgrades = [
            {
                id: 'whisper',
                name: 'Whisper Catcher',
                desc: '+0.1 silence/sec',
                baseCost: 10,
                owned: 0,
                effect: () => { silencePerSecond += 0.1; }
            },
            {
                id: 'muffle',
                name: 'Muffled Thoughts',
                desc: '+1 silence per click',
                baseCost: 25,
                owned: 0,
                effect: () => { silencePerClick += 1; }
            },
            {
                id: 'meditation',
                name: 'Meditation Mat',
                desc: '+0.5 silence/sec',
                baseCost: 100,
                owned: 0,
                effect: () => { silencePerSecond += 0.5; }
            },
            {
                id: 'library',
                name: 'Quiet Library',
                desc: '+2 silence/sec',
                baseCost: 500,
                owned: 0,
                effect: () => { silencePerSecond += 2; }
            },
            {
                id: 'void',
                name: 'Pocket Void',
                desc: '+5 silence per click',
                baseCost: 1000,
                owned: 0,
                effect: () => { silencePerClick += 5; }
            },
            {
                id: 'monastery',
                name: 'Silent Monastery',
                desc: '+10 silence/sec',
                baseCost: 5000,
                owned: 0,
                effect: () => { silencePerSecond += 10; }
            },
            {
                id: 'dimension',
                name: 'Silence Dimension',
                desc: '+50 silence/sec',
                baseCost: 25000,
                owned: 0,
                effect: () => { silencePerSecond += 50; }
            }
        ];

        // Milestones
        const milestones = [100, 1000, 10000, 100000, 1000000];
        let reachedMilestones = new Set();

        // DOM elements
        const counterEl = document.getElementById('counter');
        const spsEl = document.getElementById('sps');
        const totalHarvestedEl = document.getElementById('totalHarvested');
        const totalClicksEl = document.getElementById('totalClicks');
        const upgradesEl = document.getElementById('upgrades');
        const voidEl = document.getElementById('void');

        // Format number
        function formatNum(n) {
            if (n >= 1000000) return (n / 1000000).toFixed(2) + 'M';
            if (n >= 1000) return (n / 1000).toFixed(1) + 'K';
            return Math.floor(n).toString();
        }

        // Get upgrade cost
        function getUpgradeCost(upgrade) {
            return Math.floor(upgrade.baseCost * Math.pow(1.15, upgrade.owned));
        }

        // Harvest silence on click
        function harvestSilence(event) {
            silence += silencePerClick;
            totalSilence += silencePerClick;
            totalClicks++;

            // Visual feedback
            counterEl.classList.add('pulse');
            setTimeout(() => counterEl.classList.remove('pulse'), 100);

            // Floating number
            const feedback = document.createElement('div');
            feedback.className = 'click-feedback';
            feedback.textContent = '+' + silencePerClick;
            feedback.style.left = event.clientX + 'px';
            feedback.style.top = event.clientY + 'px';
            document.body.appendChild(feedback);
            setTimeout(() => feedback.remove(), 1000);

            updateUI();
            checkMilestones();
            saveGame();
        }

        // Buy upgrade
        function buyUpgrade(id) {
            const upgrade = upgrades.find(u => u.id === id);
            const cost = getUpgradeCost(upgrade);

            if (silence >= cost) {
                silence -= cost;
                upgrade.owned++;
                upgrade.effect();
                updateUI();
                saveGame();
            }
        }

        // Check milestones
        function checkMilestones() {
            for (const milestone of milestones) {
                if (totalSilence >= milestone && !reachedMilestones.has(milestone)) {
                    reachedMilestones.add(milestone);
                    showMilestone(milestone);
                }
            }
        }

        // Show milestone
        function showMilestone(amount) {
            const el = document.createElement('div');
            el.className = 'milestone-flash';
            el.innerHTML = formatNum(amount) + ' silence<br><small>harvested from the void</small>';
            document.body.appendChild(el);
            setTimeout(() => el.remove(), 2000);
        }

        // Update UI
        function updateUI() {
            counterEl.textContent = formatNum(silence);
            spsEl.textContent = silencePerSecond.toFixed(1);
            totalHarvestedEl.textContent = formatNum(totalSilence);
            totalClicksEl.textContent = formatNum(totalClicks);

            // Render upgrades
            upgradesEl.innerHTML = upgrades.map(upgrade => {
                const cost = getUpgradeCost(upgrade);
                const locked = silence < cost;
                return `
                    <div class="upgrade ${locked ? 'locked' : ''}" onclick="${locked ? '' : `buyUpgrade('${upgrade.id}')`}">
                        <div class="upgrade-info">
                            <div class="upgrade-name">${upgrade.name}</div>
                            <div class="upgrade-desc">${upgrade.desc}</div>
                        </div>
                        <div>
                            <span class="upgrade-cost">${formatNum(cost)}</span>
                            <span class="upgrade-owned">x${upgrade.owned}</span>
                        </div>
                    </div>
                `;
            }).join('');
        }

        // Game loop
        function gameLoop() {
            if (silencePerSecond > 0) {
                silence += silencePerSecond / 10;
                totalSilence += silencePerSecond / 10;
                updateUI();
                checkMilestones();
            }
        }

        // Save/Load
        function saveGame() {
            const save = {
                silence,
                totalSilence,
                totalClicks,
                silencePerClick,
                silencePerSecond,
                upgrades: upgrades.map(u => ({ id: u.id, owned: u.owned })),
                milestones: Array.from(reachedMilestones)
            };
            localStorage.setItem('silence-collector-save', JSON.stringify(save));
        }

        function loadGame() {
            const save = localStorage.getItem('silence-collector-save');
            if (save) {
                try {
                    const data = JSON.parse(save);
                    silence = data.silence || 0;
                    totalSilence = data.totalSilence || 0;
                    totalClicks = data.totalClicks || 0;
                    silencePerClick = data.silencePerClick || 1;
                    silencePerSecond = data.silencePerSecond || 0;
                    reachedMilestones = new Set(data.milestones || []);

                    if (data.upgrades) {
                        data.upgrades.forEach(saved => {
                            const upgrade = upgrades.find(u => u.id === saved.id);
                            if (upgrade) {
                                upgrade.owned = saved.owned;
                            }
                        });
                    }
                } catch (e) {
                    console.error('Failed to load save:', e);
                }
            }
        }

        // Create ambient particles
        function createParticles() {
            const container = document.getElementById('particles');
            for (let i = 0; i < 30; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.top = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 20 + 's';
                particle.style.animationDuration = (15 + Math.random() * 10) + 's';
                container.appendChild(particle);
            }
        }

        // Initialize
        loadGame();
        createParticles();
        updateUI();

        // Game loop - runs 10 times per second
        setInterval(gameLoop, 100);

        // Auto-save every 30 seconds
        setInterval(saveGame, 30000);
    </script>
<script src="/sloppy-header/sloppy-bar.js"></script>
</body>
</html>
