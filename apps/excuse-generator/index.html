<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PIRATE'S EXCUSE GENERATOR</title>
    <style>
        body {
            background: linear-gradient(135deg, #2c3e50, #34495e);
            font-family: 'Courier New', monospace;
            color: #ecf0f1;
            text-align: center;
            padding: 20px;
            min-height: 100vh;
            margin: 0;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(0,0,0,0.3);
            padding: 30px;
            border-radius: 15px;
            border: 2px solid #e74c3c;
        }
        h1 {
            color: #e74c3c;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            margin-bottom: 30px;
        }
        .excuse-display {
            background: rgba(255,255,255,0.1);
            border: 2px solid #3498db;
            border-radius: 10px;
            padding: 30px;
            margin: 30px 0;
            min-height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3em;
            line-height: 1.6;
        }
        button {
            background: #e74c3c;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.2em;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            margin: 10px;
            font-weight: bold;
        }
        button:hover {
            background: #c0392b;
            transform: translateY(-2px);
        }
        .backlink {
            position: fixed;
            top: 20px;
            left: 20px;
            background: #34495e;
            color: #ecf0f1;
            padding: 10px 15px;
            border-radius: 5px;
            text-decoration: none;
            transition: background 0.3s;
        }
        .backlink:hover {
            background: #2c3e50;
        }
        .auto-save-status {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(39, 174, 96, 0.8);
            color: white;
            padding: 8px 15px;
            border-radius: 5px;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <a href="../../index.html" class="backlink">← BACK TO HARBOR</a>
    
    <div class="container">
        <h1>⚔️ PIRATE'S EXCUSE GENERATOR ⚔️</h1>
        <p>ARRR! NEED AN EXCUSE FOR BEIN' LATE? LET THE PIRATE WISDOM GUIDE YE!</p>
        
        <div class="excuse-display" id="excuseDisplay">
            CLICK THE BUTTON BELOW TO GENERATE YER EXCUSE, MATEY!
        </div>
        
        <button onclick="generateExcuse()">GENERATE EXCUSE!</button>
        <button onclick="copyExcuse()">COPY TO CLIPBOARD</button>
        <button onclick="saveExcuse()">SAVE TO FAVORITES</button>
        
        <div id="favorites" style="margin-top: 30px;">
            <h3>YER FAVORITE EXCUSES:</h3>
            <div id="favoritesList"></div>
        </div>
    </div>
    
    <div class="auto-save-status" id="autoSaveStatus">AUTO-SAVE: ENABLED</div>

    <script>
        const excuses = [
            "ARRR! A KRAKEN ATTACKED ME SHIP ON THE WAY HERE!",
            "ME PARROT GOT SICK AND NEEDED IMMEDIATE VETERINARY ATTENTION!",
            "PIRATES DON'T FOLLOW LANDLUBBER TIME - WE GO BY THE TIDES!",
            "I WAS COUNTIN' ME TREASURE AND LOST TRACK OF TIME!",
            "A RIVAL PIRATE CREW CHALLENGED ME TO A DUEL AT DAWN!",
            "ME COMPASS WAS POINTING TO MAGNETIC NORTH INSTEAD OF TRUE NORTH!",
            "I HAD TO RESCUE A DAMSEL IN DISTRESS FROM A DESERTED ISLAND!",
            "THE WIND DIED DOWN AND ME SHIP WAS BECALMED!",
            "I WAS SEARCHIN' FOR BURIED TREASURE AND FOUND A MAP!",
            "A SEA MONSTER STOLE ONE OF ME BOOTS!",
            "I HAD TO NEGOTIATE A PEACE TREATY WITH THE MERMAID QUEEN!",
            "ME FIRST MATE MUTINIED AND I HAD TO WALK THE PLANK!",
            "THE TIDE WAS TOO LOW TO SAIL INTO HARBOR!",
            "I WAS ENGAGED IN MORTAL COMBAT WITH NINJAS!",
            "A WIZARD CAST A TIME-DELAY SPELL ON ME!",
            "I HAD TO DEFEND ME SHIP FROM VIKING RAIDERS!",
            "THE GPS ON ME SHIP THOUGHT WE WERE STILL IN 1692!",
            "I WAS TEACHING A YOUNG PIRATE THE WAYS OF THE SEA!",
            "A GHOST SHIP BLOCKED THE HARBOR ENTRANCE!",
            "I HAD TO STOP A MUTINY WITH THE POWER OF INTERPRETIVE DANCE!"
        ];

        let favorites = JSON.parse(localStorage.getItem('pirateExcuses') || '[]');
        let currentExcuse = '';
        
        // Auto-save functionality
        function autoSave() {
            localStorage.setItem('pirateExcuses', JSON.stringify(favorites));
            localStorage.setItem('currentExcuse', currentExcuse);
            updateAutoSaveStatus();
        }
        
        function updateAutoSaveStatus() {
            const status = document.getElementById('autoSaveStatus');
            status.textContent = 'AUTO-SAVED: ' + new Date().toLocaleTimeString();
            status.style.background = 'rgba(39, 174, 96, 0.8)';
            setTimeout(() => {
                status.style.background = 'rgba(52, 73, 94, 0.8)';
            }, 2000);
        }
        
        function generateExcuse() {
            const randomIndex = Math.floor(Math.random() * excuses.length);
            currentExcuse = excuses[randomIndex];
            document.getElementById('excuseDisplay').textContent = currentExcuse;
            autoSave();
        }
        
        function copyExcuse() {
            if (currentExcuse) {
                navigator.clipboard.writeText(currentExcuse).then(() => {
                    alert('EXCUSE COPIED TO CLIPBOARD, YE SCALLYWAG!');
                });
            } else {
                alert('GENERATE AN EXCUSE FIRST, MATEY!');
            }
        }
        
        function saveExcuse() {
            if (currentExcuse && !favorites.includes(currentExcuse)) {
                favorites.push(currentExcuse);
                autoSave();
                displayFavorites();
                alert('EXCUSE SAVED TO FAVORITES, ARRR!');
            } else if (favorites.includes(currentExcuse)) {
                alert('THAT EXCUSE BE ALREADY IN YER FAVORITES!');
            } else {
                alert('GENERATE AN EXCUSE FIRST, MATEY!');
            }
        }
        
        function displayFavorites() {
            const favoritesList = document.getElementById('favoritesList');
            favoritesList.innerHTML = '';
            favorites.forEach((excuse, index) => {
                const div = document.createElement('div');
                div.style.cssText = 'background: rgba(255,255,255,0.1); margin: 10px 0; padding: 15px; border-radius: 5px; display: flex; justify-content: space-between; align-items: center;';
                div.innerHTML = `
                    <span style="flex: 1; text-align: left;">${excuse}</span>
                    <button onclick="removeFavorite(${index})" style="background: #c0392b; padding: 5px 10px; font-size: 0.9em;">REMOVE</button>
                `;
                favoritesList.appendChild(div);
            });
        }
        
        function removeFavorite(index) {
            favorites.splice(index, 1);
            autoSave();
            displayFavorites();
        }
        
        // Load saved data on page load
        window.onload = function() {
            displayFavorites();
            const saved = localStorage.getItem('currentExcuse');
            if (saved) {
                currentExcuse = saved;
                document.getElementById('excuseDisplay').textContent = currentExcuse;
            }
        }
        
        // Auto-save every 30 seconds
        setInterval(autoSave, 30000);
    </script>
</body>
</html>