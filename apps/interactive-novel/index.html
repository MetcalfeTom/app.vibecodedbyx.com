<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="An interactive novel about a young man at a crossroads." />
  <meta property="og:title" content="Crossroads - Interactive Novel" />
  <meta property="og:description" content="An interactive novel about a young man at a crossroads between city and countryside." />
  <meta property="og:url" content="https://app.vibecodedbyx.com/interactive-novel/" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://app.vibecodedbyx.com/interactive-novel/og.svg" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Crossroads - Interactive Novel" />
  <meta name="twitter:description" content="An interactive novel about a young man at a crossroads between city and countryside." />
  <meta name="twitter:image" content="https://app.vibecodedbyx.com/interactive-novel/og.svg" />
  <title>Crossroads</title>
  <link rel="icon" href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCAxMDAgMTAwJz48dGV4dCB5PScuOWVtJyBmb250LXNpemU9JzkwJz7wn5SJPC90ZXh0Pjwvc3ZnPg==" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500&family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=Source+Serif+4:ital,wght@0,300;0,400;0,600;1,400&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --bg: #fefefe;
      --text: #1a1a1a;
      --text-light: #666;
      --accent: #2563eb;
      --surface: #fff;
      --border: #e5e7eb;
      --hover: #eff6ff;
    }

    @media (prefers-color-scheme: dark) {
      :root {
        --bg: #0a0a0a;
        --text: #fafafa;
        --text-light: #a3a3a3;
        --accent: #60a5fa;
        --surface: #111;
        --border: #262626;
        --hover: #1e293b;
      }
    }

    body {
      background: var(--bg);
      color: var(--text);
      font-family: 'Source Serif 4', serif;
      line-height: 1.8;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 2rem;
      font-size: 18px;
      font-weight: 300;
    }

    #novel-container {
      max-width: 42rem;
      width: 100%;
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 1rem;
      padding: 3rem;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      min-height: 32rem;
      display: flex;
      flex-direction: column;
    }

    #text-container {
      flex: 1;
      margin-bottom: 2rem;
    }

    #text-container img {
      width: 100%;
      height: 16rem;
      object-fit: cover;
      border-radius: 0.5rem;
      margin-bottom: 1.5rem;
      filter: grayscale(20%) contrast(1.1);
    }

    #text-container p {
      font-size: 1.1em;
      margin-bottom: 1.5rem;
      text-align: justify;
      hyphens: auto;
    }

    #choice-container {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
      margin-top: auto;
    }

    .choice {
      padding: 1rem 1.5rem;
      background: transparent;
      border: 1px solid var(--border);
      border-radius: 0.5rem;
      color: var(--text);
      cursor: pointer;
      transition: all 0.2s ease;
      font-family: 'Inter', sans-serif;
      font-size: 0.95em;
      font-weight: 400;
      text-align: left;
      position: relative;
    }

    .choice:hover {
      background: var(--hover);
      border-color: var(--accent);
      transform: translateY(-1px);
    }

    .choice:active {
      transform: translateY(0);
    }

    .choice::before {
      content: "→";
      position: absolute;
      right: 1rem;
      top: 50%;
      transform: translateY(-50%);
      opacity: 0;
      transition: opacity 0.2s ease;
      color: var(--accent);
    }

    .choice:hover::before {
      opacity: 1;
    }

    a {
      color: var(--text-light);
      text-decoration: none;
      font-family: 'Inter', sans-serif;
      font-size: 0.875em;
      text-align: center;
      margin-top: 2rem;
      opacity: 0.7;
      transition: opacity 0.2s ease;
    }

    a:hover {
      opacity: 1;
    }

    @media (max-width: 768px) {
      body {
        padding: 1rem;
        font-size: 16px;
      }

      #novel-container {
        padding: 2rem;
        border-radius: 0.75rem;
        min-height: 28rem;
      }

      #text-container img {
        height: 12rem;
      }

      .choice {
        padding: 0.875rem 1.25rem;
        font-size: 0.9em;
      }
    }
  </style>
  <script src="supabase-config.js"></script>
</head>
<body>
  <div id="novel-container">
    <div id="text-container">
      <p>The story begins...</p>
    </div>
    <div id="choice-container">
    </div>
    <a href="https://www.vibecodedbyx.com">Watch the livestream</a>
  </div>
  <script>
    const story = {
      start: {
        text: "You are a young man named Alex, standing at a crossroads on a misty morning. Two paths diverge before you, each promising a different life. The weight of choice hangs heavy in the crisp air.",
        image: "https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=800&auto=format&fit=crop",
        choices: [
          {
            text: "Take the path to the bustling city",
            nextScene: "city_entrance",
          },
          {
            text: "Follow the winding countryside road",
            nextScene: "countryside_entrance",
          },
          {
            text: "Sit and contemplate your choice",
            nextScene: "crossroads_reflect",
          },
        ],
      },
      crossroads_reflect: {
        text: "You sit on an old stone marker, feeling the weight of this moment. The sun climbs higher, warming your face as you think about what truly matters to you. Sometimes the most important journeys begin with stillness.",
        image: "https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800&auto=format&fit=crop",
        choices: [
          {
            text: "Your heart calls to the city",
            nextScene: "city_entrance",
          },
          {
            text: "The countryside feels like home",
            nextScene: "countryside_entrance",
          },
        ],
      },
      city_entrance: {
        text: "The city welcomes you with its electric energy. Glass towers stretch toward the sky while people move with purpose through bustling streets. This is where dreams are made and futures are forged.",
        image: "https://images.unsplash.com/photo-1477959858617-67f85cf4f1df?w=800&auto=format&fit=crop",
        choices: [
          {
            text: "Look for work",
            nextScene: "city_job_search",
          },
          {
            text: "Wander the streets",
            nextScene: "city_wander",
          },
        ],
      },
      city_job_search: {
        text: "You discover 'The Literary Grind,' a cozy bookstore cafe where the aroma of coffee mingles with old paper. Behind the counter, Elara arranges books with careful attention, her warm smile lighting up the space.",
        image: "https://images.unsplash.com/photo-1481627834876-b7833e8f5570?w=800&auto=format&fit=crop",
        choices: [
          {
            text: "Apply for the job",
            nextScene: "city_cafe_job",
          },
          {
            text: "Order a coffee and observe",
            nextScene: "city_cafe_observe",
          },
        ],
      },
      city_cafe_job: {
        text: "'Welcome to our little sanctuary of stories and caffeine,' Elara says with genuine warmth. As you begin your first shift, you realize this isn't just a job—it's the beginning of something magical.",
        image: "https://images.unsplash.com/photo-1554118811-1e0d58224f24?w=800&auto=format&fit=crop",
        choices: [
          {
            text: "Build something beautiful together",
            nextScene: "city_cafe_romance",
          },
        ],
      },
      city_cafe_observe: {
        text: "The coffee is rich and complex, like the woman serving it. You watch Elara recommend books to customers with passionate enthusiasm. Sometimes the most beautiful moments are the ones we observe from a distance.",
        image: "https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?w=800&auto=format&fit=crop",
        choices: [],
      },
      city_wander: {
        text: "Your wandering leads you through narrow alleys filled with street art and hidden stories. Then, like a secret whispered by the city itself, you discover a small park tucked between towering buildings.",
        image: "https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=800&auto=format&fit=crop",
        choices: [
          {
            text: "Rest on a bench",
            nextScene: "city_park_rest",
          },
          {
            text: "Explore the park",
            nextScene: "city_park_explore",
          },
        ],
      },
      city_park_rest: {
        text: "On an old wooden bench, you find unexpected peace. A ginger cat approaches cautiously, then settles beside you as if you belong here. In this moment, the city's chaos feels like a distant dream.",
        image: "https://images.unsplash.com/photo-1415604934674-561df9abf539?w=800&auto=format&fit=crop",
        choices: [],
      },
      city_park_explore: {
        text: "Hidden beneath ivy and forgotten by time, you discover an old fountain. The water still flows, clear and eternal. As your fingers break the surface, you feel connected to everyone who has stood here before.",
        image: "https://images.unsplash.com/photo-1518709268805-4e9042af2176?w=800&auto=format&fit=crop",
        choices: [],
      },
      countryside_entrance: {
        text: "The countryside unfolds before you like a living painting. Rolling hills stretch endlessly under an open sky, while wildflowers dance in the warm breeze. Here, time moves differently.",
        image: "https://images.unsplash.com/photo-1500382017468-9049ce867693?w=800&auto=format&fit=crop",
        choices: [
          {
            text: "Find a place to stay",
            nextScene: "countryside_lodging",
          },
          {
            text: "Walk through the fields",
            nextScene: "countryside_fields",
          },
        ],
      },
      countryside_lodging: {
        text: "'The Wanderer's Rest' sits nestled between oak trees, its windows glowing warmly. Mrs. Henderson, with flour-dusted hands and knowing eyes, offers you not just a room but a place to belong.",
        image: "https://images.unsplash.com/photo-1571896349842-33c89424de2d?w=800&auto=format&fit=crop",
        choices: [],
      },
      countryside_fields: {
        text: "Golden wheat whispers secrets as you walk the ancient paths. By a babbling brook, you spot a figure with an easel—Elara, capturing the landscape's soul with delicate brushstrokes.",
        image: "https://images.unsplash.com/photo-1500462918059-b1a0cb512f1d?w=800&auto=format&fit=crop",
        choices: [
          {
            text: "Approach Elara",
            nextScene: "countryside_elara_approach",
          },
          {
            text: "Observe from a distance",
            nextScene: "countryside_elara_observe",
          },
        ],
      },
      countryside_elara_approach: {
        text: "Elara's eyes sparkle with surprise and delight. 'The light here is extraordinary,' she says, gesturing to her canvas. Hours pass like minutes as you share stories, dreams, and the comfortable silence of kindred spirits.",
        image: "https://images.unsplash.com/photo-1501594907352-04cda38ebc29?w=800&auto=format&fit=crop",
        choices: [],
      },
      countryside_elara_observe: {
        text: "From your quiet vantage point, you watch art come alive. Elara moves with practiced grace, translating the world's beauty onto canvas. Sometimes the most profound connections happen in silence.",
        image: "https://images.unsplash.com/photo-1456170036819-a52736c99c7e?w=800&auto=format&fit=crop",
        choices: [
          {
            text: "Continue your artistic journey",
            nextScene: "countryside_gallery",
          },
        ],
      },
      countryside_gallery: {
        text: "Elara invites you to a local gallery opening. The converted barn showcases works by regional artists, each piece telling a story of rural life. You realize that creativity flourishes everywhere, not just in big cities.",
        image: "https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=800&auto=format&fit=crop",
        choices: [
          {
            text: "Display your own work",
            nextScene: "artist_ending",
          },
          {
            text: "Support local artists",
            nextScene: "patron_ending",
          },
        ],
      },
      artist_ending: {
        text: "With Elara's encouragement, you discover your own artistic voice. Together, you transform the countryside into a canvas, creating beauty that inspires others to see the world differently. Art has become your shared language of love.",
        image: "https://images.unsplash.com/photo-1513475382585-d06e58bcb0e0?w=800&auto=format&fit=crop",
        choices: [],
      },
      patron_ending: {
        text: "You become a bridge between the artistic community and the wider world, helping talented creators find their audience. Your support nurtures a thriving cultural renaissance in this peaceful valley.",
        image: "https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=800&auto=format&fit=crop",
        choices: [],
      },
      city_cafe_romance: {
        text: "Months later, as autumn paints the city in warm hues, you and Elara have transformed the café into a literary salon. Writers read their work while coffee steams and books find new homes. Love and literature intertwine beautifully.",
        image: "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=800&auto=format&fit=crop",
        choices: [],
      },
    };

    const textContainer = document.getElementById("text-container");
    const choiceContainer = document.getElementById("choice-container");

    let currentScene = "start";

    function renderScene() {
      const scene = story[currentScene];
      textContainer.innerHTML = "";
      if (scene.image) {
        const img = document.createElement("img");
        img.src = scene.image;
        img.style.maxWidth = "100%";
        img.style.height = "auto";
        img.style.marginBottom = "20px";
        img.style.borderRadius = "8px";
        textContainer.appendChild(img);
      }
      textContainer.innerHTML += `<p>${scene.text}</p>`;
      choiceContainer.innerHTML = "";
      for (const choice of scene.choices) {
        const choiceDiv = document.createElement("div");
        choiceDiv.classList.add("choice");
        choiceDiv.textContent = choice.text;
        choiceDiv.addEventListener("click", () => {
          currentScene = choice.nextScene;
          renderScene();
        });
        choiceContainer.appendChild(choiceDiv);
      }
    }

    renderScene();
  </script>
</body>
</html>