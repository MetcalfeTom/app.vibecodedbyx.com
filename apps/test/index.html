<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Vibe Test â€” Hello ðŸ‘‹</title>

    <!-- Open Graph / Twitter -->
    <meta property="og:title" content="Vibe Test â€” Hello ðŸ‘‹" />
    <meta property="og:description" content="Quick smoke test app for VibeCodedByX." />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="./og-image.svg" />
    <meta property="og:url" content="/apps/test/" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Vibe Test â€” Hello ðŸ‘‹" />
    <meta name="twitter:description" content="Quick smoke test app for VibeCodedByX." />
    <meta name="twitter:image" content="./og-image.svg" />

    <link rel="icon" href="./favicon.svg" type="image/svg+xml" />
    <meta name="theme-color" content="#0f172a" />
    <style>
      :root {
        --bg: #0b1220;
        --card: #0f172a;
        --text: #e5e7eb;
        --muted: #94a3b8;
        --accent: #22d3ee;
        --accent-2: #a78bfa;
      }
      * { box-sizing: border-box; }
      html, body { height: 100%; }
      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";
        background: radial-gradient(1200px 600px at 10% 10%, #0b1636 0%, var(--bg) 60%),
                    radial-gradient(1200px 600px at 90% 90%, #0d1025 0%, var(--bg) 60%);
        color: var(--text);
        display: grid;
        place-items: center;
        padding: 24px;
      }
      .card {
        width: min(720px, 100%);
        background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 16px;
        padding: 24px;
        box-shadow: 0 20px 60px rgba(0,0,0,0.4), inset 0 1px 0 rgba(255,255,255,0.04);
        backdrop-filter: blur(6px);
      }
      h1 { margin: 0 0 8px 0; font-size: clamp(24px, 3.5vw, 36px); }
      p { margin: 0; color: var(--muted); }
      .row { display: flex; gap: 12px; align-items: center; flex-wrap: wrap; }
      .badge {
        background: rgba(34, 211, 238, 0.12);
        border: 1px solid rgba(34, 211, 238, 0.35);
        color: #99f6e4;
        padding: 6px 10px;
        border-radius: 999px;
        font-size: 12px;
      }
      .actions { margin-top: 18px; display: flex; gap: 12px; flex-wrap: wrap; }
      .btn {
        appearance: none;
        background: linear-gradient(90deg, var(--accent), var(--accent-2));
        color: #0b1220;
        border: none;
        border-radius: 10px;
        padding: 10px 14px;
        font-weight: 700;
        cursor: pointer;
        box-shadow: 0 8px 22px rgba(34,211,238,0.25);
      }
      .btn.secondary {
        background: transparent;
        color: var(--text);
        border: 1px solid rgba(255,255,255,0.16);
        box-shadow: none;
      }
      .meta { margin-top: 18px; font-size: 12px; color: var(--muted); }
      .small { font-size: 12px; color: var(--muted); }
      .grid { display: grid; grid-template-columns: 1fr; gap: 16px; margin-top: 18px; }
      @media (min-width: 640px) { .grid { grid-template-columns: 1fr 1fr; } }
      .panel { background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.08); border-radius: 12px; padding: 16px; }
      code { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }
      a { color: #7dd3fc; text-decoration: none; }
      a:hover { text-decoration: underline; }
    </style>
  </head>
  <body>
    <main class="card" role="main">
      <div class="row">
        <div class="badge">âœ… Live Test</div>
        <div class="badge" id="uaBadge">â€¦</div>
      </div>
      <h1>Vibe Test <span aria-hidden="true">ðŸ‘‹</span></h1>
      <p>Minimal smoke test app. Checks that static hosting works and JS runs.</p>

      <div class="grid">
        <section class="panel">
          <strong>Checks</strong>
          <ul class="small" id="checks" style="margin:8px 0 0 16px"></ul>
        </section>
        <section class="panel">
          <strong>Actions</strong>
          <div class="actions">
            <button class="btn" id="pingBtn">Run JS Ping</button>
            <a class="btn secondary" href="https://www.vibecodedbyx.com" target="_blank" rel="noopener">Back to Livestream</a>
          </div>
          <div class="small" id="result" style="margin-top:10px"></div>
        </section>
      </div>

      <div class="meta">
        Open this app at <code>app.vibecodedbyx.com/test/</code> once deployed.
      </div>
    </main>

    <script>
      const checksEl = document.getElementById('checks');
      const addCheck = (label, ok, extra = '') => {
        const li = document.createElement('li');
        li.textContent = `${ok ? 'âœ”' : 'âœ–'} ${label}${extra ? ' â€“ ' + extra : ''}`;
        li.style.color = ok ? '#a7f3d0' : '#fecaca';
        checksEl.appendChild(li);
      };

      // Basic checks
      addCheck('DOM ready', true);
      addCheck('Viewport width', true, String(window.innerWidth));
      addCheck('Local time', true, new Date().toLocaleString());

      // Asset check (og-image)
      (async () => {
        try {
          const res = await fetch('./og-image.svg', { cache: 'no-store' });
          addCheck('OG image loaded', res.ok, `status ${res.status}`);
        } catch (e) {
          addCheck('OG image loaded', false, e.message || 'error');
        }
      })();

      // UA badge
      const ua = navigator.userAgentData?.platform || navigator.platform || 'unknown';
      document.getElementById('uaBadge').textContent = ua;

      // Action: ping
      document.getElementById('pingBtn').addEventListener('click', () => {
        const t0 = performance.now();
        // Run some synchronous work to ensure JS is OK
        let sum = 0; for (let i = 0; i < 100000; i++) sum += i;
        const t1 = performance.now();
        const ms = Math.max(0, Math.round((t1 - t0) * 1000) / 1000);
        document.getElementById('result').textContent = `Ping ran in ${ms} ms (sum=${sum}).`;
        console.log('[vibe-test] ping', { ms, sum });
      });
    </script>
  </body>
  </html>

