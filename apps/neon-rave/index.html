<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Neon Rave</title>
  <link rel="icon" href="https://emojicdn.elk.sh/ðŸª©">
  <meta name="description" content="High-energy party with strobes, equalizer floor, and explosive disco ball">
  <meta property="og:title" content="Neon Rave">
  <meta property="og:description" content="Click the disco ball for confetti explosions!">
  <meta property="og:url" content="https://sloppy.live/neon-rave">
  <meta property="og:image" content="https://sloppy.live/neon-rave/og-image.png">
  <link href="https://fonts.googleapis.com/css2?family=Russo+One&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      min-height: 100vh;
      overflow: hidden;
      font-family: 'Russo One', sans-serif;
      background: #0a0a0a;
      cursor: pointer;
    }

    .warning {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #0a0a0a;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 1000;
      color: #fff;
      text-align: center;
      padding: 20px;
    }

    .warning h1 {
      color: #ff0080;
      font-size: 36px;
      margin-bottom: 20px;
      text-shadow: 0 0 20px #ff0080;
    }

    .warning p {
      max-width: 500px;
      margin-bottom: 30px;
      line-height: 1.6;
      color: #ccc;
    }

    .warning button {
      padding: 15px 40px;
      font-size: 20px;
      font-family: 'Russo One', sans-serif;
      background: linear-gradient(135deg, #ff0080, #00ffff);
      border: none;
      color: #fff;
      cursor: pointer;
      text-transform: uppercase;
      letter-spacing: 2px;
      transition: transform 0.2s, box-shadow 0.2s;
    }

    .warning button:hover {
      transform: scale(1.05);
      box-shadow: 0 0 30px rgba(255, 0, 128, 0.5);
    }

    .strobe {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 5;
      opacity: 0;
      background: #fff;
    }

    .strobe.flash {
      animation: strobe 0.1s;
    }

    @keyframes strobe {
      0%, 100% { opacity: 0; }
      50% { opacity: 0.8; }
    }

    .equalizer {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 200px;
      display: flex;
      justify-content: center;
      align-items: flex-end;
      gap: 4px;
      padding: 0 20px;
      z-index: 2;
    }

    .bar {
      width: 20px;
      background: linear-gradient(to top, #ff0080, #ff00ff, #00ffff);
      border-radius: 4px 4px 0 0;
      box-shadow: 0 0 15px currentColor;
      transition: height 0.05s;
    }

    .disco-ball-container {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 10;
    }

    .disco-ball {
      width: 200px;
      height: 200px;
      border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, #fff, #888, #333);
      position: relative;
      cursor: pointer;
      animation: spin 4s linear infinite;
      box-shadow:
        0 0 60px rgba(255, 255, 255, 0.3),
        inset 0 0 30px rgba(0, 0, 0, 0.5);
      transition: transform 0.2s;
    }

    .disco-ball:hover {
      transform: scale(1.1);
    }

    .disco-ball:active {
      transform: scale(0.95);
    }

    @keyframes spin {
      from { transform: rotateY(0deg); }
      to { transform: rotateY(360deg); }
    }

    /* Disco ball tiles */
    .disco-ball::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border-radius: 50%;
      background:
        repeating-conic-gradient(
          from 0deg,
          transparent 0deg 10deg,
          rgba(255,255,255,0.3) 10deg 20deg
        );
      animation: spinReverse 8s linear infinite;
    }

    @keyframes spinReverse {
      from { transform: rotateX(30deg) rotateZ(0deg); }
      to { transform: rotateX(30deg) rotateZ(360deg); }
    }

    /* Light beams from disco ball */
    .light-beam {
      position: absolute;
      width: 4px;
      height: 300px;
      background: linear-gradient(to bottom, rgba(255,255,255,0.8), transparent);
      transform-origin: top center;
      pointer-events: none;
      opacity: 0.6;
    }

    .confetti {
      position: fixed;
      width: 10px;
      height: 10px;
      pointer-events: none;
      z-index: 100;
      animation: confettiFall 3s ease-out forwards;
    }

    @keyframes confettiFall {
      0% {
        opacity: 1;
        transform: translateY(0) rotate(0deg) scale(1);
      }
      100% {
        opacity: 0;
        transform: translateY(100vh) rotate(720deg) scale(0.5);
      }
    }

    .title {
      position: fixed;
      top: 30px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 48px;
      text-transform: uppercase;
      letter-spacing: 10px;
      z-index: 20;
      animation: titleGlow 2s ease-in-out infinite alternate;
    }

    @keyframes titleGlow {
      0% {
        color: #ff0080;
        text-shadow: 0 0 20px #ff0080, 0 0 40px #ff0080;
      }
      33% {
        color: #00ffff;
        text-shadow: 0 0 20px #00ffff, 0 0 40px #00ffff;
      }
      66% {
        color: #ff00ff;
        text-shadow: 0 0 20px #ff00ff, 0 0 40px #ff00ff;
      }
      100% {
        color: #80ff00;
        text-shadow: 0 0 20px #80ff00, 0 0 40px #80ff00;
      }
    }

    .hint {
      position: fixed;
      bottom: 220px;
      left: 50%;
      transform: translateX(-50%);
      color: rgba(255, 255, 255, 0.5);
      font-size: 14px;
      letter-spacing: 3px;
      z-index: 20;
      animation: pulse 1s ease-in-out infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 0.3; }
      50% { opacity: 0.7; }
    }

    .backlink {
      position: fixed;
      top: 20px;
      right: 20px;
      color: rgba(255, 255, 255, 0.3);
      text-decoration: none;
      font-size: 12px;
      z-index: 30;
      transition: color 0.3s;
    }

    .backlink:hover {
      color: #0ff;
    }

    .controls {
      position: fixed;
      top: 20px;
      left: 20px;
      z-index: 30;
    }

    .toggle-btn {
      background: rgba(255, 0, 128, 0.2);
      border: 1px solid rgba(255, 0, 128, 0.5);
      color: #ff0080;
      padding: 8px 16px;
      font-family: 'Russo One', sans-serif;
      font-size: 11px;
      cursor: pointer;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .toggle-btn:hover {
      background: rgba(255, 0, 128, 0.3);
    }

    .toggle-btn.off {
      opacity: 0.5;
    }

    /* Laser beams */
    .laser {
      position: fixed;
      height: 3px;
      background: linear-gradient(90deg, transparent, var(--color), transparent);
      pointer-events: none;
      z-index: 3;
      opacity: 0.7;
      transform-origin: left center;
    }

    @media (max-width: 600px) {
      .title {
        font-size: 28px;
        letter-spacing: 5px;
      }

      .disco-ball {
        width: 150px;
        height: 150px;
      }

      .bar {
        width: 10px;
      }

      .equalizer {
        height: 150px;
        gap: 2px;
      }
    }
  </style>
</head>
<body>
  <div class="warning" id="warning">
    <h1>âš¡ PHOTOSENSITIVITY WARNING âš¡</h1>
    <p>This experience contains flashing lights and strobe effects that may cause discomfort or trigger seizures in people with photosensitive epilepsy.</p>
    <button onclick="startRave()">I UNDERSTAND - LET'S RAVE!</button>
  </div>

  <div class="strobe" id="strobe"></div>

  <h1 class="title">NEON RAVE</h1>

  <div class="controls">
    <button class="toggle-btn" id="strobeToggle">STROBE: ON</button>
  </div>

  <div class="disco-ball-container">
    <div class="disco-ball" id="discoBall"></div>
  </div>

  <div class="hint">CLICK THE DISCO BALL</div>

  <div class="equalizer" id="equalizer"></div>

  <a href="https://sloppy.live" class="backlink">sloppy.live</a>

  <script>
    const warning = document.getElementById('warning');
    const strobe = document.getElementById('strobe');
    const discoBall = document.getElementById('discoBall');
    const equalizer = document.getElementById('equalizer');
    const strobeToggle = document.getElementById('strobeToggle');

    let raveStarted = false;
    let strobeEnabled = true;
    let bars = [];
    let lasers = [];
    let audioCtx;
    let beat = 0;

    const NEON_COLORS = [
      '#ff0080', '#00ffff', '#ff00ff', '#80ff00',
      '#ffff00', '#ff8000', '#00ff80', '#8000ff',
      '#ff0040', '#00ff00', '#0080ff', '#ff00bf'
    ];

    function startRave() {
      warning.style.display = 'none';
      raveStarted = true;
      initEqualizer();
      initLasers();
      animate();

      // Start audio context for beat
      audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    }

    function initEqualizer() {
      const barCount = Math.floor(window.innerWidth / 24);
      equalizer.innerHTML = '';
      bars = [];

      for (let i = 0; i < barCount; i++) {
        const bar = document.createElement('div');
        bar.className = 'bar';
        bar.style.height = '20px';
        equalizer.appendChild(bar);
        bars.push({
          el: bar,
          target: 20,
          current: 20,
          phase: Math.random() * Math.PI * 2
        });
      }
    }

    function initLasers() {
      // Create some laser beams
      for (let i = 0; i < 6; i++) {
        const laser = document.createElement('div');
        laser.className = 'laser';
        laser.style.setProperty('--color', NEON_COLORS[i % NEON_COLORS.length]);
        laser.style.width = '100%';
        laser.style.left = '0';
        laser.style.top = (100 + i * 80) + 'px';
        document.body.appendChild(laser);
        lasers.push({
          el: laser,
          angle: Math.random() * 30 - 15,
          speed: 0.5 + Math.random() * 1
        });
      }
    }

    function createConfetti(x, y) {
      const count = 50;
      for (let i = 0; i < count; i++) {
        const confetti = document.createElement('div');
        confetti.className = 'confetti';
        confetti.style.left = x + 'px';
        confetti.style.top = y + 'px';
        confetti.style.background = NEON_COLORS[Math.floor(Math.random() * NEON_COLORS.length)];
        confetti.style.boxShadow = `0 0 10px ${confetti.style.background}`;

        // Random shape
        if (Math.random() > 0.5) {
          confetti.style.borderRadius = '50%';
        }

        // Random direction
        const angle = (Math.PI * 2 / count) * i + Math.random() * 0.5;
        const velocity = 5 + Math.random() * 10;
        const vx = Math.cos(angle) * velocity;
        const vy = Math.sin(angle) * velocity - 5;

        confetti.style.setProperty('--vx', vx);

        // Custom animation
        let posX = x;
        let posY = y;
        let velX = vx;
        let velY = vy;
        let rotation = 0;
        let opacity = 1;

        const animateConfetti = () => {
          velY += 0.3; // gravity
          posX += velX;
          posY += velY;
          rotation += 10;
          opacity -= 0.015;

          confetti.style.left = posX + 'px';
          confetti.style.top = posY + 'px';
          confetti.style.transform = `rotate(${rotation}deg)`;
          confetti.style.opacity = opacity;

          if (opacity > 0 && posY < window.innerHeight + 50) {
            requestAnimationFrame(animateConfetti);
          } else {
            confetti.remove();
          }
        };

        document.body.appendChild(confetti);
        requestAnimationFrame(animateConfetti);
      }

      // Play explosion sound
      playExplosion();
    }

    function playExplosion() {
      if (!audioCtx) return;

      const oscillator = audioCtx.createOscillator();
      const gainNode = audioCtx.createGain();

      oscillator.connect(gainNode);
      gainNode.connect(audioCtx.destination);

      oscillator.type = 'sawtooth';
      oscillator.frequency.setValueAtTime(150, audioCtx.currentTime);
      oscillator.frequency.exponentialRampToValueAtTime(40, audioCtx.currentTime + 0.2);

      gainNode.gain.setValueAtTime(0.3, audioCtx.currentTime);
      gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.3);

      oscillator.start(audioCtx.currentTime);
      oscillator.stop(audioCtx.currentTime + 0.3);
    }

    function triggerStrobe() {
      if (!strobeEnabled) return;
      strobe.classList.remove('flash');
      void strobe.offsetWidth; // Force reflow
      strobe.classList.add('flash');
    }

    let lastTime = 0;
    let strobeTimer = 0;
    const BPM = 128;
    const beatInterval = 60000 / BPM;

    function animate(time = 0) {
      if (!raveStarted) return;

      const delta = time - lastTime;
      lastTime = time;
      beat += delta;

      // Strobe on beat
      strobeTimer += delta;
      if (strobeTimer >= beatInterval / 2) {
        strobeTimer = 0;
        if (Math.random() > 0.3) {
          triggerStrobe();
        }
      }

      // Update equalizer bars
      bars.forEach((bar, i) => {
        const wave = Math.sin(time * 0.005 + bar.phase);
        const wave2 = Math.sin(time * 0.008 + bar.phase * 2);
        const beatPulse = Math.sin(beat / beatInterval * Math.PI * 2) * 0.5 + 0.5;

        bar.target = 20 + (wave * 0.5 + 0.5) * 80 + (wave2 * 0.5 + 0.5) * 40 + beatPulse * 30;
        bar.current += (bar.target - bar.current) * 0.3;
        bar.el.style.height = bar.current + 'px';

        // Color shift
        const hue = (time * 0.1 + i * 10) % 360;
        bar.el.style.filter = `hue-rotate(${hue}deg)`;
      });

      // Update lasers
      lasers.forEach((laser, i) => {
        laser.angle += laser.speed;
        const swing = Math.sin(laser.angle * 0.02) * 20;
        laser.el.style.transform = `rotate(${swing}deg)`;
        laser.el.style.top = (80 + i * 70 + Math.sin(time * 0.001 + i) * 30) + 'px';
      });

      requestAnimationFrame(animate);
    }

    // Event listeners
    discoBall.addEventListener('click', (e) => {
      const rect = discoBall.getBoundingClientRect();
      const x = rect.left + rect.width / 2;
      const y = rect.top + rect.height / 2;
      createConfetti(x, y);

      // Extra strobes
      for (let i = 0; i < 5; i++) {
        setTimeout(triggerStrobe, i * 50);
      }
    });

    strobeToggle.addEventListener('click', () => {
      strobeEnabled = !strobeEnabled;
      strobeToggle.textContent = `STROBE: ${strobeEnabled ? 'ON' : 'OFF'}`;
      strobeToggle.classList.toggle('off', !strobeEnabled);
    });

    // Click anywhere for extra confetti
    document.body.addEventListener('click', (e) => {
      if (e.target === discoBall || !raveStarted) return;
      if (e.target.tagName === 'BUTTON' || e.target.tagName === 'A') return;

      // Small confetti burst at click point
      for (let i = 0; i < 10; i++) {
        const confetti = document.createElement('div');
        confetti.className = 'confetti';
        confetti.style.left = e.clientX + 'px';
        confetti.style.top = e.clientY + 'px';
        confetti.style.background = NEON_COLORS[Math.floor(Math.random() * NEON_COLORS.length)];
        confetti.style.width = '6px';
        confetti.style.height = '6px';
        document.body.appendChild(confetti);

        setTimeout(() => confetti.remove(), 3000);
      }
    });

    // Resize handler
    window.addEventListener('resize', () => {
      if (raveStarted) initEqualizer();
    });
  </script>
</body>
</html>
