<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dreamy Sleep</title>
  <link rel="icon" href="https://emojicdn.elk.sh/ðŸŒ™">
  <meta name="description" content="A gentle breathing guide with a glowing moon and falling stars to help you drift off to sleep">
  <meta property="og:title" content="Dreamy Sleep">
  <meta property="og:description" content="Drift off to sleep with a breathing moon and gentle falling stars">
  <meta property="og:url" content="https://app.sloppy.live/dreamy-sleep">
  <meta property="og:image" content="https://app.sloppy.live/dreamy-sleep/og-image.png">
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      min-height: 100vh;
      overflow: hidden;
      font-family: 'Cormorant Garamond', serif;
      background: linear-gradient(180deg,
        #0a0e1a 0%,
        #0f1628 30%,
        #141e3c 60%,
        #1a2744 100%
      );
    }

    .stars-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      overflow: hidden;
    }

    .star {
      position: absolute;
      width: 3px;
      height: 3px;
      background: #fff;
      border-radius: 50%;
      opacity: 0;
      animation: fall linear forwards;
    }

    @keyframes fall {
      0% {
        opacity: 0;
        transform: translateY(0) scale(1);
      }
      10% {
        opacity: 0.8;
      }
      80% {
        opacity: 0.4;
      }
      100% {
        opacity: 0;
        transform: translateY(100vh) scale(0.3);
      }
    }

    .moon-container {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 60px;
    }

    .moon {
      width: 200px;
      height: 200px;
      border-radius: 50%;
      background: radial-gradient(circle at 35% 35%,
        #fffef0 0%,
        #f5f0d8 30%,
        #e8dfc0 60%,
        #d4c8a0 100%
      );
      box-shadow:
        0 0 60px rgba(255, 253, 220, 0.4),
        0 0 120px rgba(255, 253, 220, 0.2),
        0 0 200px rgba(255, 253, 220, 0.1);
      animation: breathe 8s ease-in-out infinite;
      position: relative;
    }

    .moon::before {
      content: '';
      position: absolute;
      top: 20%;
      left: 15%;
      width: 25px;
      height: 25px;
      background: rgba(200, 190, 160, 0.3);
      border-radius: 50%;
    }

    .moon::after {
      content: '';
      position: absolute;
      top: 55%;
      left: 60%;
      width: 40px;
      height: 40px;
      background: rgba(200, 190, 160, 0.25);
      border-radius: 50%;
    }

    @keyframes breathe {
      0%, 100% {
        transform: scale(1);
        box-shadow:
          0 0 60px rgba(255, 253, 220, 0.3),
          0 0 120px rgba(255, 253, 220, 0.15),
          0 0 200px rgba(255, 253, 220, 0.08);
      }
      50% {
        transform: scale(1.08);
        box-shadow:
          0 0 80px rgba(255, 253, 220, 0.5),
          0 0 160px rgba(255, 253, 220, 0.3),
          0 0 280px rgba(255, 253, 220, 0.15);
      }
    }

    .breathing-guide {
      text-align: center;
      color: rgba(255, 253, 220, 0.5);
      font-size: 24px;
      font-weight: 300;
      letter-spacing: 8px;
      text-transform: lowercase;
      animation: guideText 8s ease-in-out infinite;
    }

    @keyframes guideText {
      0%, 5% {
        opacity: 0.6;
      }
      20%, 30% {
        opacity: 0.8;
      }
      45%, 55% {
        opacity: 0.6;
      }
      70%, 80% {
        opacity: 0.8;
      }
      95%, 100% {
        opacity: 0.6;
      }
    }

    .guide-text {
      animation: fadeWords 8s ease-in-out infinite;
    }

    @keyframes fadeWords {
      0%, 45% {
        opacity: 1;
      }
      48%, 52% {
        opacity: 0;
      }
      55%, 100% {
        opacity: 1;
      }
    }

    .guide-text.exhale {
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      animation: fadeWordsAlt 8s ease-in-out infinite;
    }

    @keyframes fadeWordsAlt {
      0%, 45% {
        opacity: 0;
      }
      48%, 52% {
        opacity: 0;
      }
      55%, 95% {
        opacity: 1;
      }
      98%, 100% {
        opacity: 0;
      }
    }

    .breathing-guide-wrapper {
      position: relative;
      height: 30px;
    }

    /* Ambient static stars */
    .ambient-star {
      position: fixed;
      width: 2px;
      height: 2px;
      background: #fff;
      border-radius: 50%;
      animation: twinkle 4s ease-in-out infinite;
    }

    @keyframes twinkle {
      0%, 100% { opacity: 0.2; }
      50% { opacity: 0.6; }
    }

    .backlink {
      position: fixed;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      color: rgba(255, 253, 220, 0.2);
      text-decoration: none;
      font-size: 14px;
      letter-spacing: 2px;
      transition: color 0.5s;
    }

    .backlink:hover {
      color: rgba(255, 253, 220, 0.4);
    }

    /* Soft cloud wisps */
    .cloud {
      position: fixed;
      background: radial-gradient(ellipse, rgba(255,255,255,0.03) 0%, transparent 70%);
      border-radius: 50%;
      pointer-events: none;
    }

    .cloud-1 {
      width: 600px;
      height: 200px;
      bottom: 10%;
      left: -10%;
      animation: drift 60s linear infinite;
    }

    .cloud-2 {
      width: 400px;
      height: 150px;
      bottom: 20%;
      right: -5%;
      animation: drift 80s linear infinite reverse;
    }

    @keyframes drift {
      0% { transform: translateX(0); }
      100% { transform: translateX(100px); }
    }

    @media (max-width: 600px) {
      .moon {
        width: 150px;
        height: 150px;
      }

      .breathing-guide {
        font-size: 18px;
        letter-spacing: 5px;
      }

      .moon-container {
        gap: 40px;
      }
    }
  </style>
</head>
<body>
  <div class="stars-container" id="stars"></div>

  <!-- Ambient static stars -->
  <div id="ambient"></div>

  <!-- Soft clouds -->
  <div class="cloud cloud-1"></div>
  <div class="cloud cloud-2"></div>

  <div class="moon-container">
    <div class="moon"></div>
    <div class="breathing-guide">
      <div class="breathing-guide-wrapper">
        <span class="guide-text">breathe in</span>
        <span class="guide-text exhale">breathe out</span>
      </div>
    </div>
  </div>

  <a href="https://sloppy.live" class="backlink">sloppy.live</a>

  <script>
    const starsContainer = document.getElementById('stars');
    const ambientContainer = document.getElementById('ambient');

    // Create ambient twinkling stars
    function createAmbientStars() {
      for (let i = 0; i < 50; i++) {
        const star = document.createElement('div');
        star.className = 'ambient-star';
        star.style.left = Math.random() * 100 + '%';
        star.style.top = Math.random() * 100 + '%';
        star.style.animationDelay = Math.random() * 4 + 's';
        star.style.animationDuration = (3 + Math.random() * 3) + 's';
        ambientContainer.appendChild(star);
      }
    }

    // Create falling star
    function createFallingStar() {
      const star = document.createElement('div');
      star.className = 'star';

      // Random starting position
      star.style.left = Math.random() * 100 + '%';
      star.style.top = '-10px';

      // Random size
      const size = 1 + Math.random() * 3;
      star.style.width = size + 'px';
      star.style.height = size + 'px';

      // Soft warm white to pale blue colors
      const colors = [
        'rgba(255, 253, 240, 0.9)',
        'rgba(220, 230, 255, 0.8)',
        'rgba(255, 245, 220, 0.85)',
        'rgba(200, 220, 255, 0.75)',
      ];
      star.style.background = colors[Math.floor(Math.random() * colors.length)];
      star.style.boxShadow = `0 0 ${size * 2}px ${star.style.background}`;

      // Random duration (slow, gentle fall)
      const duration = 8 + Math.random() * 12;
      star.style.animationDuration = duration + 's';

      starsContainer.appendChild(star);

      // Remove after animation
      setTimeout(() => {
        star.remove();
      }, duration * 1000);
    }

    // Initialize
    createAmbientStars();

    // Create falling stars at random intervals
    function scheduleNextStar() {
      const delay = 800 + Math.random() * 2000;
      setTimeout(() => {
        createFallingStar();
        scheduleNextStar();
      }, delay);
    }

    // Start with a few stars
    for (let i = 0; i < 5; i++) {
      setTimeout(createFallingStar, i * 500);
    }

    scheduleNextStar();
  </script>
<script src="/apps/sloppy-header/sloppy-bar.js"></script>
<script src="/vibelib-extended.js"></script>
<script>
  // Compatibility Patch for Legacy Apps
  window.addEventListener("load", () => {
    if (window.SloppyKarma && window.VibeLib.Economy) {
      // Redirect old calls to new engine
      window.SloppyKarma.track = window.VibeLib.Economy.track;
    }
  });
</script>
</body>
</html>
