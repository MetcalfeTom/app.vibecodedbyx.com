<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ghost Town Radio</title>
  <link rel="icon" href="https://emojicdn.elk.sh/ðŸŒµ">
  <meta name="description" content="Tune in to the loneliest station on earth.">
  <meta property="og:title" content="Ghost Town Radio">
  <meta property="og:description" content="Eerie winds and tumbleweeds from a forgotten desert town.">
  <meta property="og:url" content="https://sloppy.live/ghost-town-radio">
  <meta property="og:image" content="https://sloppy.live/ghost-town-radio/og-image.png">
  <meta property="og:type" content="website">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Rye&family=Special+Elite&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      background: linear-gradient(180deg, #1a1510 0%, #2d2318 40%, #3d2f1f 70%, #4a3828 100%);
      font-family: 'Special Elite', monospace;
      min-height: 100vh;
      overflow: hidden;
      color: #c9a66b;
    }
    .sky {
      position: fixed;
      inset: 0;
      background: linear-gradient(180deg,
        #0d0908 0%,
        #1a1210 30%,
        #2a1f15 50%,
        #3d2a1a 70%,
        #5a3d25 100%
      );
    }
    .stars {
      position: fixed;
      inset: 0;
      pointer-events: none;
    }
    .star {
      position: absolute;
      width: 2px;
      height: 2px;
      background: #fff;
      border-radius: 50%;
      opacity: 0.3;
      animation: twinkle 3s ease-in-out infinite;
    }
    @keyframes twinkle {
      0%, 100% { opacity: 0.2; }
      50% { opacity: 0.6; }
    }
    .moon {
      position: fixed;
      top: 60px;
      right: 15%;
      width: 80px;
      height: 80px;
      background: radial-gradient(circle at 30% 30%, #f5e6c8, #d4c4a0, #a89070);
      border-radius: 50%;
      box-shadow: 0 0 60px rgba(245, 230, 200, 0.3), 0 0 120px rgba(245, 230, 200, 0.1);
      opacity: 0.8;
    }
    .ground {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      height: 30vh;
      background: linear-gradient(180deg, #3d2a1a 0%, #2a1d12 100%);
    }
    .horizon {
      position: fixed;
      bottom: 30vh;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, transparent, rgba(90, 60, 30, 0.5), transparent);
    }
    .dust-overlay {
      position: fixed;
      inset: 0;
      background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="1" fill="rgba(201,166,107,0.03)"/></svg>');
      background-size: 8px 8px;
      pointer-events: none;
      animation: dustDrift 20s linear infinite;
    }
    @keyframes dustDrift {
      from { transform: translateX(0); }
      to { transform: translateX(-100px); }
    }
    .container {
      position: relative;
      z-index: 10;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      padding: 20px;
      text-align: center;
    }
    h1 {
      font-family: 'Rye', serif;
      font-size: clamp(32px, 8vw, 64px);
      color: #8b6914;
      text-shadow:
        0 2px 0 #3d2a1a,
        0 4px 10px rgba(0, 0, 0, 0.5),
        0 0 40px rgba(139, 105, 20, 0.3);
      margin-bottom: 10px;
      letter-spacing: 2px;
    }
    .subtitle {
      font-size: 14px;
      color: #7a6040;
      letter-spacing: 4px;
      text-transform: uppercase;
      margin-bottom: 40px;
    }
    .radio-dial {
      width: 200px;
      height: 200px;
      background: radial-gradient(circle, #2a2015 0%, #1a1510 100%);
      border-radius: 50%;
      border: 4px solid #5a4020;
      box-shadow:
        inset 0 0 30px rgba(0, 0, 0, 0.5),
        0 0 20px rgba(90, 64, 32, 0.3);
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      margin-bottom: 30px;
    }
    .dial-marks {
      position: absolute;
      inset: 10px;
      border-radius: 50%;
      border: 2px dashed rgba(139, 105, 20, 0.3);
    }
    .frequency {
      font-family: 'Special Elite', monospace;
      font-size: 28px;
      color: #c9a66b;
      text-shadow: 0 0 10px rgba(201, 166, 107, 0.5);
    }
    .frequency-label {
      font-size: 10px;
      color: #7a6040;
      margin-top: 5px;
    }
    .status {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 30px;
    }
    .status-dot {
      width: 10px;
      height: 10px;
      background: #5a3d25;
      border-radius: 50%;
      transition: all 0.3s;
    }
    .status-dot.active {
      background: #c9a66b;
      box-shadow: 0 0 10px rgba(201, 166, 107, 0.8);
      animation: pulse 2s ease-in-out infinite;
    }
    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }
    .status-text {
      font-size: 12px;
      color: #7a6040;
      text-transform: uppercase;
      letter-spacing: 2px;
    }
    .play-btn {
      background: linear-gradient(180deg, #5a4020 0%, #3d2a1a 100%);
      border: 2px solid #8b6914;
      border-radius: 8px;
      padding: 15px 40px;
      color: #c9a66b;
      font-family: 'Rye', serif;
      font-size: 16px;
      cursor: pointer;
      transition: all 0.3s;
      text-transform: uppercase;
      letter-spacing: 2px;
    }
    .play-btn:hover {
      background: linear-gradient(180deg, #6a5030 0%, #4d3a2a 100%);
      box-shadow: 0 0 20px rgba(139, 105, 20, 0.4);
    }
    .play-btn.playing {
      background: linear-gradient(180deg, #8b6914 0%, #5a4020 100%);
      color: #1a1510;
    }
    .tumbleweed {
      position: fixed;
      pointer-events: none;
      z-index: 5;
      opacity: 0.7;
    }
    .tumbleweed svg {
      width: 100%;
      height: 100%;
    }
    .silhouettes {
      position: fixed;
      bottom: 30vh;
      left: 0;
      right: 0;
      height: 100px;
      pointer-events: none;
      z-index: 3;
    }
    .cactus {
      position: absolute;
      bottom: 0;
    }
    .building {
      position: absolute;
      bottom: 0;
      background: #1a1510;
    }
    .building::before {
      content: '';
      position: absolute;
      top: -20px;
      left: 50%;
      transform: translateX(-50%);
      border-left: 30px solid transparent;
      border-right: 30px solid transparent;
      border-bottom: 20px solid #1a1510;
    }
    .message {
      position: fixed;
      bottom: 60px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 12px;
      color: #5a4020;
      letter-spacing: 1px;
      white-space: nowrap;
    }
    .backlink {
      position: fixed;
      bottom: 20px;
      right: 20px;
      color: #5a4020;
      font-size: 11px;
      text-decoration: none;
      z-index: 20;
    }
    .backlink:hover {
      color: #8b6914;
    }
    .wind-lines {
      position: fixed;
      inset: 0;
      pointer-events: none;
      overflow: hidden;
    }
    .wind-line {
      position: absolute;
      height: 1px;
      background: linear-gradient(90deg, transparent, rgba(201, 166, 107, 0.1), transparent);
      animation: windBlow 3s linear infinite;
      opacity: 0;
    }
    body.playing .wind-line {
      opacity: 1;
    }
    @keyframes windBlow {
      from { transform: translateX(-100%); }
      to { transform: translateX(100vw); }
    }
  </style>
</head>
<body>
  <div class="sky"></div>
  <div class="stars" id="stars"></div>
  <div class="moon"></div>
  <div class="ground"></div>
  <div class="horizon"></div>
  <div class="dust-overlay"></div>
  <div class="wind-lines" id="windLines"></div>

  <div class="silhouettes">
    <svg class="cactus" style="left: 10%; height: 60px; width: 30px;" viewBox="0 0 30 60">
      <path d="M15 60 L15 20 M15 30 L5 30 L5 20 M15 25 L25 25 L25 15" stroke="#1a1510" stroke-width="6" fill="none" stroke-linecap="round"/>
    </svg>
    <svg class="cactus" style="left: 85%; height: 80px; width: 40px;" viewBox="0 0 40 80">
      <path d="M20 80 L20 25 M20 40 L8 40 L8 25 M20 35 L32 35 L32 20" stroke="#1a1510" stroke-width="6" fill="none" stroke-linecap="round"/>
    </svg>
    <div class="building" style="left: 30%; width: 40px; height: 50px;"></div>
    <div class="building" style="left: 35%; width: 60px; height: 70px;"></div>
    <div class="building" style="left: 60%; width: 50px; height: 55px;"></div>
  </div>

  <div class="container">
    <h1>Ghost Town Radio</h1>
    <p class="subtitle">Broadcasting from nowhere</p>

    <div class="radio-dial">
      <div class="dial-marks"></div>
      <div>
        <div class="frequency">66.6</div>
        <div class="frequency-label">FM</div>
      </div>
    </div>

    <div class="status">
      <div class="status-dot" id="statusDot"></div>
      <span class="status-text" id="statusText">Off Air</span>
    </div>

    <button class="play-btn" id="playBtn">Tune In</button>
  </div>

  <div class="message">...nothing but dust and memories out here...</div>
  <a href="https://sloppy.live" class="backlink">sloppy.live</a>

  <script>
    // Create stars
    const starsEl = document.getElementById('stars');
    for (let i = 0; i < 50; i++) {
      const star = document.createElement('div');
      star.className = 'star';
      star.style.left = Math.random() * 100 + '%';
      star.style.top = Math.random() * 50 + '%';
      star.style.animationDelay = Math.random() * 3 + 's';
      star.style.width = (1 + Math.random() * 2) + 'px';
      star.style.height = star.style.width;
      starsEl.appendChild(star);
    }

    // Create wind lines
    const windLines = document.getElementById('windLines');
    for (let i = 0; i < 8; i++) {
      const line = document.createElement('div');
      line.className = 'wind-line';
      line.style.top = (20 + Math.random() * 60) + '%';
      line.style.width = (100 + Math.random() * 200) + 'px';
      line.style.animationDelay = Math.random() * 3 + 's';
      line.style.animationDuration = (2 + Math.random() * 2) + 's';
      windLines.appendChild(line);
    }

    // Tumbleweed SVG
    function createTumbleweedSVG() {
      return `<svg viewBox="0 0 100 100">
        <g fill="none" stroke="#5a4020" stroke-width="2">
          <circle cx="50" cy="50" r="35" opacity="0.6"/>
          <circle cx="50" cy="50" r="25" opacity="0.5"/>
          <circle cx="50" cy="50" r="15" opacity="0.4"/>
          <path d="M50 15 Q60 50 50 85" opacity="0.5"/>
          <path d="M15 50 Q50 60 85 50" opacity="0.5"/>
          <path d="M25 25 Q50 50 75 75" opacity="0.4"/>
          <path d="M75 25 Q50 50 25 75" opacity="0.4"/>
          <path d="M50 20 Q70 40 50 80" opacity="0.3"/>
          <path d="M20 50 Q40 70 80 50" opacity="0.3"/>
        </g>
      </svg>`;
    }

    // Spawn tumbleweeds
    const tumbleweeds = [];

    function spawnTumbleweed() {
      const tw = document.createElement('div');
      tw.className = 'tumbleweed';
      tw.innerHTML = createTumbleweedSVG();

      const size = 40 + Math.random() * 60;
      tw.style.width = size + 'px';
      tw.style.height = size + 'px';

      const startY = 50 + Math.random() * 30; // bottom half
      tw.style.top = startY + 'vh';
      tw.style.left = '-100px';

      document.body.appendChild(tw);

      const speed = 1 + Math.random() * 2;
      const rotationSpeed = 2 + Math.random() * 3;
      const bounceHeight = 5 + Math.random() * 15;
      const bounceSpeed = 0.5 + Math.random() * 0.5;

      tumbleweeds.push({
        el: tw,
        x: -100,
        baseY: startY,
        speed,
        rotationSpeed,
        rotation: 0,
        bounceHeight,
        bounceSpeed,
        time: Math.random() * Math.PI * 2
      });
    }

    function updateTumbleweeds() {
      for (let i = tumbleweeds.length - 1; i >= 0; i--) {
        const tw = tumbleweeds[i];
        tw.x += tw.speed;
        tw.rotation += tw.rotationSpeed;
        tw.time += 0.05 * tw.bounceSpeed;

        const bounce = Math.abs(Math.sin(tw.time)) * tw.bounceHeight;
        const y = tw.baseY - bounce;

        tw.el.style.left = tw.x + 'px';
        tw.el.style.top = y + 'vh';
        tw.el.style.transform = `rotate(${tw.rotation}deg)`;

        // Remove if off screen
        if (tw.x > window.innerWidth + 100) {
          tw.el.remove();
          tumbleweeds.splice(i, 1);
        }
      }

      requestAnimationFrame(updateTumbleweeds);
    }

    updateTumbleweeds();

    // Spawn tumbleweeds periodically
    setInterval(() => {
      if (tumbleweeds.length < 5) {
        spawnTumbleweed();
      }
    }, 3000);

    // Initial tumbleweed
    setTimeout(spawnTumbleweed, 1000);

    // Audio
    let audioContext = null;
    let isPlaying = false;
    let windNode = null;
    let radioNode = null;

    const playBtn = document.getElementById('playBtn');
    const statusDot = document.getElementById('statusDot');
    const statusText = document.getElementById('statusText');

    function createWindNoise() {
      const bufferSize = 2 * audioContext.sampleRate;
      const noiseBuffer = audioContext.createBuffer(1, bufferSize, audioContext.sampleRate);
      const output = noiseBuffer.getChannelData(0);

      for (let i = 0; i < bufferSize; i++) {
        output[i] = Math.random() * 2 - 1;
      }

      const whiteNoise = audioContext.createBufferSource();
      whiteNoise.buffer = noiseBuffer;
      whiteNoise.loop = true;

      // Low pass filter for wind effect
      const lowPass = audioContext.createBiquadFilter();
      lowPass.type = 'lowpass';
      lowPass.frequency.value = 400;
      lowPass.Q.value = 1;

      // High pass to remove rumble
      const highPass = audioContext.createBiquadFilter();
      highPass.type = 'highpass';
      highPass.frequency.value = 80;

      // Gain with LFO for gusting
      const gain = audioContext.createGain();
      gain.gain.value = 0.15;

      // LFO for wind gusts
      const lfo = audioContext.createOscillator();
      const lfoGain = audioContext.createGain();
      lfo.frequency.value = 0.1;
      lfoGain.gain.value = 0.08;
      lfo.connect(lfoGain);
      lfoGain.connect(gain.gain);
      lfo.start();

      // Modulate filter frequency for howling
      const filterLfo = audioContext.createOscillator();
      const filterLfoGain = audioContext.createGain();
      filterLfo.frequency.value = 0.05;
      filterLfoGain.gain.value = 200;
      filterLfo.connect(filterLfoGain);
      filterLfoGain.connect(lowPass.frequency);
      filterLfo.start();

      whiteNoise.connect(lowPass);
      lowPass.connect(highPass);
      highPass.connect(gain);
      gain.connect(audioContext.destination);

      whiteNoise.start();

      return { source: whiteNoise, lfo, filterLfo, gain };
    }

    function createRadioStatic() {
      const bufferSize = audioContext.sampleRate;
      const noiseBuffer = audioContext.createBuffer(1, bufferSize, audioContext.sampleRate);
      const output = noiseBuffer.getChannelData(0);

      for (let i = 0; i < bufferSize; i++) {
        output[i] = Math.random() * 2 - 1;
      }

      const noise = audioContext.createBufferSource();
      noise.buffer = noiseBuffer;
      noise.loop = true;

      // Band pass for radio crackle
      const bandPass = audioContext.createBiquadFilter();
      bandPass.type = 'bandpass';
      bandPass.frequency.value = 2000;
      bandPass.Q.value = 5;

      const gain = audioContext.createGain();
      gain.gain.value = 0.02;

      // Random crackle
      const crackleLfo = audioContext.createOscillator();
      crackleLfo.type = 'square';
      crackleLfo.frequency.value = 0.3;
      const crackleLfoGain = audioContext.createGain();
      crackleLfoGain.gain.value = 0.015;
      crackleLfo.connect(crackleLfoGain);
      crackleLfoGain.connect(gain.gain);
      crackleLfo.start();

      noise.connect(bandPass);
      bandPass.connect(gain);
      gain.connect(audioContext.destination);

      noise.start();

      return { source: noise, lfo: crackleLfo, gain };
    }

    function startAudio() {
      if (!audioContext) {
        audioContext = new (window.AudioContext || window.webkitAudioContext)();
      }

      windNode = createWindNoise();
      radioNode = createRadioStatic();

      isPlaying = true;
      document.body.classList.add('playing');
      playBtn.textContent = 'Sign Off';
      playBtn.classList.add('playing');
      statusDot.classList.add('active');
      statusText.textContent = 'On Air';
    }

    function stopAudio() {
      if (windNode) {
        windNode.source.stop();
        windNode.lfo.stop();
        windNode.filterLfo.stop();
        windNode = null;
      }
      if (radioNode) {
        radioNode.source.stop();
        radioNode.lfo.stop();
        radioNode = null;
      }

      isPlaying = false;
      document.body.classList.remove('playing');
      playBtn.textContent = 'Tune In';
      playBtn.classList.remove('playing');
      statusDot.classList.remove('active');
      statusText.textContent = 'Off Air';
    }

    playBtn.addEventListener('click', () => {
      if (isPlaying) {
        stopAudio();
      } else {
        startAudio();
      }
    });

    // Eerie messages that fade in/out
    const messages = [
      "...nothing but dust and memories out here...",
      "...last broadcast: unknown...",
      "...population: 0...",
      "...the wind remembers...",
      "...they all left years ago...",
      "...signal fading...",
      "...is anyone listening?...",
      "...tumbleweeds keep me company...",
      "...the desert speaks in whispers..."
    ];

    const messageEl = document.querySelector('.message');
    let msgIndex = 0;

    setInterval(() => {
      messageEl.style.opacity = 0;
      setTimeout(() => {
        msgIndex = (msgIndex + 1) % messages.length;
        messageEl.textContent = messages[msgIndex];
        messageEl.style.opacity = 1;
      }, 1000);
    }, 8000);
  </script>
</body>
</html>
