<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Chat Boss Battle - Stream Game</title>
<link rel="icon" href="https://emojicdn.elk.sh/‚öîÔ∏è">
<meta property="og:title" content="Chat Boss Battle">
<meta property="og:description" content="Battle epic bosses together with your chat using simple commands!">
<meta property="og:url" content="https://sloppy.live/chat-boss-battle">
<meta property="og:image" content="https://sloppy.live/chat-boss-battle/og-image.png">
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Press Start 2P','Courier New',monospace;background:linear-gradient(135deg,#1a1a2e 0%,#16213e 100%);min-height:100vh;color:#fff;overflow:hidden}
.container{max-width:1200px;margin:0 auto;padding:20px}
.back-link{position:absolute;top:20px;left:20px;color:#fff;text-decoration:none;padding:8px 16px;background:rgba(255,255,255,.1);border-radius:8px;font-size:10px;z-index:100}
.game-header{text-align:center;margin-bottom:30px}
h1{font-size:2rem;text-shadow:3px 3px 6px rgba(0,0,0,.5);margin-bottom:10px}
.game-status{font-size:.9rem;color:#ffd700}
.boss-container{text-align:center;margin:40px 0;position:relative}
.boss-sprite{font-size:15rem;animation:float 3s ease-in-out infinite;filter:drop-shadow(0 0 30px rgba(255,0,0,.5))}
.neon-67{position:relative;display:inline-block;font-family:'Press Start 2P',monospace}
.neon-67 .number{font-size:14rem;font-weight:900;background:linear-gradient(180deg,#0ff 0%,#f0f 50%,#0ff 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;filter:drop-shadow(0 0 20px #0ff) drop-shadow(0 0 40px #f0f) drop-shadow(0 0 60px #0ff);animation:neonPulse 1.5s infinite alternate}
@keyframes neonPulse{0%{filter:drop-shadow(0 0 20px #0ff) drop-shadow(0 0 40px #f0f) drop-shadow(0 0 60px #0ff)}100%{filter:drop-shadow(0 0 40px #f0f) drop-shadow(0 0 80px #0ff) drop-shadow(0 0 100px #f0f)}}
.neon-67 .six{color:#0ff;text-shadow:0 0 20px #0ff,0 0 40px #0ff,0 0 60px #0ff}
.neon-67 .seven{color:#f0f;text-shadow:0 0 20px #f0f,0 0 40px #f0f,0 0 60px #f0f}
.neon-67 .laser-eye{position:absolute;width:20px;height:20px;background:#f00;border-radius:50%;box-shadow:0 0 15px #f00,0 0 30px #f00;animation:eyeGlow 0.5s infinite alternate}
.neon-67 .eye-left{top:45px;left:35px}
.neon-67 .eye-right{top:45px;right:55px}
@keyframes eyeGlow{0%{box-shadow:0 0 15px #f00,0 0 30px #f00}100%{box-shadow:0 0 30px #ff0,0 0 60px #f80}}
.laser-digit{position:fixed;font-size:2.5rem;font-weight:bold;pointer-events:none;z-index:999;animation:laserFly 0.8s linear forwards}
.laser-digit.cyan{color:#0ff;text-shadow:0 0 10px #0ff,0 0 20px #0ff}
.laser-digit.magenta{color:#f0f;text-shadow:0 0 10px #f0f,0 0 20px #f0f}
.laser-digit.yellow{color:#ff0;text-shadow:0 0 10px #ff0,0 0 20px #ff0}
@keyframes laserFly{0%{opacity:1;transform:translateX(0) scale(1)}100%{opacity:0;transform:translateX(-400px) scale(0.5)}}
.butterfinger{position:absolute;font-size:3rem;cursor:pointer;z-index:100;animation:butterfingerFloat 2s ease-in-out infinite;filter:drop-shadow(0 0 15px #f80) drop-shadow(0 0 30px #ff0);display:none}
.butterfinger.active{display:block}
.butterfinger-bar{background:linear-gradient(180deg,#ff8c00 0%,#ffa500 30%,#ff6600 70%,#cc5500 100%);padding:8px 20px;border-radius:8px;font-size:1rem;font-weight:bold;color:#fff;text-shadow:1px 1px 2px #000;letter-spacing:2px;border:3px solid #ffcc00;box-shadow:0 0 20px #f80,inset 0 2px 0 rgba(255,255,255,0.3)}
@keyframes butterfingerFloat{0%,100%{transform:translateY(0) rotate(-5deg)}50%{transform:translateY(-15px) rotate(5deg)}}
.powerup-active{position:fixed;top:100px;left:50%;transform:translateX(-50%);background:linear-gradient(90deg,#f80,#ff0);padding:10px 25px;border-radius:20px;font-size:0.9rem;color:#000;font-weight:bold;z-index:500;display:none;animation:powerupPulse 0.5s infinite}
@keyframes powerupPulse{0%,100%{box-shadow:0 0 10px #f80}50%{box-shadow:0 0 30px #ff0}}
.cosmic-donut{position:absolute;font-size:4rem;cursor:pointer;z-index:100;animation:donutSpin 3s linear infinite;filter:drop-shadow(0 0 20px #a0f) drop-shadow(0 0 40px #60f);display:none}
.cosmic-donut.active{display:block}
@keyframes donutSpin{0%{transform:rotate(0deg) scale(1)}50%{transform:rotate(180deg) scale(1.1)}100%{transform:rotate(360deg) scale(1)}}
.shield-orbs-container{position:fixed;pointer-events:none;z-index:600}
.shield-orb{position:absolute;width:50px;height:50px;border-radius:50%;background:radial-gradient(circle at 30% 30%,rgba(150,255,255,0.9),rgba(100,200,255,0.6),rgba(50,100,200,0.3));border:3px solid rgba(255,255,255,0.5);animation:orbFloat 2s ease-in-out infinite;display:flex;align-items:center;justify-content:center;font-size:1.2rem;box-shadow:0 0 20px #0ff,inset 0 0 20px rgba(255,255,255,0.3)}
@keyframes orbFloat{0%,100%{transform:translateY(0) scale(1)}50%{transform:translateY(-10px) scale(1.05)}}
.shield-active{position:fixed;top:140px;left:50%;transform:translateX(-50%);background:linear-gradient(90deg,#60f,#0ff);padding:10px 25px;border-radius:20px;font-size:0.9rem;color:#fff;font-weight:bold;z-index:500;display:none;animation:shieldPulse 0.5s infinite}
@keyframes shieldPulse{0%,100%{box-shadow:0 0 10px #60f}50%{box-shadow:0 0 30px #0ff}}
.tnt-powerup{position:absolute;font-size:3rem;cursor:pointer;z-index:100;animation:tntBounce 1s ease-in-out infinite;filter:drop-shadow(0 0 20px #f00) drop-shadow(0 0 40px #f80);display:none}
.tnt-powerup.active{display:block}
.tnt-box{background:linear-gradient(180deg,#f44 0%,#c00 50%,#800 100%);padding:10px 15px;border-radius:5px;font-size:1.2rem;font-weight:bold;color:#fff;text-shadow:2px 2px 4px #000;border:3px solid #ff0;box-shadow:0 0 30px #f80}
@keyframes tntBounce{0%,100%{transform:translateY(0) rotate(-3deg)}50%{transform:translateY(-20px) rotate(3deg)}}
.pokeball{position:fixed;font-size:1.5rem;pointer-events:none;z-index:1500;animation:pokeballFly 0.6s ease-out forwards}
@keyframes pokeballFly{0%{opacity:1;transform:scale(0.5) rotate(0deg)}50%{transform:scale(1.2) rotate(180deg)}100%{opacity:0;transform:scale(0.3) rotate(360deg)}}
.mega-explosion{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:100vw;height:100vh;background:radial-gradient(circle,rgba(255,200,0,0.9) 0%,rgba(255,100,0,0.7) 30%,rgba(255,0,0,0.5) 60%,transparent 80%);z-index:1400;animation:megaExplode 1.5s ease-out forwards;pointer-events:none}
@keyframes megaExplode{0%{opacity:0;transform:translate(-50%,-50%) scale(0)}20%{opacity:1;transform:translate(-50%,-50%) scale(1.5)}100%{opacity:0;transform:translate(-50%,-50%) scale(3)}}
@keyframes float{0%,100%{transform:translateY(0px)}50%{transform:translateY(-20px)}}
.boss-shake{animation:shake .3s}
@keyframes shake{0%,100%{transform:translateX(0)}25%{transform:translateX(-10px)}75%{transform:translateX(10px)}}
.boss-health-container{max-width:600px;margin:20px auto}
.boss-name{font-size:1.5rem;margin-bottom:10px;color:#ff6b6b}
.health-bar-bg{background:#333;height:40px;border-radius:10px;overflow:hidden;border:3px solid #666;position:relative}
.health-bar-fill{height:100%;background:linear-gradient(90deg,#f00,#ff6b6b);transition:width .5s ease;display:flex;align-items:center;justify-content:center;font-size:.8rem}
.health-text{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:.9rem;font-weight:bold;text-shadow:2px 2px 4px rgba(0,0,0,.8);z-index:1}
.commands-panel{background:rgba(255,255,255,.1);border-radius:12px;padding:20px;max-width:600px;margin:30px auto;border:2px solid rgba(255,255,255,.2)}
.commands-title{font-size:1.2rem;margin-bottom:15px;color:#ffd700;text-align:center}
.command-list{list-style:none;font-size:.8rem;line-height:2}
.command{background:rgba(0,0,0,.3);padding:8px 12px;margin:5px 0;border-radius:6px;border-left:4px solid #4ecdc4}
.command-name{color:#4ecdc4;font-weight:bold}
.damage-numbers{position:fixed;pointer-events:none;z-index:1000}
.damage-number{position:absolute;font-size:2rem;font-weight:bold;color:#ff6b6b;text-shadow:2px 2px 4px rgba(0,0,0,.8);animation:damageFloat 1s ease-out forwards}
@keyframes damageFloat{0%{opacity:1;transform:translateY(0)}100%{opacity:0;transform:translateY(-100px)}}
.victory-screen{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.9);display:none;justify-content:center;align-items:center;flex-direction:column;z-index:2000}
.victory-text{font-size:3rem;color:#ffd700;margin-bottom:20px;animation:pulse 1s infinite}
@keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.1)}}
.stats-panel{display:flex;justify-content:center;gap:30px;margin:20px 0;font-size:.8rem}
.stat-box{background:rgba(255,255,255,.1);padding:15px 30px;border-radius:8px;border:2px solid rgba(255,255,255,.2)}
.stat-value{font-size:1.5rem;color:#4ecdc4;margin-top:5px}
.activity-feed{max-width:600px;margin:20px auto;background:rgba(0,0,0,.3);border-radius:8px;padding:15px;height:150px;overflow-y:auto;font-size:.7rem;line-height:1.8}
.activity-item{color:#aaa;margin:5px 0}
.activity-attack{color:#ff6b6b}
@media (max-width:768px){
h1{font-size:1.5rem}
.boss-sprite{font-size:8rem}
.commands-panel{font-size:.7rem}
.stats-panel{flex-direction:column;gap:10px}
}
.druddigon-lurker{position:fixed;bottom:-20px;right:-50px;width:300px;height:400px;z-index:1;opacity:0.15;pointer-events:none;animation:dragonLurk 8s ease-in-out infinite}
.druddigon-lurker svg{width:100%;height:100%;filter:drop-shadow(0 0 20px #f00) drop-shadow(0 0 40px #800)}
@keyframes dragonLurk{0%,100%{transform:translateX(0) rotate(-2deg);opacity:0.12}50%{transform:translateX(-30px) rotate(2deg);opacity:0.2}}
.druddigon-eye{fill:#f00;animation:dragonEyeGlow 2s infinite}
@keyframes dragonEyeGlow{0%,100%{fill:#f00;filter:drop-shadow(0 0 5px #f00)}50%{fill:#ff0;filter:drop-shadow(0 0 15px #ff0)}}
.music-btn{position:fixed;bottom:20px;right:20px;background:rgba(100,50,150,0.8);border:2px solid #a0f;color:#fff;padding:10px 15px;border-radius:8px;cursor:pointer;font-family:inherit;font-size:0.7rem;z-index:100;transition:all 0.3s}
.music-btn:hover{background:rgba(150,50,200,0.9);box-shadow:0 0 20px #a0f}
.music-btn.playing{background:rgba(50,150,100,0.8);border-color:#0f8}
.almighty-loaf{position:relative;display:inline-block}
.loaf-body{font-size:12rem;filter:drop-shadow(0 0 30px #d4a574) drop-shadow(0 0 60px #8b4513);animation:loafPulse 2s infinite}
@keyframes loafPulse{0%,100%{transform:scale(1);filter:drop-shadow(0 0 30px #d4a574) drop-shadow(0 0 60px #8b4513)}50%{transform:scale(1.05);filter:drop-shadow(0 0 50px #ffa500) drop-shadow(0 0 80px #ff6600)}}
.loaf-crown{position:absolute;top:-60px;left:50%;transform:translateX(-50%);font-size:4rem;animation:crownFloat 1.5s ease-in-out infinite}
@keyframes crownFloat{0%,100%{transform:translateX(-50%) translateY(0) rotate(-5deg)}50%{transform:translateX(-50%) translateY(-10px) rotate(5deg)}}
.loaf-eyes{position:absolute;top:45%;left:50%;transform:translate(-50%,-50%);display:flex;gap:30px}
.loaf-eye{width:25px;height:35px;background:radial-gradient(circle at 30% 30%,#fff,#000);border-radius:50%;animation:loafBlink 4s infinite}
@keyframes loafBlink{0%,45%,55%,100%{transform:scaleY(1)}50%{transform:scaleY(0.1)}}
.burning-toast{position:fixed;font-size:2.5rem;pointer-events:none;z-index:999;animation:toastFly 1s ease-out forwards}
@keyframes toastFly{0%{opacity:1;transform:rotate(0deg) scale(1)}100%{opacity:0;transform:translateX(-300px) translateY(100px) rotate(720deg) scale(0.5)}}
.toast-flame{position:absolute;top:-10px;left:50%;transform:translateX(-50%);font-size:1.5rem;animation:flameFlicker 0.2s infinite}
@keyframes flameFlicker{0%,100%{opacity:1;transform:translateX(-50%) scale(1)}50%{opacity:0.7;transform:translateX(-50%) scale(1.2)}}
.crumb{position:fixed;font-size:1rem;pointer-events:none;z-index:800;animation:crumbFall 3s linear forwards}
@keyframes crumbFall{0%{opacity:1;transform:translateY(0) rotate(0deg)}100%{opacity:0;transform:translateY(100vh) rotate(720deg)}}
.crumb-rain-active{position:fixed;top:60px;left:50%;transform:translateX(-50%);background:linear-gradient(90deg,#d4a574,#8b4513);padding:8px 20px;border-radius:15px;font-size:0.8rem;color:#fff;font-weight:bold;z-index:500;display:none;animation:crumbAlert 0.3s infinite}
@keyframes crumbAlert{0%,100%{box-shadow:0 0 10px #d4a574}50%{box-shadow:0 0 25px #8b4513}}
.fortnite-card{position:absolute;cursor:pointer;z-index:100;animation:cardFloat 1.5s ease-in-out infinite;filter:drop-shadow(0 0 25px #00f) drop-shadow(0 0 50px #0af);display:none}
.fortnite-card.active{display:block}
.card-inner{background:linear-gradient(135deg,#1e3a8a 0%,#3b82f6 50%,#06b6d4 100%);padding:12px 18px;border-radius:10px;border:4px solid #ffd700;box-shadow:0 0 30px #00f,inset 0 0 20px rgba(255,255,255,0.2)}
.card-price{font-size:0.9rem;color:#ffd700;font-weight:bold;text-shadow:2px 2px 4px #000}
.card-title{font-size:0.7rem;color:#fff;margin-top:5px}
@keyframes cardFloat{0%,100%{transform:translateY(0) rotate(-3deg) scale(1)}50%{transform:translateY(-20px) rotate(3deg) scale(1.05)}}
.vbucks-victory{position:fixed;top:0;left:0;width:100%;height:100%;background:linear-gradient(135deg,rgba(30,58,138,0.95) 0%,rgba(6,182,212,0.95) 100%);display:none;justify-content:center;align-items:center;flex-direction:column;z-index:3000}
.vbucks-title{font-size:2.5rem;color:#ffd700;text-shadow:0 0 30px #ffd700,0 0 60px #f80;animation:vbucksPulse 0.5s infinite;margin-bottom:20px}
@keyframes vbucksPulse{0%,100%{transform:scale(1);text-shadow:0 0 30px #ffd700}50%{transform:scale(1.1);text-shadow:0 0 60px #ff0}}
.vbuck{position:fixed;font-size:2rem;pointer-events:none;z-index:2500;animation:vbuckFall 4s linear forwards}
@keyframes vbuckFall{0%{opacity:1;transform:translateY(-50px) rotate(0deg)}100%{opacity:0;transform:translateY(100vh) rotate(720deg)}}
.butter-puddle{position:fixed;bottom:100px;left:50%;transform:translateX(-50%);font-size:4rem;z-index:50;animation:butterSpread 0.5s ease-out forwards;filter:drop-shadow(0 0 20px #ffdd00) drop-shadow(0 0 40px #ffaa00)}
@keyframes butterSpread{0%{transform:translateX(-50%) scale(0);opacity:0}50%{transform:translateX(-50%) scale(1.3);opacity:1}100%{transform:translateX(-50%) scale(1);opacity:1}}
.butter-puddle.melting{animation:butterMelt 1s ease-in forwards}
@keyframes butterMelt{0%{transform:translateX(-50%) scale(1);opacity:1}100%{transform:translateX(-50%) scale(1.5) scaleY(0.3);opacity:0}}
.butter-warning{position:fixed;top:180px;left:50%;transform:translateX(-50%);background:linear-gradient(90deg,#ffdd00,#ffaa00);padding:8px 20px;border-radius:15px;font-size:0.8rem;color:#000;font-weight:bold;z-index:500;display:none;animation:butterWarn 0.4s infinite}
@keyframes butterWarn{0%,100%{box-shadow:0 0 10px #ffdd00;transform:translateX(-50%) scale(1)}50%{box-shadow:0 0 25px #ffaa00;transform:translateX(-50%) scale(1.05)}}
.slip-text{position:fixed;font-size:2.5rem;font-weight:bold;color:#ffdd00;text-shadow:0 0 10px #ffaa00,0 0 20px #ff8800,2px 2px 4px #000;pointer-events:none;z-index:1100;animation:slipFloat 1.2s ease-out forwards}
@keyframes slipFloat{0%{opacity:1;transform:translateY(0) rotate(-10deg)}50%{transform:translateY(-30px) rotate(10deg)}100%{opacity:0;transform:translateY(-80px) rotate(0deg)}}
.butter-drop{position:fixed;font-size:2rem;pointer-events:none;z-index:900;animation:butterDrop 0.6s ease-in forwards}
@keyframes butterDrop{0%{opacity:1;transform:translateY(-100px) rotate(0deg)}100%{opacity:0.8;transform:translateY(200px) rotate(180deg)}}
.shrek-sprite{position:relative;display:inline-block}
.shrek-body{font-size:10rem;filter:drop-shadow(0 0 40px #4a7c23) drop-shadow(0 0 80px #2d5016);animation:shrekPulse 2.5s infinite}
@keyframes shrekPulse{0%,100%{transform:scale(1);filter:drop-shadow(0 0 40px #4a7c23) drop-shadow(0 0 80px #2d5016)}50%{transform:scale(1.08);filter:drop-shadow(0 0 60px #6b8e23) drop-shadow(0 0 100px #556b2f)}}
.shrek-ears{position:absolute;top:10px;left:50%;transform:translateX(-50%);display:flex;gap:90px;font-size:2.5rem}
.shrek-ear{color:#4a7c23;text-shadow:0 0 10px #4a7c23;animation:earWiggle 3s ease-in-out infinite}
.shrek-ear:nth-child(2){animation-delay:0.3s}
@keyframes earWiggle{0%,100%{transform:rotate(-15deg)}50%{transform:rotate(15deg)}}
.shrek-onion{position:absolute;bottom:-30px;right:-50px;font-size:3rem;animation:onionFloat 2s ease-in-out infinite}
@keyframes onionFloat{0%,100%{transform:translateY(0) rotate(-10deg)}50%{transform:translateY(-15px) rotate(10deg)}}
.shrek-swamp{position:fixed;bottom:0;left:0;width:100%;height:60px;background:linear-gradient(180deg,transparent,rgba(74,124,35,0.6));pointer-events:none;z-index:10;display:none}
.swamp-bubble{position:fixed;font-size:1.5rem;pointer-events:none;z-index:15;animation:bubbleRise 3s ease-out forwards}
@keyframes bubbleRise{0%{opacity:1;transform:translateY(0) scale(0.5)}50%{opacity:1;transform:translateY(-100px) scale(1)}100%{opacity:0;transform:translateY(-200px) scale(0.3)}}
.onion-layer{position:fixed;font-size:2rem;pointer-events:none;z-index:999;animation:layerPeel 1.5s ease-out forwards}
@keyframes layerPeel{0%{opacity:1;transform:rotate(0deg) scale(1)}100%{opacity:0;transform:translateY(150px) rotate(360deg) scale(0)}}
.cutaway-nuke{position:absolute;cursor:pointer;z-index:100;animation:nukeFloat 1.8s ease-in-out infinite;filter:drop-shadow(0 0 25px #ff6600) drop-shadow(0 0 50px #ff0);display:none}
.cutaway-nuke.active{display:block}
.nuke-inner{background:linear-gradient(135deg,#ff6600 0%,#ffcc00 50%,#ff3300 100%);padding:15px 20px;border-radius:15px;border:4px solid #fff;box-shadow:0 0 30px #ff6600,inset 0 0 20px rgba(255,255,255,0.3);text-align:center}
.nuke-icon{font-size:2.5rem}
.nuke-text{font-size:0.6rem;color:#fff;font-weight:bold;text-shadow:1px 1px 2px #000}
@keyframes nukeFloat{0%,100%{transform:translateY(0) rotate(-5deg) scale(1)}50%{transform:translateY(-25px) rotate(5deg) scale(1.1)}}
.cutaway-screen{position:fixed;top:0;left:0;width:100%;height:100%;background:#000;display:none;justify-content:center;align-items:center;flex-direction:column;z-index:5000}
.cutaway-text{font-size:1.5rem;color:#fff;text-align:center;margin-bottom:30px;animation:cutawayFade 1s}
.cutaway-scene{font-size:8rem;animation:cutawayZoom 2s ease-out}
@keyframes cutawayZoom{0%{transform:scale(0);opacity:0}50%{transform:scale(1.2)}100%{transform:scale(1);opacity:1}}
.nuke-explosion{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);font-size:15rem;z-index:5500;animation:nukeExplode 2s ease-out forwards}
@keyframes nukeExplode{0%{transform:translate(-50%,-50%) scale(0);opacity:1}30%{transform:translate(-50%,-50%) scale(2)}60%{transform:translate(-50%,-50%) scale(1.5)}100%{transform:translate(-50%,-50%) scale(3);opacity:0}}
.background-bird{position:fixed;font-size:1.5rem;z-index:50;cursor:pointer;animation:birdFly 20s linear infinite;transition:transform 0.1s}
.background-bird:hover{transform:scale(1.3);filter:drop-shadow(0 0 10px #ff0)}
@keyframes birdFly{0%{left:-50px}25%{left:25vw}50%{left:50vw}75%{left:75vw}100%{left:110vw}}
.bird-explosion{position:fixed;font-size:3rem;pointer-events:none;z-index:100;animation:birdExplode 1s ease-out forwards}
@keyframes birdExplode{0%{opacity:1;transform:scale(1)}50%{transform:scale(2)}100%{opacity:0;transform:scale(0.5) translateY(-50px)}}
.feather{position:fixed;font-size:1rem;pointer-events:none;z-index:90;animation:featherFall 2s ease-out forwards}
@keyframes featherFall{0%{opacity:1;transform:rotate(0deg)}100%{opacity:0;transform:translateY(200px) rotate(720deg)}}
.neon-gun-cursor{position:fixed;font-size:2rem;pointer-events:none;z-index:9999;transform:translate(-50%,-50%);filter:drop-shadow(0 0 10px #0ff) drop-shadow(0 0 20px #f0f);transition:transform 0.05s}
.neon-gun-cursor.firing{animation:gunRecoil 0.1s ease-out}
@keyframes gunRecoil{0%{transform:translate(-50%,-50%) rotate(-20deg)}50%{transform:translate(-50%,-50%) rotate(-35deg)}100%{transform:translate(-50%,-50%) rotate(-20deg)}}
.cursor-bullet{position:fixed;width:8px;height:8px;border-radius:50%;pointer-events:none;z-index:9998;animation:bulletFly 0.3s linear forwards}
.cursor-bullet.cyan{background:radial-gradient(circle,#fff,#0ff);box-shadow:0 0 10px #0ff,0 0 20px #0ff}
.cursor-bullet.magenta{background:radial-gradient(circle,#fff,#f0f);box-shadow:0 0 10px #f0f,0 0 20px #f0f}
.cursor-bullet.yellow{background:radial-gradient(circle,#fff,#ff0);box-shadow:0 0 10px #ff0,0 0 20px #ff0}
@keyframes bulletFly{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.3)}}
.bullet-trail{position:fixed;width:20px;height:3px;pointer-events:none;z-index:9997;animation:trailFade 0.2s linear forwards}
@keyframes trailFade{0%{opacity:0.8;transform:scaleX(1)}100%{opacity:0;transform:scaleX(0)}}
.muzzle-flash{position:fixed;font-size:1.5rem;pointer-events:none;z-index:9998;animation:flashPop 0.15s ease-out forwards}
@keyframes flashPop{0%{opacity:1;transform:translate(-50%,-50%) scale(0.5)}50%{transform:translate(-50%,-50%) scale(1.5)}100%{opacity:0;transform:translate(-50%,-50%) scale(0.5)}}
.waluigi-powerup{position:absolute;cursor:pointer;z-index:100;animation:waluigiFloat 1.5s ease-in-out infinite;filter:drop-shadow(0 0 20px #6b21a8) drop-shadow(0 0 40px #a855f7);display:none}
.waluigi-powerup.active{display:block}
.waluigi-inner{background:linear-gradient(135deg,#6b21a8 0%,#a855f7 50%,#6b21a8 100%);padding:12px 18px;border-radius:12px;border:4px solid #ffd700;box-shadow:0 0 30px #6b21a8,inset 0 0 15px rgba(255,255,255,0.2);text-align:center}
.waluigi-icon{font-size:2.5rem}
.waluigi-text{font-size:0.5rem;color:#ffd700;font-weight:bold;text-shadow:1px 1px 2px #000}
@keyframes waluigiFloat{0%,100%{transform:translateY(0) rotate(-8deg) scale(1)}50%{transform:translateY(-20px) rotate(8deg) scale(1.1)}}
.wah-text{position:fixed;font-size:5rem;font-weight:bold;color:#6b21a8;text-shadow:0 0 20px #a855f7,0 0 40px #ffd700,4px 4px 8px #000;pointer-events:none;z-index:6000;animation:wahExpand 1.5s ease-out forwards}
@keyframes wahExpand{0%{opacity:1;transform:translate(-50%,-50%) scale(0.3)}30%{transform:translate(-50%,-50%) scale(2)}60%{transform:translate(-50%,-50%) scale(1.5)}100%{opacity:0;transform:translate(-50%,-50%) scale(3)}}
.shrek-stunned{animation:shrekStun 0.2s infinite!important}
@keyframes shrekStun{0%,100%{transform:rotate(-5deg)}50%{transform:rotate(5deg)}}
.stun-stars{position:absolute;top:-20px;left:50%;transform:translateX(-50%);font-size:1.5rem;animation:stunStars 0.5s linear infinite}
@keyframes stunStars{0%{transform:translateX(-50%) rotate(0deg)}100%{transform:translateX(-50%) rotate(360deg)}}
.purple-guy{position:absolute;cursor:pointer;z-index:100;animation:purpleGuyFloat 2s ease-in-out infinite;filter:drop-shadow(0 0 20px #4b0082) drop-shadow(0 0 40px #8b008b);display:none}
.purple-guy.active{display:block}
.purple-guy-inner{background:linear-gradient(135deg,#4b0082 0%,#8b008b 50%,#4b0082 100%);padding:15px;border-radius:10px;border:3px solid #9400d3;text-align:center}
.purple-guy-icon{font-size:2.5rem}
.purple-guy-text{font-size:0.5rem;color:#dda0dd;font-weight:bold}
@keyframes purpleGuyFloat{0%,100%{transform:translateY(0) scale(1)}50%{transform:translateY(-15px) scale(1.05)}}
.soul-collectible{position:fixed;font-size:2rem;pointer-events:none;z-index:200;animation:soulFloat 3s ease-in-out infinite;filter:drop-shadow(0 0 15px #fff) drop-shadow(0 0 30px #87ceeb)}
@keyframes soulFloat{0%,100%{transform:translateY(0) scale(1);opacity:0.8}50%{transform:translateY(-20px) scale(1.1);opacity:1}}
.soul-counter{position:fixed;top:320px;right:20px;background:rgba(75,0,130,0.9);border:2px solid #9400d3;border-radius:10px;padding:10px 15px;z-index:500;display:none;text-align:center}
.soul-counter-text{font-size:0.7rem;color:#dda0dd}
.soul-counter-souls{font-size:1.5rem;margin-top:5px}
.soul-collected{position:fixed;font-size:1.5rem;pointer-events:none;z-index:1100;animation:soulCollect 1s ease-out forwards}
@keyframes soulCollect{0%{opacity:1;transform:scale(1)}50%{transform:scale(1.5)}100%{opacity:0;transform:translateY(-100px) scale(0.5)}}
.springlock-screen{position:fixed;top:0;left:0;width:100%;height:100%;background:#000;display:none;justify-content:center;align-items:center;flex-direction:column;z-index:7000}
.springlock-scene{font-size:6rem;animation:springlockShake 0.1s infinite}
@keyframes springlockShake{0%,100%{transform:rotate(-2deg)}50%{transform:rotate(2deg)}}
.springlock-text{font-size:1.2rem;color:#8b0000;text-shadow:0 0 10px #ff0000;margin-top:20px;animation:springlockPulse 0.5s infinite}
@keyframes springlockPulse{0%,100%{opacity:1}50%{opacity:0.5}}
.springlock-timer{font-size:2rem;color:#9400d3;margin-top:15px}
.springlock-blood{position:fixed;font-size:1rem;pointer-events:none;z-index:7500;animation:bloodDrip 2s linear forwards}
@keyframes bloodDrip{0%{opacity:1;transform:translateY(0)}100%{opacity:0;transform:translateY(200px)}}
.permanent-boost{position:fixed;top:360px;right:20px;background:linear-gradient(135deg,rgba(75,0,130,0.9),rgba(139,0,139,0.9));border:2px solid #ffd700;border-radius:10px;padding:8px 12px;z-index:500;display:none;animation:boostGlow 1s infinite}
@keyframes boostGlow{0%,100%{box-shadow:0 0 10px #9400d3}50%{box-shadow:0 0 25px #ffd700}}
.neon-bikini{position:absolute;cursor:pointer;z-index:100;animation:bikiniFloat 2s ease-in-out infinite;filter:drop-shadow(0 0 20px #f0f) drop-shadow(0 0 40px #0ff);display:none}
.neon-bikini.active{display:block}
.bikini-item{font-size:2.5rem;background:linear-gradient(135deg,#f0f 0%,#0ff 50%,#f0f 100%);padding:10px 15px;border-radius:10px;border:3px solid #fff;box-shadow:0 0 30px #f0f,0 0 50px #0ff,inset 0 0 15px rgba(255,255,255,0.3)}
@keyframes bikiniFloat{0%,100%{transform:translateY(0) rotate(-5deg) scale(1)}50%{transform:translateY(-15px) rotate(5deg) scale(1.1)}}
.bikini-active{position:fixed;top:220px;left:50%;transform:translateX(-50%);background:linear-gradient(90deg,#f0f,#0ff);padding:8px 20px;border-radius:15px;font-size:0.7rem;color:#000;font-weight:bold;z-index:500;display:none;animation:bikiniPulse 0.4s infinite}
@keyframes bikiniPulse{0%,100%{box-shadow:0 0 10px #f0f}50%{box-shadow:0 0 30px #0ff}}
.lucky-crit{position:fixed;font-size:2rem;font-weight:bold;color:#f0f;text-shadow:0 0 10px #0ff,0 0 20px #f0f,2px 2px 4px #000;pointer-events:none;z-index:1100;animation:critFloat 1s ease-out forwards}
@keyframes critFloat{0%{opacity:1;transform:scale(0.5)}30%{transform:scale(1.5)}100%{opacity:0;transform:translateY(-60px) scale(1)}}
.poker-chip{position:fixed;pointer-events:none;z-index:5;animation:chipFloat 8s ease-in-out infinite}
.poker-chip-inner{width:25px;height:25px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:10px;font-weight:bold;border:3px dashed rgba(255,255,255,0.5);animation:chipSpin 4s linear infinite}
.chip-red{background:radial-gradient(circle at 30% 30%,#ff6b6b,#c0392b);box-shadow:0 0 10px #f00,0 0 20px #f00}
.chip-blue{background:radial-gradient(circle at 30% 30%,#74b9ff,#0984e3);box-shadow:0 0 10px #00f,0 0 20px #0ff}
.chip-green{background:radial-gradient(circle at 30% 30%,#55efc4,#00b894);box-shadow:0 0 10px #0f0,0 0 20px #0f0}
.chip-gold{background:radial-gradient(circle at 30% 30%,#ffeaa7,#fdcb6e);box-shadow:0 0 10px #ff0,0 0 20px #f80}
.chip-purple{background:radial-gradient(circle at 30% 30%,#a29bfe,#6c5ce7);box-shadow:0 0 10px #a0f,0 0 20px #f0f}
@keyframes chipFloat{0%,100%{transform:translateY(0) rotate(0deg)}25%{transform:translateY(-15px) rotate(90deg)}50%{transform:translateY(5px) rotate(180deg)}75%{transform:translateY(-10px) rotate(270deg)}}
@keyframes chipSpin{0%{transform:rotateY(0deg)}100%{transform:rotateY(360deg)}}
.casino-panel{position:fixed;bottom:20px;left:20px;background:linear-gradient(135deg,rgba(20,20,40,0.95),rgba(40,20,60,0.95));border:3px solid #f0f;border-radius:15px;padding:15px;z-index:100;display:none;min-width:200px;box-shadow:0 0 30px rgba(240,0,255,0.5)}
.casino-panel.active{display:block}
.casino-title{font-size:0.9rem;color:#ffd700;text-align:center;margin-bottom:10px;text-shadow:0 0 10px #ffd700}
.casino-coin{font-size:4rem;text-align:center;margin:10px 0;animation:coinIdle 2s ease-in-out infinite}
@keyframes coinIdle{0%,100%{transform:rotateY(0deg) scale(1)}50%{transform:rotateY(180deg) scale(1.1)}}
.coin-flipping{animation:coinFlip 1s ease-in-out}
@keyframes coinFlip{0%{transform:rotateY(0deg) scale(1)}50%{transform:rotateY(900deg) scale(1.5)}100%{transform:rotateY(1800deg) scale(1)}}
.bet-result{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);font-size:3rem;font-weight:bold;z-index:2000;pointer-events:none;animation:betResultPop 2s ease-out forwards}
.bet-win{color:#0f0;text-shadow:0 0 20px #0f0,0 0 40px #0f0,0 0 60px #0f0}
.bet-lose{color:#f00;text-shadow:0 0 20px #f00,0 0 40px #f00,0 0 60px #f00}
@keyframes betResultPop{0%{opacity:0;transform:translate(-50%,-50%) scale(0)}20%{opacity:1;transform:translate(-50%,-50%) scale(1.5)}80%{opacity:1;transform:translate(-50%,-50%) scale(1.2)}100%{opacity:0;transform:translate(-50%,-50%) translateY(-50px) scale(1)}}
.chips-rain{position:fixed;font-size:1.5rem;pointer-events:none;z-index:1500;animation:chipsRainFall 2s linear forwards}
@keyframes chipsRainFall{0%{opacity:1;transform:translateY(-50px) rotate(0deg)}100%{opacity:0;transform:translateY(100vh) rotate(720deg)}}
.neon-pole{position:fixed;right:80px;bottom:50px;width:12px;height:250px;background:linear-gradient(180deg,#f0f 0%,#0ff 25%,#f0f 50%,#0ff 75%,#f0f 100%);border-radius:6px;z-index:50;box-shadow:0 0 20px #f0f,0 0 40px #0ff,0 0 60px #f0f;display:none}
.neon-pole.active{display:block;animation:poleGlow 1s infinite alternate}
@keyframes poleGlow{0%{box-shadow:0 0 20px #f0f,0 0 40px #0ff,0 0 60px #f0f}100%{box-shadow:0 0 40px #0ff,0 0 80px #f0f,0 0 100px #0ff}}
.pole-base{position:absolute;bottom:-10px;left:50%;transform:translateX(-50%);width:60px;height:15px;background:linear-gradient(90deg,#333,#666,#333);border-radius:5px;box-shadow:0 0 10px rgba(0,0,0,0.5)}
.pole-spinner{position:fixed;right:50px;bottom:150px;font-size:3rem;z-index:55;display:none;animation:spinnerSpin 0.5s linear infinite}
.pole-spinner.active{display:block}
@keyframes spinnerSpin{0%{transform:rotate(0deg) translateX(30px)}100%{transform:rotate(360deg) translateX(30px)}}
.spin-dodge{position:fixed;font-size:1.8rem;font-weight:bold;color:#0ff;text-shadow:0 0 10px #f0f,0 0 20px #0ff;pointer-events:none;z-index:1100;animation:dodgeFloat 1s ease-out forwards}
@keyframes dodgeFloat{0%{opacity:1;transform:translateY(0) rotate(-15deg) scale(1.2)}100%{opacity:0;transform:translateY(-60px) rotate(15deg) scale(0.8)}}
.pole-active-indicator{position:fixed;top:260px;left:50%;transform:translateX(-50%);background:linear-gradient(90deg,#f0f,#0ff);padding:8px 20px;border-radius:15px;font-size:0.7rem;color:#000;font-weight:bold;z-index:500;display:none;animation:polePulse 0.3s infinite}
@keyframes polePulse{0%,100%{box-shadow:0 0 10px #f0f}50%{box-shadow:0 0 30px #0ff}}
.confused-loaf{animation:loafConfused 0.3s infinite!important}
@keyframes loafConfused{0%,100%{transform:rotate(-5deg)}50%{transform:rotate(5deg)}}
.neon-revolver{position:absolute;cursor:pointer;z-index:100;animation:revolverFloat 2s ease-in-out infinite;filter:drop-shadow(0 0 15px #0f0) drop-shadow(0 0 30px #0ff);display:none}
.neon-revolver.active{display:block}
.revolver-inner{font-size:3rem;background:linear-gradient(135deg,#0f0 0%,#0ff 50%,#ff0 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;filter:drop-shadow(0 0 10px #0f0)}
@keyframes revolverFloat{0%,100%{transform:translateY(0) rotate(-10deg)}50%{transform:translateY(-15px) rotate(10deg)}}
.revolver-active{position:fixed;top:300px;left:50%;transform:translateX(-50%);background:linear-gradient(90deg,#0f0,#0ff);padding:8px 20px;border-radius:15px;font-size:0.7rem;color:#000;font-weight:bold;z-index:500;display:none;animation:revolverPulse 0.3s infinite}
@keyframes revolverPulse{0%,100%{box-shadow:0 0 10px #0f0}50%{box-shadow:0 0 30px #0ff}}
.radioactive-bullet{position:fixed;font-size:1.5rem;pointer-events:none;z-index:1200;animation:bulletFly 0.4s linear forwards}
@keyframes bulletFly{0%{opacity:1;transform:translateX(0) scale(1)}100%{opacity:0;transform:translateX(300px) scale(0.5)}}
.bullet-impact{position:fixed;font-size:3rem;pointer-events:none;z-index:1200;animation:impactExplode 0.6s ease-out forwards}
@keyframes impactExplode{0%{opacity:1;transform:scale(0.5)}50%{opacity:1;transform:scale(2)}100%{opacity:0;transform:scale(3)}}
.jam-text{position:fixed;font-size:2rem;font-weight:bold;color:#f80;text-shadow:0 0 10px #f00,0 0 20px #f80,2px 2px 4px #000;pointer-events:none;z-index:1100;animation:jamShake 0.8s ease-out forwards}
@keyframes jamShake{0%{opacity:1;transform:translateX(0)}10%{transform:translateX(-10px)}20%{transform:translateX(10px)}30%{transform:translateX(-10px)}40%{transform:translateX(10px)}50%{transform:translateX(0)}100%{opacity:0;transform:translateY(-30px)}}
.revolver-shots{position:absolute;bottom:5px;right:5px;font-size:0.5rem;color:#fff;background:rgba(0,0,0,0.7);padding:2px 5px;border-radius:3px}
.blueprint-card{position:absolute;cursor:pointer;z-index:100;animation:blueprintFloat 2.5s ease-in-out infinite;filter:drop-shadow(0 0 20px #00bfff) drop-shadow(0 0 40px #0066ff);display:none}
.blueprint-card.active{display:block}
.blueprint-inner{background:linear-gradient(135deg,#001a33 0%,#003366 30%,#004080 70%,#001a33 100%);padding:12px 16px;border-radius:8px;border:3px solid #00bfff;box-shadow:0 0 30px rgba(0,191,255,0.5),inset 0 0 20px rgba(0,100,200,0.3)}
.blueprint-title{font-size:0.7rem;color:#00bfff;text-align:center;text-shadow:0 0 10px #00bfff}
.blueprint-icon{font-size:2rem;text-align:center;margin:5px 0}
.blueprint-grid{position:absolute;top:0;left:0;right:0;bottom:0;background-image:linear-gradient(rgba(0,191,255,0.1) 1px,transparent 1px),linear-gradient(90deg,rgba(0,191,255,0.1) 1px,transparent 1px);background-size:10px 10px;border-radius:5px;pointer-events:none}
@keyframes blueprintFloat{0%,100%{transform:translateY(0) rotate(0deg)}50%{transform:translateY(-12px) rotate(3deg)}}
.blueprint-active{position:fixed;top:340px;left:50%;transform:translateX(-50%);background:linear-gradient(90deg,#003366,#00bfff);padding:8px 20px;border-radius:15px;font-size:0.6rem;color:#fff;font-weight:bold;z-index:500;display:none;animation:blueprintPulse 0.4s infinite}
@keyframes blueprintPulse{0%,100%{box-shadow:0 0 10px #003366}50%{box-shadow:0 0 30px #00bfff}}
.blueprint-copy{position:fixed;font-size:1.5rem;font-weight:bold;color:#00bfff;text-shadow:0 0 10px #0066ff,0 0 20px #00bfff;pointer-events:none;z-index:1100;animation:copyEffect 1.2s ease-out forwards}
@keyframes copyEffect{0%{opacity:0;transform:scale(0.5) rotate(-10deg)}30%{opacity:1;transform:scale(1.3) rotate(5deg)}100%{opacity:0;transform:scale(1) translateY(-50px) rotate(0deg)}}
.stone-q{position:absolute;cursor:pointer;z-index:100;animation:stoneFloat 3s ease-in-out infinite;filter:drop-shadow(0 0 15px #666) drop-shadow(0 0 30px #888);display:none}
.stone-q.active{display:block}
.stone-q-inner{font-size:4rem;font-weight:900;color:#555;text-shadow:3px 3px 0 #333,-1px -1px 0 #777,4px 4px 8px rgba(0,0,0,0.5);background:linear-gradient(135deg,#888 0%,#666 30%,#444 70%,#222 100%);-webkit-background-clip:text;filter:drop-shadow(2px 2px 4px #000)}
@keyframes stoneFloat{0%,100%{transform:translateY(0) rotate(-3deg)}50%{transform:translateY(-10px) rotate(3deg)}}
.stone-q-flying{position:fixed;font-size:5rem;font-weight:900;color:#555;text-shadow:3px 3px 0 #333;pointer-events:none;z-index:1300;animation:stoneFly 0.6s ease-in forwards}
@keyframes stoneFly{0%{opacity:1;transform:rotate(0deg) scale(1)}100%{opacity:0.8;transform:translateX(400px) translateY(-50px) rotate(720deg) scale(1.5)}}
.stone-impact{position:fixed;font-size:4rem;pointer-events:none;z-index:1300;animation:stoneImpact 0.8s ease-out forwards}
@keyframes stoneImpact{0%{opacity:1;transform:scale(0.5)}30%{opacity:1;transform:scale(2.5)}100%{opacity:0;transform:scale(4)}}
.crush-text{position:fixed;font-size:2.5rem;font-weight:bold;color:#888;text-shadow:0 0 10px #666,0 0 20px #444,3px 3px 6px #000;pointer-events:none;z-index:1100;animation:crushFloat 1s ease-out forwards}
@keyframes crushFloat{0%{opacity:1;transform:translateY(0) scale(1.5)}100%{opacity:0;transform:translateY(-80px) scale(1)}}
.stone-debris{position:fixed;pointer-events:none;z-index:1200;animation:debrisFly 1s ease-out forwards}
@keyframes debrisFly{0%{opacity:1;transform:translate(0,0) rotate(0deg)}100%{opacity:0;transform:translate(var(--dx),var(--dy)) rotate(360deg)}}
.bikini-durability{position:fixed;top:250px;right:20px;background:rgba(0,0,0,0.8);border:2px solid #f0f;border-radius:10px;padding:10px;z-index:500;display:none;min-width:120px}
.bikini-durability.active{display:block}
.durability-title{font-size:0.6rem;color:#f0f;text-align:center;margin-bottom:5px}
.durability-bar-bg{background:#333;height:15px;border-radius:5px;overflow:hidden;border:1px solid #666}
.durability-bar-fill{height:100%;background:linear-gradient(90deg,#f0f,#0ff);transition:width 0.3s}
.durability-bar-fill.low{background:linear-gradient(90deg,#f00,#f80)}
.durability-bar-fill.critical{background:#f00;animation:criticalPulse 0.3s infinite}
@keyframes criticalPulse{0%,100%{opacity:1}50%{opacity:0.5}}
.durability-text{font-size:0.5rem;color:#fff;text-align:center;margin-top:3px}
.bikini-break{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);font-size:2rem;font-weight:bold;color:#f0f;text-shadow:0 0 20px #f00,0 0 40px #f0f;z-index:2500;animation:bikiniBreak 2s ease-out forwards;text-align:center}
@keyframes bikiniBreak{0%{opacity:0;transform:translate(-50%,-50%) scale(0)}20%{opacity:1;transform:translate(-50%,-50%) scale(1.5)}80%{opacity:1}100%{opacity:0;transform:translate(-50%,-50%) scale(1)}}
.walter-horse{position:fixed;bottom:20px;left:20px;font-size:0.7rem;opacity:0.6;z-index:10;pointer-events:none;background:rgba(0,0,0,0.5);padding:10px;border-radius:8px;border:1px solid #333;display:none}
.walter-horse.active{display:block}
.walter-scene{display:flex;align-items:center;gap:5px;animation:walterPunch 1s infinite}
@keyframes walterPunch{0%,100%{transform:translateX(0)}30%{transform:translateX(15px)}50%{transform:translateX(10px)}70%{transform:translateX(20px)}}
.walter-arm{animation:armPunch 0.5s infinite;display:inline-block}
@keyframes armPunch{0%,100%{transform:rotate(0deg) translateX(0)}50%{transform:rotate(-30deg) translateX(10px)}}
.horse-reaction{animation:horseReact 0.5s infinite 0.25s}
@keyframes horseReact{0%,100%{transform:translateX(0)}50%{transform:translateX(5px)}}
</style>
</head>
<body>
<a href="https://sloppy.live" class="back-link">‚Üê Back</a>
            <a href="https://sloppy.live/overview" style="color:#4ecdc4;text-decoration:none;margin-left:10px">üé® View All Apps</a>
<div class="container">
<div class="game-header">
<h1>‚öîÔ∏è CHAT BOSS BATTLE ‚öîÔ∏è</h1>
<div class="game-status" id="gameStatus">Boss HP: 100% | Round: 1</div>
</div>
<div class="boss-container">
<div class="boss-sprite" id="bossSprite">üëπ</div>
<div class="butterfinger" id="butterfinger"><div class="butterfinger-bar">üç´ BUTTERFINGER</div></div>
<div class="cosmic-donut" id="cosmicDonut">üç©‚ú®</div>
<div class="tnt-powerup" id="tntPowerup"><div class="tnt-box">üß® TNT</div></div>
<div class="fortnite-card" id="fortniteCard"><div class="card-inner"><div class="card-price">$19 FORTNITE CARD</div><div class="card-title">üí≥ V-BUCKS üí≥</div></div></div>
<div class="neon-bikini" id="neonBikini"><div class="bikini-item">üëô</div></div>
<div class="neon-revolver" id="neonRevolver"><div class="revolver-inner">üî´</div></div>
<div class="blueprint-card" id="blueprintCard"><div class="blueprint-inner"><div class="blueprint-grid"></div><div class="blueprint-title">BLUEPRINT</div><div class="blueprint-icon">üìã</div></div></div>
<div class="stone-q" id="stoneQ"><div class="stone-q-inner">Q</div></div>
<div class="cutaway-nuke" id="cutawayNuke"><div class="nuke-inner"><div class="nuke-icon">‚ò¢Ô∏èüì∫</div><div class="nuke-text">CUTAWAY NUKE</div></div></div>
<div class="waluigi-powerup" id="waluigiPowerup"><div class="waluigi-inner"><div class="waluigi-icon">üü£</div><div class="waluigi-text">WALUIGI WAH</div></div></div>
<div class="purple-guy" id="purpleGuy"><div class="purple-guy-inner"><div class="purple-guy-icon">üü™üë§</div><div class="purple-guy-text">PURPLE GUY</div></div></div>
</div>
<div class="background-bird" id="backgroundBird">üê¶</div>
<div class="neon-gun-cursor" id="neonGunCursor">üî´</div>
<div class="shrek-swamp" id="shrekSwamp"></div>
<div class="soul-counter" id="soulCounter">
<div class="soul-counter-text">SOULS COLLECTED</div>
<div class="soul-counter-souls" id="soulCount">üëª 0/5</div>
</div>
<div class="springlock-screen" id="springlockScreen">
<div class="springlock-scene" id="springlockScene">üê∞üíÄ</div>
<div class="springlock-text" id="springlockText">THE SPRINGLOCKS ARE FAILING...</div>
<div class="springlock-timer" id="springlockTimer">30</div>
</div>
<div class="permanent-boost" id="permanentBoost">üíÄ PURPLE GUY 2x DAMAGE üíÄ</div>
<div class="cutaway-screen" id="cutawayScreen">
<div class="cutaway-text" id="cutawayText"></div>
<div class="cutaway-scene" id="cutawayScene"></div>
</div>
<div class="powerup-active" id="powerupActive">üî• BUTTERFINGER BOOST: 2x DAMAGE! üî•</div>
<div class="shield-active" id="shieldActive">üõ°Ô∏è COSMIC SHIELD: <span id="shieldCount">0</span> BERRY ORBS! üõ°Ô∏è</div>
<div class="crumb-rain-active" id="crumbRainActive">üçû CRUMB STORM INCOMING! üçû</div>
<div class="butter-warning" id="butterWarning">üßà BUTTER ON THE FLOOR! SLIPPERY! üßà</div>
<div class="bikini-active" id="bikiniActive">üëô NEON BIKINI: LUCKY CRITS! +SLIPPERY! üëô</div>
<div class="shield-orbs-container" id="shieldOrbs"></div>
<div class="casino-panel" id="casinoPanel">
<div class="casino-title">üé∞ LOAF CASINO üé∞</div>
<div class="casino-coin" id="casinoCoin">ü™ô</div>
<div style="font-size:0.6rem;text-align:center;color:#aaa">!bet [amount] to gamble!</div>
</div>
<div id="pokerChipsContainer"></div>
<div class="neon-pole" id="neonPole"><div class="pole-base"></div></div>
<div class="pole-spinner" id="poleSpinner">üíÉ</div>
<div class="pole-active-indicator" id="poleActiveIndicator">üíÉ SPINNING! DODGE MODE! üíÉ</div>
<div class="revolver-active" id="revolverActive">üî´ REVOLVER: <span id="revolverShots">6</span> SHOTS! ‚ò¢Ô∏è3x DAMAGE! üî´</div>
<div class="blueprint-active" id="blueprintActive">üìã BLUEPRINT: Copy <span id="blueprintLast">nothing</span>! üìã</div>
<div class="bikini-durability" id="bikiniDurability">
<div class="durability-title">üëô BIKINI DURABILITY</div>
<div class="durability-bar-bg"><div class="durability-bar-fill" id="durabilityBar" style="width:100%"></div></div>
<div class="durability-text" id="durabilityText">100%</div>
</div>
<div class="walter-horse" id="walterHorse">
<div style="font-size:0.5rem;color:#888;margin-bottom:3px">meanwhile...</div>
<div class="walter-scene">
<span>üë®‚Äçü¶≤</span><span class="walter-arm">üëäüî´</span><span class="horse-reaction">üê¥<span style="position:relative;top:-15px;font-size:1.2rem">üßî</span></span>
</div>
<div style="font-size:0.4rem;color:#666;margin-top:3px">walter vs peter on horse</div>
</div>
<div class="boss-health-container">
<div class="boss-name" id="bossName">Demon Lord</div>
<div class="health-bar-bg">
<div class="health-bar-fill" id="healthBar" style="width:100%">
<span class="health-text" id="healthText">1000 / 1000</span>
</div>
</div>
</div>
<div class="stats-panel">
<div class="stat-box">
<div>Total Attacks</div>
<div class="stat-value" id="totalAttacks">0</div>
</div>
<div class="stat-box">
<div>Total Damage</div>
<div class="stat-value" id="totalDamage">0</div>
</div>
<div class="stat-box">
<div>Top Attacker</div>
<div class="stat-value" id="topAttacker">---</div>
</div>
</div>
<div class="commands-panel">
<div class="commands-title">üìú CHAT COMMANDS üìú</div>
<ul class="command-list">
<li class="command"><span class="command-name">!attack</span> - Deal 10-30 damage</li>
<li class="command"><span class="command-name">!slash</span> - Deal 20-40 damage</li>
<li class="command"><span class="command-name">!fireball</span> - Deal 30-60 damage</li>
<li class="command"><span class="command-name">!heal</span> - Heal boss by 10 HP (troll move!)</li>
<li class="command"><span class="command-name">!grab</span> - Grab the Butterfinger for 2x damage! (NEON 67 only)</li>
<li class="command"><span class="command-name">!donut</span> - Grab the Cosmic Donut for berry shield orbs! (NEON 67 only)</li>
<li class="command"><span class="command-name">!tnt</span> - Grab the TNT for 74 POKEBALL EXPLOSION! (NEON 67 only)</li>
<li class="command"><span class="command-name">!card</span> - Use the $19 FORTNITE CARD to INSTANTLY defeat THE LOAF!</li>
<li class="command"><span class="command-name">!bikini</span> - Wear the NEON BIKINI for lucky crits but more slipping!</li>
<li class="command"><span class="command-name">!bet [amount]</span> - Gamble your damage points on a coin flip! (LOAF only)</li>
<li class="command"><span class="command-name">!spin</span> - Spin on the NEON POLE to dodge attacks! (LOAF only)</li>
<li class="command"><span class="command-name">!shoot</span> - Fire radioactive bullets for 3x damage! Jams on butter! (LOAF only)</li>
<li class="command"><span class="command-name">!blueprint</span> - Use BLUEPRINT to copy the last item effect!</li>
<li class="command"><span class="command-name">!throw</span> - Throw the STONE Q for CRUSHING damage!</li>
<li class="command"><span class="command-name">!grab</span> - Grab powerups when they spawn!</li>
<li class="command"><span class="command-name">!stats</span> - Show game statistics</li>
</ul>
</div>
<div class="activity-feed" id="activityFeed">
<div class="activity-item">Waiting for chat commands...</div>
</div>
</div>
<div class="victory-screen" id="victoryScreen">
<div class="victory-text">üéâ VICTORY! üéâ</div>
<div style="font-size:1.2rem;margin-bottom:20px">The boss has been defeated!</div>
<button style="padding:15px 40px;font-size:1rem;cursor:pointer;background:#4ecdc4;border:none;border-radius:8px;font-family:inherit" onclick="newBoss()">Next Boss</button>
</div>
<div class="vbucks-victory" id="vbucksVictory">
<div class="vbucks-title">üí∞ V-BUCKS VICTORY! üí∞</div>
<div style="font-size:1.5rem;color:#fff;margin-bottom:10px">THE ALMIGHTY LOAF HAS BEEN ANNIHILATED!</div>
<div style="font-size:1rem;color:#ffd700;margin-bottom:30px">$19 FORTNITE CARD ACTIVATED!</div>
<button style="padding:15px 40px;font-size:1rem;cursor:pointer;background:#ffd700;color:#000;border:none;border-radius:8px;font-family:inherit;font-weight:bold" onclick="closeVbucksVictory()">COLLECT V-BUCKS</button>
</div>
<div class="damage-numbers" id="damageNumbers"></div>
<div class="druddigon-lurker" id="druddigon">
<svg viewBox="0 0 200 300" xmlns="http://www.w3.org/2000/svg">
<!-- Spiked Dragon Silhouette -->
<path d="M100 20 L115 5 L110 25 L130 10 L120 30 L140 20 L125 40 L100 35 L75 40 L60 20 L70 30 L50 10 L70 25 L55 5 L70 20 L85 25 Z" fill="#400"/>
<path d="M60 50 L40 40 L55 55 L30 50 L50 65 L70 60 Z" fill="#500"/>
<path d="M140 50 L160 40 L145 55 L170 50 L150 65 L130 60 Z" fill="#500"/>
<ellipse cx="100" cy="80" rx="50" ry="40" fill="#300"/>
<circle class="druddigon-eye" cx="80" cy="75" r="8"/>
<circle class="druddigon-eye" cx="120" cy="75" r="8"/>
<path d="M85 95 L90 105 L95 95 L100 108 L105 95 L110 105 L115 95" stroke="#600" stroke-width="3" fill="none"/>
<path d="M50 100 L100 280 L150 100 Q130 180 100 200 Q70 180 50 100" fill="#300"/>
<path d="M50 100 L30 120 L45 105 L25 140 L45 120 L20 160 L45 140 Z" fill="#500"/>
<path d="M150 100 L170 120 L155 105 L175 140 L155 120 L180 160 L155 140 Z" fill="#500"/>
<path d="M70 200 L50 220 L65 210 L45 240 L65 225 Z" fill="#400"/>
<path d="M130 200 L150 220 L135 210 L155 240 L135 225 Z" fill="#400"/>
<path d="M80 260 L60 290 L85 270 L75 300 L95 275 Z" fill="#400"/>
<path d="M120 260 L140 290 L115 270 L125 300 L105 275 Z" fill="#400"/>
</svg>
</div>
<button class="music-btn" id="musicBtn" onclick="toggleMusic()">üéµ ETHEREAL</button>
<script>
const bosses=[
{name:'Demon Lord',sprite:'üëπ',hp:1e3},
{name:'NEON 67',sprite:'neon67',hp:1500,special:true},
{name:'Ice Titan',sprite:'‚ùÑÔ∏è',hp:2e3},
{name:'Shadow Fiend',sprite:'üëª',hp:2500},
{name:'Lava Golem',sprite:'üî•',hp:3e3},
{name:'Cosmic Horror',sprite:'üëæ',hp:4e3},
{name:'Ancient God',sprite:'üåü',hp:5e3},
{name:'THE ALMIGHTY LOAF',sprite:'loaf',hp:6666,special:true},
{name:'SHREK THE OGRELORD',sprite:'shrek',hp:9999,special:true}
];
let currentBoss=0,bossHP=bosses[0].hp,maxHP=bosses[0].hp,totalAttacks=0,totalDamage=0,attackers={},activityLog=[];
let butterfingerActive=false,butterfingerHolder=null,butterfingerSpawned=false;
let cosmicDonutSpawned=false,shieldOrbs=0,shieldOrbElements=[];
let tntSpawned=false;
let fortniteCardSpawned=false;
let butterActive=false,butterPuddleEl=null;
let neonBikiniSpawned=false,neonBikiniActive=false,bikiniAttacksLeft=0,bikiniDurability=100,bikiniWearer=null;
let pokerChipsSpawned=false,casinoActive=false,currentBetInProgress=false;
let poleActive=false,spinnerActive=false,spinnerUser=null,dodgeChance=0;
let revolverSpawned=false,revolverHolder=null,revolverShots=0;
let blueprintSpawned=false,blueprintHolder=null,lastItemUsed=null,lastItemUser=null;
let stoneQSpawned=false,stoneQHolder=null;
let cutawayNukeSpawned=false,cutawayNukeHolder=null;
let waluigiSpawned=false,waluigiHolder=null,shrekStunned=false;
let purpleGuySpawned=false,purpleGuyHolder=null,soulsCollected=0,purpleGuyBoostActive=false,soulElements=[];
// Ethereal Workshop ambient music using Web Audio API
let audioCtx=null,musicPlaying=false,masterGain=null,oscillators=[];
const etherealNotes=[130.81,146.83,164.81,196.00,220.00,261.63,293.66,329.63];
const initAudio=()=>{
if(audioCtx)return;
audioCtx=new(window.AudioContext||window.webkitAudioContext)();
masterGain=audioCtx.createGain();
masterGain.gain.value=0.15;
masterGain.connect(audioCtx.destination);
};
const playEtherealChord=()=>{
if(!musicPlaying||!audioCtx)return;
const now=audioCtx.currentTime;
const baseNote=etherealNotes[Math.floor(Math.random()*etherealNotes.length)];
const harmonics=[1,1.5,2,2.5,3];
harmonics.forEach((h,i)=>{
const osc=audioCtx.createOscillator();
const gain=audioCtx.createGain();
osc.type=['sine','triangle'][Math.floor(Math.random()*2)];
osc.frequency.value=baseNote*h*(0.98+Math.random()*0.04);
gain.gain.setValueAtTime(0,now);
gain.gain.linearRampToValueAtTime(0.08/(i+1),now+0.5);
gain.gain.linearRampToValueAtTime(0,now+4+Math.random()*2);
osc.connect(gain);
gain.connect(masterGain);
osc.start(now);
osc.stop(now+6);
});
// Add ethereal shimmer
const shimmer=audioCtx.createOscillator();
const shimmerGain=audioCtx.createGain();
shimmer.type='sine';
shimmer.frequency.value=baseNote*4+Math.random()*200;
shimmerGain.gain.setValueAtTime(0,now);
shimmerGain.gain.linearRampToValueAtTime(0.02,now+0.3);
shimmerGain.gain.linearRampToValueAtTime(0,now+2);
shimmer.connect(shimmerGain);
shimmerGain.connect(masterGain);
shimmer.start(now);
shimmer.stop(now+2.5);
};
const startEtherealMusic=()=>{
initAudio();
musicPlaying=true;
playEtherealChord();
const scheduleNext=()=>{
if(!musicPlaying)return;
setTimeout(()=>{playEtherealChord();scheduleNext();},2000+Math.random()*3000);
};
scheduleNext();
// Low drone
const drone=audioCtx.createOscillator();
const droneGain=audioCtx.createGain();
drone.type='sine';
drone.frequency.value=65.41;
droneGain.gain.value=0.06;
drone.connect(droneGain);
droneGain.connect(masterGain);
drone.start();
oscillators.push({osc:drone,gain:droneGain});
};
const stopEtherealMusic=()=>{
musicPlaying=false;
oscillators.forEach(o=>{o.gain.gain.linearRampToValueAtTime(0,audioCtx.currentTime+0.5);setTimeout(()=>o.osc.stop(),600);});
oscillators=[];
};
const toggleMusic=()=>{
const btn=document.getElementById('musicBtn');
if(musicPlaying){
stopEtherealMusic();
btn.textContent='üéµ ETHEREAL';
btn.classList.remove('playing');
}else{
startEtherealMusic();
btn.textContent='üîá STOP';
btn.classList.add('playing');
}
};
const updateBossDisplay=()=>{
document.getElementById('bossName').textContent=bosses[currentBoss].name;
const spriteEl=document.getElementById('bossSprite');
if(bosses[currentBoss].sprite==='neon67'){
spriteEl.innerHTML=`<div class="neon-67">
<span class="number"><span class="six">6</span><span class="seven">7</span></span>
<div class="laser-eye eye-left"></div>
<div class="laser-eye eye-right"></div>
</div>`;
spriteEl.style.filter='none';
}else if(bosses[currentBoss].sprite==='loaf'){
spriteEl.innerHTML=`<div class="almighty-loaf">
<div class="loaf-crown">üëë</div>
<div class="loaf-body">üçû</div>
<div class="loaf-eyes"><div class="loaf-eye"></div><div class="loaf-eye"></div></div>
</div>`;
spriteEl.style.filter='none';
}else if(bosses[currentBoss].sprite==='shrek'){
spriteEl.innerHTML=`<div class="shrek-sprite">
<div class="shrek-ears"><span class="shrek-ear">üßÖ</span><span class="shrek-ear">üßÖ</span></div>
<div class="shrek-body">üü¢</div>
<div class="shrek-onion">üßÖ</div>
</div>`;
spriteEl.style.filter='none';
document.getElementById('shrekSwamp').style.display='block';
}else{
spriteEl.textContent=bosses[currentBoss].sprite;
spriteEl.style.filter='drop-shadow(0 0 30px rgba(255,0,0,.5))';
}
const hpPercent=(bossHP/maxHP)*100;
document.getElementById('healthBar').style.width=hpPercent+'%';
document.getElementById('healthText').textContent=`${bossHP} / ${maxHP}`;
document.getElementById('gameStatus').textContent=`Boss HP: ${Math.round(hpPercent)}% | Round: ${currentBoss+1}`
};
const shootLaserDigit=()=>{
if(bosses[currentBoss].sprite!=='neon67')return;
const digit=document.createElement('div');
const colors=['cyan','magenta','yellow'];
const digits=['6','7','0','1','2','3','4','5','8','9'];
digit.className='laser-digit '+colors[Math.floor(Math.random()*colors.length)];
digit.textContent=digits[Math.floor(Math.random()*digits.length)];
const rect=document.getElementById('bossSprite').getBoundingClientRect();
digit.style.left=(rect.left+rect.width/2-30)+'px';
digit.style.top=(rect.top+rect.height/2+Math.random()*80-40)+'px';
document.body.appendChild(digit);
setTimeout(()=>digit.remove(),800);
};
// The Almighty Loaf attacks
const shootBurningToast=()=>{
if(bosses[currentBoss].sprite!=='loaf')return;
const toast=document.createElement('div');
toast.className='burning-toast';
toast.innerHTML='üçû<span class="toast-flame">üî•</span>';
const rect=document.getElementById('bossSprite').getBoundingClientRect();
toast.style.left=(rect.left+rect.width/2)+'px';
toast.style.top=(rect.top+rect.height/2+Math.random()*60-30)+'px';
document.body.appendChild(toast);
setTimeout(()=>toast.remove(),1000);
};
let crumbRainInterval=null;
const startCrumbRain=()=>{
if(bosses[currentBoss].sprite!=='loaf')return;
document.getElementById('crumbRainActive').style.display='block';
const crumbs=['üü§','üü´','‚¨õ','üü°'];
let crumbCount=0;
crumbRainInterval=setInterval(()=>{
const crumb=document.createElement('div');
crumb.className='crumb';
crumb.textContent=crumbs[Math.floor(Math.random()*crumbs.length)];
crumb.style.left=Math.random()*window.innerWidth+'px';
crumb.style.top='-20px';
crumb.style.fontSize=(0.8+Math.random()*0.8)+'rem';
document.body.appendChild(crumb);
setTimeout(()=>crumb.remove(),3000);
crumbCount++;
if(crumbCount>=30){
clearInterval(crumbRainInterval);
crumbRainInterval=null;
document.getElementById('crumbRainActive').style.display='none';
}
},100);
};
// Butter Slip Mechanic - The Loaf drops slippery butter!
const dropButter=()=>{
if(bosses[currentBoss].sprite!=='loaf'||butterActive)return;
butterActive=true;
// Drop butter animation
const drop=document.createElement('div');
drop.className='butter-drop';
drop.textContent='üßà';
drop.style.left='50%';
drop.style.top='200px';
document.body.appendChild(drop);
setTimeout(()=>drop.remove(),600);
// Create puddle
setTimeout(()=>{
butterPuddleEl=document.createElement('div');
butterPuddleEl.className='butter-puddle';
butterPuddleEl.textContent='üßà';
document.body.appendChild(butterPuddleEl);
document.getElementById('butterWarning').style.display='block';
addActivity('üßà THE LOAF dropped BUTTER! Watch your footing!');
// Butter lasts 8 seconds
setTimeout(clearButter,8000);
},400);
};
const clearButter=()=>{
if(!butterActive)return;
butterActive=false;
if(butterPuddleEl){
butterPuddleEl.classList.add('melting');
setTimeout(()=>{
butterPuddleEl.remove();
butterPuddleEl=null;
},1000);
}
document.getElementById('butterWarning').style.display='none';
};
const showSlip=(x,y)=>{
const slip=document.createElement('div');
slip.className='slip-text';
slip.textContent='SLIPPED!';
slip.style.left=x+'px';
slip.style.top=y+'px';
document.body.appendChild(slip);
setTimeout(()=>slip.remove(),1200);
};
// $19 Fortnite Card - Instant Loaf Defeat!
const spawnFortniteCard=()=>{
if(bosses[currentBoss].sprite!=='loaf'||fortniteCardSpawned)return;
fortniteCardSpawned=true;
const card=document.getElementById('fortniteCard');
card.classList.add('active');
card.style.left=(Math.random()*200+80)+'px';
card.style.top=(Math.random()*60+30)+'px';
addActivity('üí≥ A $19 FORTNITE CARD appeared! Type !card to INSTANTLY defeat THE LOAF!');
};
const grabFortniteCard=username=>{
if(!fortniteCardSpawned||bosses[currentBoss].sprite!=='loaf')return false;
fortniteCardSpawned=false;
document.getElementById('fortniteCard').classList.remove('active');
// INSTANT DEFEAT THE LOAF!
bossHP=0;
totalDamage+=6666;
attackers[username]=(attackers[username]||0)+6666;
updateBossDisplay();
updateStats();
addActivity(`üí≥üí∞ ${username} used the $19 FORTNITE CARD! THE ALMIGHTY LOAF IS OBLITERATED!`,true);
// Start V-Bucks rain
startVbucksRain();
setTimeout(showVbucksVictory,1000);
return true;
};
const startVbucksRain=()=>{
const vbucks=['üí∞','ü™ô','üíµ','üíé','‚≠ê'];
let count=0;
const rainInterval=setInterval(()=>{
for(let i=0;i<5;i++){
const vbuck=document.createElement('div');
vbuck.className='vbuck';
vbuck.textContent=vbucks[Math.floor(Math.random()*vbucks.length)];
vbuck.style.left=Math.random()*window.innerWidth+'px';
vbuck.style.top='-50px';
vbuck.style.fontSize=(1.5+Math.random()*1.5)+'rem';
document.body.appendChild(vbuck);
setTimeout(()=>vbuck.remove(),4000);
}
count++;
if(count>=30)clearInterval(rainInterval);
},150);
};
const showVbucksVictory=()=>{
document.getElementById('vbucksVictory').style.display='flex';
};
const closeVbucksVictory=()=>{
document.getElementById('vbucksVictory').style.display='none';
newBoss();
};
// Neon Bikini - Lucky crits but more slippery!
const spawnNeonBikini=()=>{
if(bosses[currentBoss].sprite!=='loaf'||neonBikiniSpawned||neonBikiniActive)return;
neonBikiniSpawned=true;
const bikini=document.getElementById('neonBikini');
bikini.classList.add('active');
bikini.style.right=(Math.random()*180+60)+'px';
bikini.style.top=(Math.random()*80+20)+'px';
addActivity('üëô A NEON BIKINI appeared! Type !bikini for LUCKY CRITS but more slipping!');
};
const grabNeonBikini=username=>{
if(!neonBikiniSpawned||neonBikiniActive)return false;
neonBikiniSpawned=false;
neonBikiniActive=true;
bikiniAttacksLeft=5;
bikiniDurability=100;
bikiniWearer=username;
document.getElementById('neonBikini').classList.remove('active');
document.getElementById('bikiniActive').style.display='block';
document.getElementById('bikiniDurability').classList.add('active');
updateDurabilityBar();
// Show Walter animation during bikini use!
document.getElementById('walterHorse').classList.add('active');
addActivity(`üëô ${username} put on the NEON BIKINI! 5 attacks with LUCKY CRITS but 60% slip chance! WATCH THE DURABILITY!`);
recordItemUse('BIKINI',username);
return true;
};
const updateDurabilityBar=()=>{
const bar=document.getElementById('durabilityBar');
const text=document.getElementById('durabilityText');
bar.style.width=bikiniDurability+'%';
text.textContent=Math.round(bikiniDurability)+'%';
bar.classList.remove('low','critical');
if(bikiniDurability<=30)bar.classList.add('critical');
else if(bikiniDurability<=50)bar.classList.add('low');
};
const breakBikini=(username)=>{
neonBikiniActive=false;
bikiniAttacksLeft=0;
document.getElementById('bikiniActive').style.display='none';
document.getElementById('bikiniDurability').classList.remove('active');
document.getElementById('walterHorse').classList.remove('active');
// Show break animation
const breakEl=document.createElement('div');
breakEl.className='bikini-break';
breakEl.innerHTML=`üëôüí• BIKINI BROKE!<br><span style="font-size:1rem">TOTAL HUMILIATION!</span><br><span style="font-size:0.8rem">${username} loses ALL damage points!</span>`;
document.body.appendChild(breakEl);
setTimeout(()=>breakEl.remove(),2000);
// Lose all damage points!
const lostPoints=attackers[username]||0;
totalDamage=Math.max(0,totalDamage-lostPoints);
attackers[username]=0;
updateStats();
addActivity(`üëôüí• ${username}'s BIKINI BROKE! They lost ${lostPoints} damage points! TOTAL HUMILIATION!`);
};
const useBikiniLuck=()=>{
if(!neonBikiniActive)return{lucky:false,multiplier:1};
bikiniAttacksLeft--;
// Reduce durability by 15-25% per attack
const durabilityLoss=15+Math.random()*10;
bikiniDurability=Math.max(0,bikiniDurability-durabilityLoss);
updateDurabilityBar();
// Check for bikini break!
if(bikiniDurability<=0){
breakBikini(bikiniWearer||'Someone');
return{lucky:false,multiplier:1,broken:true};
}
// Lucky crit: 50% chance for 2x-4x damage!
const isLucky=Math.random()<0.5;
const multiplier=isLucky?(2+Math.random()*2):1;
if(bikiniAttacksLeft<=0){
neonBikiniActive=false;
document.getElementById('bikiniActive').style.display='none';
document.getElementById('bikiniDurability').classList.remove('active');
document.getElementById('walterHorse').classList.remove('active');
}
return{lucky:isLucky,multiplier:multiplier};
};
const showLuckyCrit=(x,y,mult)=>{
const crit=document.createElement('div');
crit.className='lucky-crit';
crit.textContent=`LUCKY ${mult.toFixed(1)}x!`;
crit.style.left=x+'px';
crit.style.top=(y-40)+'px';
document.body.appendChild(crit);
setTimeout(()=>crit.remove(),1000);
};
// 500 Neon Poker Chips and Casino Gambling!
const spawn500PokerChips=()=>{
if(pokerChipsSpawned)return;
pokerChipsSpawned=true;
const container=document.getElementById('pokerChipsContainer');
container.innerHTML='';
const chipColors=['chip-red','chip-blue','chip-green','chip-gold','chip-purple'];
const chipValues=['5','10','25','50','100'];
for(let i=0;i<500;i++){
const chip=document.createElement('div');
chip.className='poker-chip';
const colorIdx=Math.floor(Math.random()*chipColors.length);
chip.innerHTML=`<div class="poker-chip-inner ${chipColors[colorIdx]}">${chipValues[colorIdx]}</div>`;
chip.style.left=Math.random()*100+'vw';
chip.style.top=Math.random()*100+'vh';
chip.style.animationDelay=(Math.random()*8)+'s';
chip.style.animationDuration=(6+Math.random()*4)+'s';
container.appendChild(chip);
}
addActivity('üé∞ 500 NEON POKER CHIPS flood the arena! THE LOAF CASINO is OPEN!');
};
const openCasino=()=>{
if(casinoActive)return;
casinoActive=true;
document.getElementById('casinoPanel').classList.add('active');
};
const closeCasino=()=>{
casinoActive=false;
document.getElementById('casinoPanel').classList.remove('active');
};
const clearPokerChips=()=>{
pokerChipsSpawned=false;
document.getElementById('pokerChipsContainer').innerHTML='';
};
const placeBet=(username,amount)=>{
if(bosses[currentBoss].sprite!=='loaf'){
addActivity(`üé∞ ${username} tried to bet but the casino is only open during THE LOAF fight!`);
return false;
}
if(currentBetInProgress){
addActivity(`üé∞ ${username} wait! A bet is already in progress!`);
return false;
}
const playerDamage=attackers[username]||0;
if(playerDamage<amount){
addActivity(`üé∞ ${username} tried to bet ${amount} but only has ${playerDamage} damage points!`);
return false;
}
if(amount<10){
addActivity(`üé∞ ${username} minimum bet is 10 damage points!`);
return false;
}
currentBetInProgress=true;
addActivity(`üé∞ ${username} bets ${amount} damage points! Flipping the coin...`);
// Flip animation
const coin=document.getElementById('casinoCoin');
coin.classList.add('coin-flipping');
// Determine outcome after animation
setTimeout(()=>{
coin.classList.remove('coin-flipping');
const win=Math.random()<0.5;
if(win){
// WIN! Double the bet
attackers[username]=playerDamage+amount;
totalDamage+=amount;
coin.textContent='üèÜ';
showBetResult(true,amount*2,username);
rainChips(20);
addActivity(`üé∞üí∞ ${username} WON! Doubled their bet! +${amount} damage points! (Total: ${attackers[username]})`);
recordItemUse('BET',username);
}else{
// LOSE! Lose the bet
attackers[username]=Math.max(0,playerDamage-amount);
totalDamage=Math.max(0,totalDamage-amount);
coin.textContent='üíÄ';
showBetResult(false,amount,username);
addActivity(`üé∞üí∏ ${username} LOST! The Loaf takes ${amount} damage points! (Total: ${attackers[username]})`);
}
updateStats();
// Reset coin after showing result
setTimeout(()=>{
coin.textContent='ü™ô';
currentBetInProgress=false;
},2000);
},1000);
return true;
};
const showBetResult=(win,amount,username)=>{
const result=document.createElement('div');
result.className='bet-result '+(win?'bet-win':'bet-lose');
result.textContent=win?`${username} +${amount}!`:`${username} -${amount}!`;
document.body.appendChild(result);
setTimeout(()=>result.remove(),2000);
};
const rainChips=(count)=>{
const emojis=['üî¥','üîµ','üü¢','üü°','üü£'];
for(let i=0;i<count;i++){
setTimeout(()=>{
const chip=document.createElement('div');
chip.className='chips-rain';
chip.textContent=emojis[Math.floor(Math.random()*emojis.length)];
chip.style.left=Math.random()*window.innerWidth+'px';
chip.style.top='-30px';
document.body.appendChild(chip);
setTimeout(()=>chip.remove(),2000);
},i*50);
}
};
// Neon Dancing Pole - Spin to dodge attacks!
const showPole=()=>{
if(poleActive)return;
poleActive=true;
document.getElementById('neonPole').classList.add('active');
};
const hidePole=()=>{
poleActive=false;
spinnerActive=false;
spinnerUser=null;
dodgeChance=0;
document.getElementById('neonPole').classList.remove('active');
document.getElementById('poleSpinner').classList.remove('active');
document.getElementById('poleActiveIndicator').style.display='none';
document.getElementById('bossSprite').classList.remove('confused-loaf');
};
const spinOnPole=(username)=>{
if(bosses[currentBoss].sprite!=='loaf'){
addActivity(`üíÉ ${username} tried to spin but there's no pole here!`);
return false;
}
if(spinnerActive){
addActivity(`üíÉ ${username} wait! ${spinnerUser} is already spinning!`);
return false;
}
spinnerActive=true;
spinnerUser=username;
dodgeChance=0.7; // 70% dodge chance while spinning!
document.getElementById('poleSpinner').classList.add('active');
document.getElementById('poleActiveIndicator').style.display='block';
// Confuse the Loaf!
document.getElementById('bossSprite').classList.add('confused-loaf');
addActivity(`üíÉ ${username} starts spinning on the NEON POLE! THE LOAF IS CONFUSED! 70% dodge chance!`);
recordItemUse('SPIN',username);
// Spin lasts 5 seconds
setTimeout(()=>{
if(spinnerActive&&spinnerUser===username){
spinnerActive=false;
spinnerUser=null;
dodgeChance=0;
document.getElementById('poleSpinner').classList.remove('active');
document.getElementById('poleActiveIndicator').style.display='none';
document.getElementById('bossSprite').classList.remove('confused-loaf');
addActivity(`üíÉ ${username} finished their spin! The Loaf regains focus!`);
}
},5000);
return true;
};
const showDodge=(x,y)=>{
const dodge=document.createElement('div');
dodge.className='spin-dodge';
dodge.textContent='DODGED!';
dodge.style.left=x+'px';
dodge.style.top=y+'px';
document.body.appendChild(dodge);
setTimeout(()=>dodge.remove(),1000);
};
// Neon Revolver - Radioactive bullets with butter jam!
const spawnRevolver=()=>{
if(bosses[currentBoss].sprite!=='loaf'||revolverSpawned||revolverHolder)return;
revolverSpawned=true;
const revolver=document.getElementById('neonRevolver');
revolver.classList.add('active');
revolver.style.left=(Math.random()*150+50)+'px';
revolver.style.top=(Math.random()*60+50)+'px';
addActivity('üî´ A NEON REVOLVER appeared! Type !grab to pick it up! ‚ò¢Ô∏è');
};
const grabRevolver=(username)=>{
if(!revolverSpawned)return false;
if(revolverHolder){
addActivity(`üî´ ${username} tried to grab the revolver but ${revolverHolder} already has it!`);
return false;
}
revolverSpawned=false;
revolverHolder=username;
revolverShots=6;
document.getElementById('neonRevolver').classList.remove('active');
document.getElementById('revolverActive').style.display='block';
document.getElementById('revolverShots').textContent=revolverShots;
addActivity(`üî´ ${username} grabbed the NEON REVOLVER! 6 radioactive shots! Type !shoot to fire!`);
recordItemUse('REVOLVER',username);
return true;
};
const shootRevolver=(username)=>{
if(bosses[currentBoss].sprite!=='loaf'){
addActivity(`üî´ ${username} tried to shoot but there's no revolver fight here!`);
return false;
}
if(revolverHolder!==username){
if(revolverHolder){
addActivity(`üî´ ${username} doesn't have the revolver! ${revolverHolder} has it!`);
}else{
addActivity(`üî´ ${username} needs to grab the revolver first!`);
}
return false;
}
if(revolverShots<=0){
addActivity(`üî´ ${username}'s revolver is empty! *click click*`);
revolverHolder=null;
document.getElementById('revolverActive').style.display='none';
return false;
}
// JAM CHECK - Higher chance when butter is active!
const jamChance=butterActive?0.55:0.15; // 55% jam on butter, 15% normally
if(Math.random()<jamChance){
revolverShots--;
document.getElementById('revolverShots').textContent=revolverShots;
showJam();
const butterMsg=butterActive?' The butter gummed up the mechanism!':'';
addActivity(`üî´ ${username}'s revolver JAMMED!${butterMsg} ${revolverShots} shots left!`);
if(revolverShots<=0){
revolverHolder=null;
document.getElementById('revolverActive').style.display='none';
}
return false;
}
// SUCCESSFUL SHOT - 3x damage!
revolverShots--;
document.getElementById('revolverShots').textContent=revolverShots;
const baseDamage=30+Math.floor(Math.random()*31); // 30-60 base
const tripleDamage=baseDamage*3;
const rect=document.getElementById('bossSprite').getBoundingClientRect();
const x=rect.left+rect.width/2;
const y=rect.top+rect.height/2;
// Fire bullet animation
fireBullet(x-200,y);
setTimeout(()=>{
showBulletImpact(x,y);
bossHP=Math.max(0,bossHP-tripleDamage);
totalAttacks++;
totalDamage+=tripleDamage;
attackers[username]=(attackers[username]||0)+tripleDamage;
showDamage(tripleDamage,x+(Math.random()-.5)*100,y);
shakeBoss();
updateBossDisplay();
updateStats();
addActivity(`üî´‚ò¢Ô∏è ${username} fires a RADIOACTIVE BULLET! ${tripleDamage} DAMAGE! ${revolverShots} shots left!`,true);
if(bossHP<=0)setTimeout(showVictory,500);
},400);
if(revolverShots<=0){
setTimeout(()=>{
revolverHolder=null;
document.getElementById('revolverActive').style.display='none';
addActivity(`üî´ ${username}'s revolver is now empty!`);
},500);
}
return true;
};
const fireBullet=(startX,y)=>{
const bullet=document.createElement('div');
bullet.className='radioactive-bullet';
bullet.textContent='‚ò¢Ô∏è';
bullet.style.left=startX+'px';
bullet.style.top=y+'px';
document.body.appendChild(bullet);
setTimeout(()=>bullet.remove(),400);
};
const showBulletImpact=(x,y)=>{
const impact=document.createElement('div');
impact.className='bullet-impact';
impact.textContent='üí•';
impact.style.left=x+'px';
impact.style.top=y+'px';
document.body.appendChild(impact);
setTimeout(()=>impact.remove(),600);
};
const showJam=()=>{
const jam=document.createElement('div');
jam.className='jam-text';
jam.textContent='JAMMED!';
jam.style.left=(window.innerWidth/2-80)+'px';
jam.style.top=(window.innerHeight/2)+'px';
document.body.appendChild(jam);
setTimeout(()=>jam.remove(),800);
};
// Blueprint Card from Balatro - Copies the last item effect!
const recordItemUse=(itemName,username)=>{
lastItemUsed=itemName;
lastItemUser=username;
if(blueprintHolder){
document.getElementById('blueprintLast').textContent=itemName;
}
};
const spawnBlueprint=()=>{
if(bosses[currentBoss].sprite!=='loaf'||blueprintSpawned||blueprintHolder)return;
blueprintSpawned=true;
const bp=document.getElementById('blueprintCard');
bp.classList.add('active');
bp.style.left=(Math.random()*120+80)+'px';
bp.style.top=(Math.random()*50+70)+'px';
addActivity('üìã A BLUEPRINT CARD appeared! Type !grab to pick it up!');
};
const grabBlueprint=(username)=>{
if(!blueprintSpawned)return false;
if(blueprintHolder){
addActivity(`üìã ${username} tried to grab the Blueprint but ${blueprintHolder} already has it!`);
return false;
}
blueprintSpawned=false;
blueprintHolder=username;
document.getElementById('blueprintCard').classList.remove('active');
document.getElementById('blueprintActive').style.display='block';
document.getElementById('blueprintLast').textContent=lastItemUsed||'nothing yet';
addActivity(`üìã ${username} grabbed the BLUEPRINT CARD! Type !blueprint to copy the last item used!`);
return true;
};
const useBlueprint=(username)=>{
if(bosses[currentBoss].sprite!=='loaf'){
addActivity(`üìã ${username} tried to use Blueprint but it only works during the Loaf fight!`);
return false;
}
if(blueprintHolder!==username){
if(blueprintHolder){
addActivity(`üìã ${username} doesn't have the Blueprint! ${blueprintHolder} has it!`);
}else{
addActivity(`üìã ${username} needs to grab the Blueprint first!`);
}
return false;
}
if(!lastItemUsed){
addActivity(`üìã ${username} tried to use Blueprint but no item has been used yet!`);
return false;
}
// Copy the last item effect!
showBlueprintCopy(lastItemUsed);
blueprintHolder=null;
document.getElementById('blueprintActive').style.display='none';
addActivity(`üìã ${username} uses BLUEPRINT! Copying ${lastItemUsed}...`);
// Execute the copied effect
switch(lastItemUsed){
case 'BIKINI':
neonBikiniActive=true;
bikiniAttacksLeft=5;
document.getElementById('bikiniActive').style.display='block';
addActivity(`üìã COPIED! ${username} gets NEON BIKINI effect! 5 lucky crit attacks!`);
break;
case 'SPIN':
spinnerActive=true;
spinnerUser=username;
dodgeChance=0.7;
document.getElementById('poleSpinner').classList.add('active');
document.getElementById('poleActiveIndicator').style.display='block';
document.getElementById('bossSprite').classList.add('confused-loaf');
addActivity(`üìã COPIED! ${username} gets POLE SPIN effect! 70% dodge for 5 seconds!`);
setTimeout(()=>{
if(spinnerUser===username){
spinnerActive=false;spinnerUser=null;dodgeChance=0;
document.getElementById('poleSpinner').classList.remove('active');
document.getElementById('poleActiveIndicator').style.display='none';
document.getElementById('bossSprite').classList.remove('confused-loaf');
}
},5000);
break;
case 'REVOLVER':
// Give them 3 shots
revolverHolder=username;
revolverShots=3;
document.getElementById('revolverActive').style.display='block';
document.getElementById('revolverShots').textContent=revolverShots;
addActivity(`üìã COPIED! ${username} gets REVOLVER effect! 3 radioactive shots!`);
break;
case 'BET':
// Auto-win a small bet!
const bonus=50+Math.floor(Math.random()*100);
attackers[username]=(attackers[username]||0)+bonus;
totalDamage+=bonus;
updateStats();
rainChips(15);
addActivity(`üìã COPIED! ${username} copies a LUCKY BET! +${bonus} damage points!`);
break;
case 'BUTTERFINGER':
butterfingerActive=true;
document.getElementById('powerupActive').style.display='block';
addActivity(`üìã COPIED! ${username} gets BUTTERFINGER effect! 2x damage on next attack!`);
break;
default:
// Generic damage boost
const dmgBoost=100+Math.floor(Math.random()*100);
attackers[username]=(attackers[username]||0)+dmgBoost;
totalDamage+=dmgBoost;
updateStats();
addActivity(`üìã COPIED! ${username} gets a mystery bonus! +${dmgBoost} damage points!`);
}
return true;
};
const showBlueprintCopy=(itemName)=>{
const copy=document.createElement('div');
copy.className='blueprint-copy';
copy.textContent=`COPYING: ${itemName}!`;
copy.style.left=(window.innerWidth/2-100)+'px';
copy.style.top=(window.innerHeight/2-50)+'px';
document.body.appendChild(copy);
setTimeout(()=>copy.remove(),1200);
};
// Massive Stone Q - Throw for crushing damage!
const spawnStoneQ=()=>{
if(bosses[currentBoss].sprite!=='loaf'||stoneQSpawned||stoneQHolder)return;
stoneQSpawned=true;
const stone=document.getElementById('stoneQ');
stone.classList.add('active');
stone.style.left=(Math.random()*100+120)+'px';
stone.style.top=(Math.random()*40+80)+'px';
addActivity('ü™® A massive STONE Q appeared! Type !grab to pick it up!');
};
const grabStoneQ=(username)=>{
if(!stoneQSpawned)return false;
if(stoneQHolder){
addActivity(`ü™® ${username} tried to grab the Stone Q but ${stoneQHolder} already has it!`);
return false;
}
stoneQSpawned=false;
stoneQHolder=username;
document.getElementById('stoneQ').classList.remove('active');
addActivity(`ü™® ${username} grabbed the MASSIVE STONE Q! Type !throw to hurl it at the Loaf!`);
recordItemUse('STONE_Q',username);
return true;
};
const throwStoneQ=(username)=>{
if(bosses[currentBoss].sprite!=='loaf'){
addActivity(`ü™® ${username} tried to throw but there's nothing to throw at!`);
return false;
}
if(stoneQHolder!==username){
if(stoneQHolder){
addActivity(`ü™® ${username} doesn't have the Stone Q! ${stoneQHolder} has it!`);
}else{
addActivity(`ü™® ${username} needs to grab the Stone Q first!`);
}
return false;
}
stoneQHolder=null;
// MASSIVE CRUSHING DAMAGE! 200-400 damage!
const crushDamage=200+Math.floor(Math.random()*201);
const rect=document.getElementById('bossSprite').getBoundingClientRect();
const x=rect.left+rect.width/2;
const y=rect.top+rect.height/2;
// Flying stone animation
const flying=document.createElement('div');
flying.className='stone-q-flying';
flying.textContent='Q';
flying.style.left=(x-300)+'px';
flying.style.top=(y-50)+'px';
document.body.appendChild(flying);
setTimeout(()=>flying.remove(),600);
// Impact after flight
setTimeout(()=>{
showStoneImpact(x,y);
showCrushText(x,y-80);
spawnDebris(x,y,15);
bossHP=Math.max(0,bossHP-crushDamage);
totalAttacks++;
totalDamage+=crushDamage;
attackers[username]=(attackers[username]||0)+crushDamage;
showDamage(crushDamage,x+(Math.random()-.5)*100,y);
shakeBoss();
shakeBoss(); // Double shake for impact!
updateBossDisplay();
updateStats();
addActivity(`ü™®üí• ${username} CRUSHES the Loaf with STONE Q! ${crushDamage} MASSIVE DAMAGE!`,true);
if(bossHP<=0)setTimeout(showVictory,500);
},500);
return true;
};
const showStoneImpact=(x,y)=>{
const impact=document.createElement('div');
impact.className='stone-impact';
impact.textContent='üí•';
impact.style.left=x+'px';
impact.style.top=y+'px';
document.body.appendChild(impact);
setTimeout(()=>impact.remove(),800);
};
const showCrushText=(x,y)=>{
const crush=document.createElement('div');
crush.className='crush-text';
crush.textContent='CRUSHED!';
crush.style.left=(x-80)+'px';
crush.style.top=y+'px';
document.body.appendChild(crush);
setTimeout(()=>crush.remove(),1000);
};
const spawnDebris=(x,y,count)=>{
const debris=['ü™®','‚ö™','üîò','‚¨õ'];
for(let i=0;i<count;i++){
const d=document.createElement('div');
d.className='stone-debris';
d.textContent=debris[Math.floor(Math.random()*debris.length)];
d.style.left=x+'px';
d.style.top=y+'px';
d.style.fontSize=(0.8+Math.random()*0.8)+'rem';
const angle=Math.random()*Math.PI*2;
const dist=50+Math.random()*100;
d.style.setProperty('--dx',(Math.cos(angle)*dist)+'px');
d.style.setProperty('--dy',(Math.sin(angle)*dist)+'px');
document.body.appendChild(d);
setTimeout(()=>d.remove(),1000);
}
};
// CUTAWAY NUKE - Family Guy style nuke that devastates Shrek
const spawnCutawayNuke=()=>{
if(cutawayNukeSpawned||bosses[currentBoss].sprite!=='shrek')return;
cutawayNukeSpawned=true;
const nuke=document.getElementById('cutawayNuke');
nuke.style.top='200px';
nuke.style.right='150px';
nuke.classList.add('active');
addActivity('‚ò¢Ô∏èüì∫ A CUTAWAY NUKE appeared! Type !grab to pick it up!');
};
const grabCutawayNuke=(username)=>{
if(!cutawayNukeSpawned||cutawayNukeHolder)return false;
cutawayNukeHolder=username;
document.getElementById('cutawayNuke').classList.remove('active');
addActivity(`‚ò¢Ô∏è ${username} grabbed the CUTAWAY NUKE! Type !nuke to trigger a Family Guy cutaway!`);
recordItemUse('NUKE',username);
return true;
};
const useCutawayNuke=(username)=>{
if(bosses[currentBoss].sprite!=='shrek'){
addActivity(`‚ò¢Ô∏è ${username} tried to nuke but Shrek isn't here!`);
return false;
}
if(cutawayNukeHolder!==username){
if(cutawayNukeHolder){
addActivity(`‚ò¢Ô∏è ${username} doesn't have the nuke! ${cutawayNukeHolder} has it!`);
}else{
addActivity(`‚ò¢Ô∏è ${username} needs to grab the Cutaway Nuke first!`);
}
return false;
}
cutawayNukeHolder=null;
cutawayNukeSpawned=false;
// FAMILY GUY CUTAWAY!
const cutaways=[
{text:"This reminds me of that time I nuked an ogre's swamp...",scene:"üè†üí•üü¢"},
{text:"Hey Lois, remember when I destroyed Shrek?",scene:"üë®‚Äçüë©‚Äçüë¶‚ò¢Ô∏èüßÖ"},
{text:"You know what really grinds my gears? Green ogres!",scene:"‚öôÔ∏èüò†üü¢"},
{text:"It's like that time Brian tried to date Fiona...",scene:"üêïüíîüë∏"}
];
const cutaway=cutaways[Math.floor(Math.random()*cutaways.length)];
const screen=document.getElementById('cutawayScreen');
document.getElementById('cutawayText').textContent=cutaway.text;
document.getElementById('cutawayScene').textContent=cutaway.scene;
screen.style.display='flex';
addActivity(`üì∫ CUTAWAY: "${cutaway.text}"`);
// After cutaway, MASSIVE DAMAGE!
setTimeout(()=>{
screen.style.display='none';
// NUKE EXPLOSION!
const rect=document.getElementById('bossSprite').getBoundingClientRect();
const x=rect.left+rect.width/2;
const y=rect.top+rect.height/2;
const explosion=document.createElement('div');
explosion.className='nuke-explosion';
explosion.textContent='‚ò¢Ô∏èüí•';
document.body.appendChild(explosion);
setTimeout(()=>explosion.remove(),2000);
// DEVASTATING DAMAGE - 2000-3000!
const nukeDamage=2000+Math.floor(Math.random()*1001);
bossHP=Math.max(0,bossHP-nukeDamage);
totalAttacks++;
totalDamage+=nukeDamage;
attackers[username]=(attackers[username]||0)+nukeDamage;
showDamage(nukeDamage,x,y);
shakeBoss();shakeBoss();shakeBoss(); // Triple shake!
updateBossDisplay();
updateStats();
addActivity(`‚ò¢Ô∏èüí• ${username}'s CUTAWAY NUKE devastates Shrek! ${nukeDamage} NUCLEAR DAMAGE!`,true);
if(bossHP<=0)setTimeout(showVictory,500);
},3000);
return true;
};
// Shrek attacks - throws onion layers
const throwOnionLayers=()=>{
if(bosses[currentBoss].sprite!=='shrek')return;
const rect=document.getElementById('bossSprite').getBoundingClientRect();
for(let i=0;i<8;i++){
setTimeout(()=>{
const layer=document.createElement('div');
layer.className='onion-layer';
layer.textContent='üßÖ';
layer.style.left=(rect.left+rect.width/2+Math.random()*60-30)+'px';
layer.style.top=(rect.top+rect.height/2)+'px';
document.body.appendChild(layer);
setTimeout(()=>layer.remove(),1500);
},i*100);
}
};
// Swamp bubbles
const spawnSwampBubbles=()=>{
if(bosses[currentBoss].sprite!=='shrek')return;
for(let i=0;i<5;i++){
setTimeout(()=>{
const bubble=document.createElement('div');
bubble.className='swamp-bubble';
bubble.textContent='ü´ß';
bubble.style.left=(Math.random()*window.innerWidth)+'px';
bubble.style.bottom='60px';
document.body.appendChild(bubble);
setTimeout(()=>bubble.remove(),3000);
},i*300);
}
};
// WALUIGI WAH - Stuns Shrek with massive WAH sound!
const spawnWaluigi=()=>{
if(waluigiSpawned||bosses[currentBoss].sprite!=='shrek')return;
waluigiSpawned=true;
const waluigi=document.getElementById('waluigiPowerup');
waluigi.style.top='180px';
waluigi.style.left='120px';
waluigi.classList.add('active');
addActivity('üü£ WALUIGI appeared! Type !grab to pick him up!');
};
const grabWaluigi=(username)=>{
if(!waluigiSpawned||waluigiHolder)return false;
waluigiHolder=username;
document.getElementById('waluigiPowerup').classList.remove('active');
addActivity(`üü£ ${username} grabbed WALUIGI! Type !wah to stun Shrek!`);
recordItemUse('WALUIGI',username);
return true;
};
const useWaluigi=(username)=>{
if(bosses[currentBoss].sprite!=='shrek'){
addActivity(`üü£ ${username} tried to WAH but Shrek isn't here!`);
return false;
}
if(waluigiHolder!==username){
if(waluigiHolder){
addActivity(`üü£ ${username} doesn't have Waluigi! ${waluigiHolder} has him!`);
}else{
addActivity(`üü£ ${username} needs to grab Waluigi first!`);
}
return false;
}
waluigiHolder=null;
waluigiSpawned=false;
// MASSIVE WAH!
playWahSound();
showWahText();
stunShrek();
addActivity(`üü£ ${username} unleashes WALUIGI! "WAAAAAAH!" Shrek is STUNNED!`,true);
return true;
};
const playWahSound=()=>{
if(!audioCtx)audioCtx=new(window.AudioContext||window.webkitAudioContext)();
const osc=audioCtx.createOscillator();
const gain=audioCtx.createGain();
osc.type='sawtooth';
osc.frequency.setValueAtTime(150,audioCtx.currentTime);
osc.frequency.exponentialRampToValueAtTime(80,audioCtx.currentTime+0.8);
gain.gain.setValueAtTime(0.3,audioCtx.currentTime);
gain.gain.exponentialRampToValueAtTime(0.01,audioCtx.currentTime+1);
osc.connect(gain);
gain.connect(audioCtx.destination);
osc.start();
osc.stop(audioCtx.currentTime+1);
// Second harmonic for richness
const osc2=audioCtx.createOscillator();
const gain2=audioCtx.createGain();
osc2.type='square';
osc2.frequency.setValueAtTime(200,audioCtx.currentTime);
osc2.frequency.exponentialRampToValueAtTime(100,audioCtx.currentTime+0.6);
gain2.gain.setValueAtTime(0.15,audioCtx.currentTime);
gain2.gain.exponentialRampToValueAtTime(0.01,audioCtx.currentTime+0.8);
osc2.connect(gain2);
gain2.connect(audioCtx.destination);
osc2.start();
osc2.stop(audioCtx.currentTime+0.8);
};
const showWahText=()=>{
const wah=document.createElement('div');
wah.className='wah-text';
wah.textContent='WAAAAAAH!';
wah.style.left='50%';
wah.style.top='50%';
document.body.appendChild(wah);
setTimeout(()=>wah.remove(),1500);
};
const stunShrek=()=>{
if(shrekStunned)return;
shrekStunned=true;
const sprite=document.getElementById('bossSprite');
sprite.classList.add('shrek-stunned');
// Add stun stars
const stars=document.createElement('div');
stars.className='stun-stars';
stars.id='stunStars';
stars.textContent='‚≠êüí´‚ú®üí´‚≠ê';
sprite.appendChild(stars);
// Stun lasts 5 seconds - attacks do 2x damage during stun!
setTimeout(()=>{
shrekStunned=false;
sprite.classList.remove('shrek-stunned');
const starsEl=document.getElementById('stunStars');
if(starsEl)starsEl.remove();
addActivity('üü¢ Shrek recovered from the stun!');
},5000);
};
// PURPLE GUY - Rare FNAF reference! Collect 5 souls for springlock cutscene
const spawnPurpleGuy=()=>{
if(purpleGuySpawned||purpleGuyBoostActive)return;
// 5% chance - RARE spawn!
if(Math.random()>0.05)return;
purpleGuySpawned=true;
const pg=document.getElementById('purpleGuy');
pg.style.top='150px';
pg.style.left='80px';
pg.classList.add('active');
addActivity('üü™ RARE! PURPLE GUY appeared! Type !grab to become the man behind the slaughter!');
};
const grabPurpleGuy=(username)=>{
if(!purpleGuySpawned||purpleGuyHolder)return false;
purpleGuyHolder=username;
soulsCollected=0;
document.getElementById('purpleGuy').classList.remove('active');
document.getElementById('soulCounter').style.display='block';
updateSoulCounter();
spawnSouls();
addActivity(`üü™ ${username} became PURPLE GUY! Collect 5 souls to trigger the SPRINGLOCK FAILURE!`);
recordItemUse('PURPLE_GUY',username);
return true;
};
const spawnSouls=()=>{
// Spawn 5 collectible souls around the screen
for(let i=0;i<5;i++){
setTimeout(()=>{
if(!purpleGuyHolder)return;
const soul=document.createElement('div');
soul.className='soul-collectible';
soul.textContent='üëª';
soul.style.left=(100+Math.random()*(window.innerWidth-200))+'px';
soul.style.top=(150+Math.random()*300)+'px';
soul.dataset.soulId=i;
soul.style.cursor='pointer';
soul.onclick=()=>collectSoul(soul);
document.body.appendChild(soul);
soulElements.push(soul);
},i*800);
}
};
const collectSoul=(soulEl)=>{
if(!purpleGuyHolder)return;
soulsCollected++;
// Show collection effect
const rect=soulEl.getBoundingClientRect();
const collected=document.createElement('div');
collected.className='soul-collected';
collected.textContent='üëª‚ú®';
collected.style.left=rect.left+'px';
collected.style.top=rect.top+'px';
document.body.appendChild(collected);
setTimeout(()=>collected.remove(),1000);
soulEl.remove();
soulElements=soulElements.filter(s=>s!==soulEl);
updateSoulCounter();
addActivity(`üëª ${purpleGuyHolder} collected a soul! (${soulsCollected}/5)`);
if(soulsCollected>=5){
triggerSpringlockFailure();
}
};
const updateSoulCounter=()=>{
document.getElementById('soulCount').textContent=`üëª ${soulsCollected}/5`;
};
const triggerSpringlockFailure=()=>{
const username=purpleGuyHolder;
// Clear remaining souls
soulElements.forEach(s=>s.remove());
soulElements=[];
document.getElementById('soulCounter').style.display='none';
// Show springlock screen!
const screen=document.getElementById('springlockScreen');
screen.style.display='flex';
addActivity(`üê∞üíÄ ${username} collected 5 souls! THE SPRINGLOCKS ARE FAILING!`,true);
// Play springlock sound
playSpringlockSound();
// 30 second countdown with blood effects
let timer=30;
document.getElementById('springlockTimer').textContent=timer;
const springlockTexts=[
'THE SPRINGLOCKS ARE FAILING...',
'*CRACK* *SNAP*',
'IT\'S ME...',
'I ALWAYS COME BACK...',
'THE MAN BEHIND THE SLAUGHTER',
'YOU CAN\'T ESCAPE...',
'*MECHANICAL GRINDING*',
'FIVE NIGHTS... FIVE SOULS...'
];
const interval=setInterval(()=>{
timer--;
document.getElementById('springlockTimer').textContent=timer;
// Random blood drips
if(Math.random()<0.3)spawnBloodDrip();
// Change text occasionally
if(timer%4===0){
document.getElementById('springlockText').textContent=springlockTexts[Math.floor(Math.random()*springlockTexts.length)];
}
if(timer<=0){
clearInterval(interval);
endSpringlockCutscene(username);
}
},1000);
};
const playSpringlockSound=()=>{
if(!audioCtx)audioCtx=new(window.AudioContext||window.webkitAudioContext)();
// Creepy mechanical grinding sound
const osc=audioCtx.createOscillator();
const gain=audioCtx.createGain();
osc.type='sawtooth';
osc.frequency.setValueAtTime(50,audioCtx.currentTime);
gain.gain.setValueAtTime(0.15,audioCtx.currentTime);
gain.gain.exponentialRampToValueAtTime(0.01,audioCtx.currentTime+2);
osc.connect(gain);
gain.connect(audioCtx.destination);
osc.start();
osc.stop(audioCtx.currentTime+2);
};
const spawnBloodDrip=()=>{
const blood=document.createElement('div');
blood.className='springlock-blood';
blood.textContent='ü©∏';
blood.style.left=(Math.random()*window.innerWidth)+'px';
blood.style.top='100px';
document.body.appendChild(blood);
setTimeout(()=>blood.remove(),2000);
};
const endSpringlockCutscene=(username)=>{
document.getElementById('springlockScreen').style.display='none';
purpleGuyHolder=null;
purpleGuySpawned=false;
soulsCollected=0;
// PERMANENT 2x DAMAGE BOOST!
purpleGuyBoostActive=true;
document.getElementById('permanentBoost').style.display='block';
addActivity(`üíÄüü™ ${username} survived the SPRINGLOCK FAILURE! PERMANENT 2x DAMAGE BOOST ACTIVATED!`,true);
};
const showDamage=(damage,x,y)=>{
const dmgEl=document.createElement('div');
dmgEl.className='damage-number';
dmgEl.textContent=`-${damage}`;
dmgEl.style.left=x+'px';
dmgEl.style.top=y+'px';
document.getElementById('damageNumbers').appendChild(dmgEl);
setTimeout(()=>dmgEl.remove(),1e3)
};
const shakeBoss=()=>{
const boss=document.getElementById('bossSprite');
boss.classList.add('boss-shake');
setTimeout(()=>boss.classList.remove('boss-shake'),300)
};
const addActivity=(text,isAttack=false)=>{
const feed=document.getElementById('activityFeed');
const item=document.createElement('div');
item.className='activity-item'+(isAttack?' activity-attack':'');
item.textContent=`[${new Date().toLocaleTimeString()}] ${text}`;
feed.insertBefore(item,feed.firstChild);
while(feed.children.length>20)feed.removeChild(feed.lastChild)
};
const updateStats=()=>{
document.getElementById('totalAttacks').textContent=totalAttacks;
document.getElementById('totalDamage').textContent=totalDamage;
const topPlayer=Object.entries(attackers).sort((a,b)=>b[1]-a[1])[0];
document.getElementById('topAttacker').textContent=topPlayer?topPlayer[0]:'---'
};
const attack=(username,damage)=>{
if(bossHP<=0)return;
const rect=document.getElementById('bossSprite').getBoundingClientRect();
const x=rect.left+rect.width/2+(Math.random()-.5)*100,y=rect.top+rect.height/2;
// Check if this attacker will dodge the counterattack
let willDodge=false;
if(spinnerActive&&spinnerUser===username&&bosses[currentBoss].sprite==='loaf'&&Math.random()<dodgeChance){
willDodge=true;
}
// Butter slip check - 35% chance normally, 60% with bikini!
const slipChance=neonBikiniActive?0.60:0.35;
if(butterActive&&bosses[currentBoss].sprite==='loaf'&&Math.random()<slipChance){
totalAttacks++;
showSlip(x,y);
const bikiniMsg=neonBikiniActive?' (bikini made it worse!)':'';
addActivity(`üßà ${username} SLIPPED on the butter! Attack missed!${bikiniMsg}`);
// Loaf still attacks back
shootBurningToast();
// Still consume bikini attack if active
if(neonBikiniActive){
bikiniAttacksLeft--;
if(bikiniAttacksLeft<=0){
neonBikiniActive=false;
document.getElementById('bikiniActive').style.display='none';
}
}
return;
}
const multiplier=useButterfinger();
// Bikini luck multiplier
const bikiniResult=useBikiniLuck();
let finalDamage=Math.round(damage*multiplier*bikiniResult.multiplier);
// Shield orbs add bonus damage
let shieldBonus=0;
if(shieldOrbs>0&&useShieldOrb()){
shieldBonus=25;
finalDamage+=shieldBonus;
}
// STUN BONUS - 2x damage when Shrek is stunned!
let stunBonus=false;
if(shrekStunned&&bosses[currentBoss].sprite==='shrek'){
finalDamage=finalDamage*2;
stunBonus=true;
}
// PURPLE GUY PERMANENT BOOST - 2x damage forever!
let purpleBonus=false;
if(purpleGuyBoostActive){
finalDamage=finalDamage*2;
purpleBonus=true;
}
bossHP=Math.max(0,bossHP-finalDamage);
totalAttacks++;
totalDamage+=finalDamage;
attackers[username]=(attackers[username]||0)+finalDamage;
showDamage(finalDamage,x,y);
shakeBoss();
// Show lucky crit effect
if(bikiniResult.lucky){
showLuckyCrit(x,y,bikiniResult.multiplier);
}
shootLaserDigit();shootLaserDigit();shootLaserDigit();
// Almighty Loaf attacks (skipped if dodging!)
if(willDodge){
showDodge(x,y-50);
addActivity(`üíÉ ${username} DODGED the burning toast while spinning!`);
}else{
shootBurningToast();shootBurningToast();
if(Math.random()<0.15&&!crumbRainInterval)startCrumbRain();
}
// Chance to drop butter (12% per attack)
if(bosses[currentBoss].sprite==='loaf'&&Math.random()<0.12&&!butterActive)dropButter();
// Shrek attacks with onion layers!
if(bosses[currentBoss].sprite==='shrek'){
throwOnionLayers();
if(Math.random()<0.2)spawnSwampBubbles();
}
const bossName=bosses[currentBoss].name;
const luckyMsg=bikiniResult.lucky?` üëô LUCKY ${bikiniResult.multiplier.toFixed(1)}x CRIT!`:'';
if(bossName==='NEON 67'){
const boostMsg=multiplier>1?' üç´ BUTTERFINGER BOOST!':'';
const berryMsg=shieldBonus>0?' ü´ê BERRY BURST!':'';
addActivity(`${username} attacks! NEON 67 fires laser digits! -${finalDamage}${boostMsg}${berryMsg}${luckyMsg}`,true);
}else if(bossName==='THE ALMIGHTY LOAF'){
const boostMsg=multiplier>1?' üç´ BUTTERFINGER BOOST!':'';
const slipWarn=butterActive?' ‚ö†Ô∏è SLIPPERY!':'';
addActivity(`${username} attacks! THE LOAF hurls burning toast! -${finalDamage}${boostMsg}${slipWarn}${luckyMsg}`,true);
}else if(bossName==='SHREK THE OGRELORD'){
const boostMsg=multiplier>1?' üç´ BUTTERFINGER BOOST!':'';
const stunMsg=stunBonus?' üí´ STUNNED 2x!':'';
const purpleMsg=purpleBonus?' üíÄ PURPLE 2x!':'';
addActivity(`${username} attacks! SHREK hurls ONION LAYERS! -${finalDamage}${boostMsg}${stunMsg}${purpleMsg}${luckyMsg}`,true);
}else{
const purpleMsg=purpleBonus?' üíÄ PURPLE 2x!':'';
addActivity(`${username} attacked for ${finalDamage} damage!${purpleMsg}${luckyMsg}`,true);
}
updateBossDisplay();
updateStats();
if(bossHP<=0)setTimeout(showVictory,500)
};
const heal=username=>{
if(bossHP<=0)return;
const healAmount=10;
bossHP=Math.min(maxHP,bossHP+healAmount);
addActivity(`${username} healed the boss for ${healAmount} HP! ü§¶`);
updateBossDisplay()
};
const spawnButterfinger=()=>{
if(bosses[currentBoss].sprite!=='neon67'||butterfingerSpawned||butterfingerActive)return;
butterfingerSpawned=true;
const bf=document.getElementById('butterfinger');
bf.classList.add('active');
bf.style.right=(Math.random()*200+50)+'px';
bf.style.top=(Math.random()*100+20)+'px';
addActivity('üç´ A BUTTERFINGER appeared! Type !grab to claim it!');
};
const grabButterfinger=username=>{
if(!butterfingerSpawned||butterfingerActive)return false;
butterfingerSpawned=false;
butterfingerActive=true;
butterfingerHolder=username;
document.getElementById('butterfinger').classList.remove('active');
document.getElementById('powerupActive').style.display='block';
addActivity(`üç´ ${username} grabbed the BUTTERFINGER! Next attack deals 2x damage!`);
recordItemUse('BUTTERFINGER',username);
return true;
};
const useButterfinger=()=>{
if(!butterfingerActive)return 1;
butterfingerActive=false;
butterfingerHolder=null;
document.getElementById('powerupActive').style.display='none';
return 2;
};
const spawnCosmicDonut=()=>{
if(bosses[currentBoss].sprite!=='neon67'||cosmicDonutSpawned||shieldOrbs>0)return;
cosmicDonutSpawned=true;
const donut=document.getElementById('cosmicDonut');
donut.classList.add('active');
donut.style.left=(Math.random()*200+50)+'px';
donut.style.top=(Math.random()*80+40)+'px';
addActivity('üç© A COSMIC DONUT appeared! Type !donut for berry shield orbs!');
};
const grabCosmicDonut=username=>{
if(!cosmicDonutSpawned)return false;
cosmicDonutSpawned=false;
document.getElementById('cosmicDonut').classList.remove('active');
// Spawn 3 floating shield orbs with berries
shieldOrbs=3;
const berries=['üçì','ü´ê','üçá'];
const container=document.getElementById('shieldOrbs');
container.innerHTML='';
shieldOrbElements=[];
for(let i=0;i<3;i++){
const orb=document.createElement('div');
orb.className='shield-orb';
orb.textContent=berries[i];
orb.style.left=(window.innerWidth/2-80+i*60)+'px';
orb.style.top='180px';
orb.style.animationDelay=(i*0.3)+'s';
container.appendChild(orb);
shieldOrbElements.push(orb);
}
document.getElementById('shieldActive').style.display='block';
document.getElementById('shieldCount').textContent=shieldOrbs;
addActivity(`üç© ${username} grabbed the COSMIC DONUT! 3 berry shield orbs protect from damage!`);
return true;
};
const useShieldOrb=()=>{
if(shieldOrbs<=0)return false;
shieldOrbs--;
if(shieldOrbElements.length>0){
const orb=shieldOrbElements.pop();
orb.style.animation='none';
orb.style.transform='scale(2)';
orb.style.opacity='0';
setTimeout(()=>orb.remove(),300);
}
document.getElementById('shieldCount').textContent=shieldOrbs;
if(shieldOrbs<=0){
document.getElementById('shieldActive').style.display='none';
}
return true;
};
const spawnTNT=()=>{
if(bosses[currentBoss].sprite!=='neon67'||tntSpawned)return;
tntSpawned=true;
const tnt=document.getElementById('tntPowerup');
tnt.classList.add('active');
tnt.style.left=(Math.random()*150+100)+'px';
tnt.style.top=(Math.random()*60+60)+'px';
addActivity('üß® TNT appeared! Type !tnt for 74 POKEBALL EXPLOSION!');
};
const grabTNT=username=>{
if(!tntSpawned)return false;
tntSpawned=false;
document.getElementById('tntPowerup').classList.remove('active');
// MEGA EXPLOSION with 74 pokeballs!
const explosion=document.createElement('div');
explosion.className='mega-explosion';
document.body.appendChild(explosion);
setTimeout(()=>explosion.remove(),1500);
// Spawn 74 pokeballs flying at the boss
const rect=document.getElementById('bossSprite').getBoundingClientRect();
const centerX=rect.left+rect.width/2;
const centerY=rect.top+rect.height/2;
let totalExplosionDamage=0;
for(let i=0;i<74;i++){
setTimeout(()=>{
const pokeball=document.createElement('div');
pokeball.className='pokeball';
pokeball.textContent='üî¥‚ö™';
const angle=Math.random()*Math.PI*2;
const dist=Math.random()*200+100;
const startX=centerX+Math.cos(angle)*dist;
const startY=centerY+Math.sin(angle)*dist;
pokeball.style.left=startX+'px';
pokeball.style.top=startY+'px';
document.body.appendChild(pokeball);
// Move toward boss
pokeball.animate([
{left:startX+'px',top:startY+'px'},
{left:centerX+'px',top:centerY+'px'}
],{duration:400,easing:'ease-in'});
setTimeout(()=>{
pokeball.remove();
// Each pokeball deals 5-15 damage
const dmg=5+Math.floor(Math.random()*11);
if(bossHP>0){
bossHP=Math.max(0,bossHP-dmg);
totalExplosionDamage+=dmg;
totalDamage+=dmg;
attackers[username]=(attackers[username]||0)+dmg;
showDamage(dmg,centerX+(Math.random()-.5)*150,centerY+(Math.random()-.5)*100);
shakeBoss();
updateBossDisplay();
updateStats();
if(bossHP<=0)setTimeout(showVictory,500);
}
},400);
},i*20);
}
totalAttacks+=74;
addActivity(`üß®üí• ${username} detonated TNT! 74 POKEBALLS unleashed in MASSIVE EXPLOSION!`,true);
return true;
};
const showVictory=()=>{
document.getElementById('victoryScreen').style.display='flex';
addActivity(`üéâ ${bosses[currentBoss].name} has been defeated!`)
};
const newBoss=()=>{
document.getElementById('victoryScreen').style.display='none';
currentBoss=(currentBoss+1)%bosses.length;
bossHP=bosses[currentBoss].hp;
maxHP=bosses[currentBoss].hp;
butterfingerActive=false;
butterfingerSpawned=false;
butterfingerHolder=null;
cosmicDonutSpawned=false;
shieldOrbs=0;
shieldOrbElements=[];
tntSpawned=false;
fortniteCardSpawned=false;
neonBikiniSpawned=false;
neonBikiniActive=false;
bikiniAttacksLeft=0;
// Clear butter
if(butterActive)clearButter();
// Clear casino
closeCasino();
clearPokerChips();
// Clear pole
hidePole();
document.getElementById('butterfinger').classList.remove('active');
document.getElementById('cosmicDonut').classList.remove('active');
document.getElementById('tntPowerup').classList.remove('active');
document.getElementById('fortniteCard').classList.remove('active');
document.getElementById('neonBikini').classList.remove('active');
document.getElementById('neonRevolver').classList.remove('active');
revolverSpawned=false;
revolverHolder=null;
revolverShots=0;
document.getElementById('revolverActive').style.display='none';
document.getElementById('blueprintCard').classList.remove('active');
blueprintSpawned=false;
blueprintHolder=null;
lastItemUsed=null;
lastItemUser=null;
document.getElementById('blueprintActive').style.display='none';
document.getElementById('stoneQ').classList.remove('active');
stoneQSpawned=false;
stoneQHolder=null;
cutawayNukeSpawned=false;
cutawayNukeHolder=null;
waluigiSpawned=false;
waluigiHolder=null;
shrekStunned=false;
// Reset Purple Guy (but NOT the boost - it's permanent!)
purpleGuySpawned=false;
purpleGuyHolder=null;
soulsCollected=0;
soulElements.forEach(s=>s.remove());
soulElements=[];
document.getElementById('purpleGuy').classList.remove('active');
document.getElementById('soulCounter').style.display='none';
document.getElementById('springlockScreen').style.display='none';
document.getElementById('cutawayNuke').classList.remove('active');
document.getElementById('waluigiPowerup').classList.remove('active');
document.getElementById('shrekSwamp').style.display='none';
document.getElementById('powerupActive').style.display='none';
document.getElementById('shieldActive').style.display='none';
document.getElementById('bikiniActive').style.display='none';
bikiniDurability=100;
bikiniWearer=null;
document.getElementById('bikiniDurability').style.display='none';
document.getElementById('walterHorse').style.display='none';
document.getElementById('shieldOrbs').innerHTML='';
updateBossDisplay();
addActivity(`‚öîÔ∏è New boss appeared: ${bosses[currentBoss].name}!`);
if(bosses[currentBoss].sprite==='neon67'){
setTimeout(spawnButterfinger,5000+Math.random()*5000);
setTimeout(spawnCosmicDonut,8000+Math.random()*7000);
setTimeout(spawnTNT,12000+Math.random()*8000);
}
if(bosses[currentBoss].sprite==='loaf'){
setTimeout(spawnFortniteCard,10000+Math.random()*10000);
setTimeout(spawnNeonBikini,6000+Math.random()*6000);
// Spawn 500 poker chips and open casino!
setTimeout(()=>{spawn500PokerChips();openCasino();},2000);
// Show the neon dancing pole!
setTimeout(showPole,1000);
// Spawn the neon revolver!
setTimeout(spawnRevolver,8000+Math.random()*8000);
// Spawn the Blueprint card!
setTimeout(spawnBlueprint,12000+Math.random()*10000);
// Spawn the Stone Q!
setTimeout(spawnStoneQ,15000+Math.random()*12000);
}
// SHREK THE OGRELORD spawns!
if(bosses[currentBoss].sprite==='shrek'){
addActivity('üü¢ SHREK EMERGES FROM THE SWAMP! "GET OUT OF MY SWAMP!"');
// Spawn cutaway nuke!
setTimeout(spawnCutawayNuke,8000+Math.random()*8000);
// Spawn Waluigi!
setTimeout(spawnWaluigi,5000+Math.random()*5000);
// Try to spawn Purple Guy (RARE - 5% chance in function)
setTimeout(spawnPurpleGuy,10000+Math.random()*10000);
}
};
const testUsers=['Alice','Bob','Charlie','Diana','Eve'];
const simulateCommand=()=>{
const user=testUsers[Math.floor(Math.random()*testUsers.length)];
// Occasionally try to grab butterfinger
if(butterfingerSpawned&&Math.random()<0.3){
grabButterfinger(user);
return;
}
// Occasionally try to grab cosmic donut
if(cosmicDonutSpawned&&Math.random()<0.3){
grabCosmicDonut(user);
return;
}
// Occasionally try to grab TNT
if(tntSpawned&&Math.random()<0.4){
grabTNT(user);
return;
}
// Occasionally try to grab Fortnite card (rare!)
if(fortniteCardSpawned&&Math.random()<0.2){
grabFortniteCard(user);
return;
}
// Occasionally try to grab neon bikini
if(neonBikiniSpawned&&Math.random()<0.25){
grabNeonBikini(user);
return;
}
// Occasionally try to gamble at the casino!
if(casinoActive&&!currentBetInProgress&&Math.random()<0.15){
const playerDamage=attackers[user]||0;
if(playerDamage>=10){
const betAmount=Math.min(playerDamage,10+Math.floor(Math.random()*50));
placeBet(user,betAmount);
return;
}
}
// Occasionally try to spin on the pole!
if(poleActive&&!spinnerActive&&Math.random()<0.1){
spinOnPole(user);
return;
}
// Occasionally try to grab or shoot the revolver!
if(revolverSpawned&&Math.random()<0.3){
grabRevolver(user);
return;
}
if(revolverHolder===user&&revolverShots>0&&Math.random()<0.4){
shootRevolver(user);
return;
}
// Occasionally try to grab or use the Blueprint!
if(blueprintSpawned&&Math.random()<0.25){
grabBlueprint(user);
return;
}
if(blueprintHolder===user&&lastItemUsed&&Math.random()<0.3){
useBlueprint(user);
return;
}
// Occasionally try to grab or throw Stone Q!
if(stoneQSpawned&&Math.random()<0.3){
grabStoneQ(user);
return;
}
if(stoneQHolder===user&&Math.random()<0.5){
throwStoneQ(user);
return;
}
// Cutaway nuke for Shrek
if(cutawayNukeSpawned&&Math.random()<0.3){
grabCutawayNuke(user);
return;
}
if(cutawayNukeHolder===user&&Math.random()<0.5){
useCutawayNuke(user);
return;
}
// Waluigi for Shrek
if(waluigiSpawned&&Math.random()<0.3){
grabWaluigi(user);
return;
}
if(waluigiHolder===user&&Math.random()<0.5){
useWaluigi(user);
return;
}
// Purple Guy (RARE!)
if(purpleGuySpawned&&Math.random()<0.4){
grabPurpleGuy(user);
return;
}
const commands=['attack','slash','fireball'];
const cmd=commands[Math.floor(Math.random()*commands.length)];
let damage=0;
if(cmd==='attack')damage=10+Math.floor(Math.random()*21);
else if(cmd==='slash')damage=20+Math.floor(Math.random()*21);
else if(cmd==='fireball')damage=30+Math.floor(Math.random()*31);
attack(user,damage)
};
setInterval(simulateCommand,2e3);
// Periodically spawn butterfinger during NEON 67 fight
setInterval(()=>{
if(bosses[currentBoss].sprite==='neon67'&&!butterfingerSpawned&&!butterfingerActive&&Math.random()<0.2){
spawnButterfinger();
}
},8e3);
// Periodically spawn cosmic donut during NEON 67 fight
setInterval(()=>{
if(bosses[currentBoss].sprite==='neon67'&&!cosmicDonutSpawned&&shieldOrbs===0&&Math.random()<0.15){
spawnCosmicDonut();
}
},10e3);
// Periodically spawn TNT during NEON 67 fight (rare!)
setInterval(()=>{
if(bosses[currentBoss].sprite==='neon67'&&!tntSpawned&&Math.random()<0.1){
spawnTNT();
}
},15e3);
// Periodically spawn Fortnite card during Loaf fight (very rare!)
setInterval(()=>{
if(bosses[currentBoss].sprite==='loaf'&&!fortniteCardSpawned&&Math.random()<0.08){
spawnFortniteCard();
}
},20e3);
// Periodically spawn neon bikini during Loaf fight
setInterval(()=>{
if(bosses[currentBoss].sprite==='loaf'&&!neonBikiniSpawned&&!neonBikiniActive&&Math.random()<0.12){
spawnNeonBikini();
}
},12e3);
// Periodically spawn neon revolver during Loaf fight
setInterval(()=>{
if(bosses[currentBoss].sprite==='loaf'&&!revolverSpawned&&!revolverHolder&&Math.random()<0.1){
spawnRevolver();
}
},15e3);
// Periodically spawn Blueprint during Loaf fight
setInterval(()=>{
if(bosses[currentBoss].sprite==='loaf'&&!blueprintSpawned&&!blueprintHolder&&Math.random()<0.08){
spawnBlueprint();
}
},18e3);
// Periodically spawn Stone Q during Loaf fight
setInterval(()=>{
if(bosses[currentBoss].sprite==='loaf'&&!stoneQSpawned&&!stoneQHolder&&Math.random()<0.07){
spawnStoneQ();
}
},20e3);
// Periodically spawn Cutaway Nuke during Shrek fight
setInterval(()=>{
if(bosses[currentBoss].sprite==='shrek'&&!cutawayNukeSpawned&&!cutawayNukeHolder&&Math.random()<0.1){
spawnCutawayNuke();
}
},15e3);
// Periodically spawn Waluigi during Shrek fight
setInterval(()=>{
if(bosses[currentBoss].sprite==='shrek'&&!waluigiSpawned&&!waluigiHolder&&Math.random()<0.12){
spawnWaluigi();
}
},12e3);
// Periodically try to spawn Purple Guy during Shrek fight (RARE!)
setInterval(()=>{
if(bosses[currentBoss].sprite==='shrek'&&!purpleGuySpawned&&!purpleGuyHolder&&!purpleGuyBoostActive){
spawnPurpleGuy(); // 5% chance inside function
}
},20e3);
// Bird explosion on click!
const explodeBird=()=>{
const bird=document.getElementById('backgroundBird');
const rect=bird.getBoundingClientRect();
const x=rect.left+rect.width/2;
const y=rect.top+rect.height/2;
// Hide bird temporarily
bird.style.display='none';
// Create explosion
const explosion=document.createElement('div');
explosion.className='bird-explosion';
explosion.textContent='üí•üê¶üí•';
explosion.style.left=x+'px';
explosion.style.top=y+'px';
document.body.appendChild(explosion);
setTimeout(()=>explosion.remove(),1000);
// Spawn feathers
const feathers=['ü™∂','ü™∂','ü™∂','üê¶','‚ú®'];
for(let i=0;i<8;i++){
const feather=document.createElement('div');
feather.className='feather';
feather.textContent=feathers[Math.floor(Math.random()*feathers.length)];
feather.style.left=(x+Math.random()*100-50)+'px';
feather.style.top=(y+Math.random()*50-25)+'px';
document.body.appendChild(feather);
setTimeout(()=>feather.remove(),2000);
}
// Bonus damage!
const bonusDamage=50+Math.floor(Math.random()*51);
if(bossHP>0){
bossHP=Math.max(0,bossHP-bonusDamage);
showDamage(bonusDamage,x,y);
totalDamage+=bonusDamage;
updateBossDisplay();
updateStats();
addActivity(`üê¶üí• Someone exploded the bird! ${bonusDamage} bonus damage!`,true);
if(bossHP<=0)setTimeout(showVictory,500);
}
// Respawn bird after delay
setTimeout(()=>{
bird.style.display='block';
bird.style.top=(80+Math.random()*150)+'px';
},8000);
};
// NEON GUN CURSOR - follows mouse and fires bullets!
const gunCursor=document.getElementById('neonGunCursor');
let lastFireTime=0;
const fireDelay=150; // ms between shots
document.addEventListener('mousemove',(e)=>{
gunCursor.style.left=e.clientX+'px';
gunCursor.style.top=e.clientY+'px';
});
document.addEventListener('click',(e)=>{
const now=Date.now();
if(now-lastFireTime<fireDelay)return;
lastFireTime=now;
fireNeonBullet(e.clientX,e.clientY);
});
const fireNeonBullet=(x,y)=>{
// Recoil animation
gunCursor.classList.add('firing');
setTimeout(()=>gunCursor.classList.remove('firing'),100);
// Muzzle flash
const flash=document.createElement('div');
flash.className='muzzle-flash';
flash.textContent='‚ú®';
flash.style.left=(x+15)+'px';
flash.style.top=(y-10)+'px';
document.body.appendChild(flash);
setTimeout(()=>flash.remove(),150);
// Create bullet
const bullet=document.createElement('div');
const colors=['cyan','magenta','yellow'];
bullet.className='cursor-bullet '+colors[Math.floor(Math.random()*colors.length)];
bullet.style.left=x+'px';
bullet.style.top=y+'px';
document.body.appendChild(bullet);
// Fire toward boss!
const bossRect=document.getElementById('bossSprite').getBoundingClientRect();
const targetX=bossRect.left+bossRect.width/2;
const targetY=bossRect.top+bossRect.height/2;
const angle=Math.atan2(targetY-y,targetX-x);
const speed=15;
let bulletX=x,bulletY=y;
const bulletInterval=setInterval(()=>{
bulletX+=Math.cos(angle)*speed;
bulletY+=Math.sin(angle)*speed;
bullet.style.left=bulletX+'px';
bullet.style.top=bulletY+'px';
// Check if hit boss area
const dist=Math.sqrt(Math.pow(bulletX-targetX,2)+Math.pow(bulletY-targetY,2));
if(dist<80&&bossHP>0){
clearInterval(bulletInterval);
bullet.remove();
// Deal damage!
const bulletDamage=5+Math.floor(Math.random()*11);
bossHP=Math.max(0,bossHP-bulletDamage);
totalDamage+=bulletDamage;
showDamage(bulletDamage,bulletX,bulletY);
updateBossDisplay();
updateStats();
if(bossHP<=0)setTimeout(showVictory,500);
}
// Remove if off screen
if(bulletX<0||bulletX>window.innerWidth||bulletY<0||bulletY>window.innerHeight){
clearInterval(bulletInterval);
bullet.remove();
}
},16);
setTimeout(()=>{clearInterval(bulletInterval);bullet.remove();},2000);
// Play pew sound
playPewSound();
};
const playPewSound=()=>{
if(!audioCtx)audioCtx=new(window.AudioContext||window.webkitAudioContext)();
const osc=audioCtx.createOscillator();
const gain=audioCtx.createGain();
osc.type='square';
osc.frequency.setValueAtTime(800,audioCtx.currentTime);
osc.frequency.exponentialRampToValueAtTime(200,audioCtx.currentTime+0.1);
gain.gain.setValueAtTime(0.1,audioCtx.currentTime);
gain.gain.exponentialRampToValueAtTime(0.01,audioCtx.currentTime+0.1);
osc.connect(gain);
gain.connect(audioCtx.destination);
osc.start();
osc.stop(audioCtx.currentTime+0.1);
};
// Hide default cursor
document.body.style.cursor='none';
// Initialize background bird position and click listener
document.getElementById('backgroundBird').style.top=(80+Math.random()*150)+'px';
document.getElementById('backgroundBird').onclick=explodeBird;
updateBossDisplay();
addActivity('‚öîÔ∏è Battle started! Use commands to attack!')
</script>
</body>
</html>
