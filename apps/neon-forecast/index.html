<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Neon Forecast</title>
  <link rel="icon" href="https://emojicdn.elk.sh/üå©Ô∏è">
  <meta property="og:title" content="Neon Forecast">
  <meta property="og:description" content="Fictional weather from another dimension. Type any city and see what's brewing.">
  <meta property="og:url" content="https://sloppy.live/neon-forecast">
  <meta property="og:image" content="https://emojicdn.elk.sh/üå©Ô∏è?style=google">
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Share+Tech+Mono&display=swap" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    :root {
      --cyan: #00f0ff;
      --pink: #ff2d95;
      --green: #39ff14;
      --purple: #bf5fff;
      --yellow: #ffe14d;
      --bg: #06060f;
      --panel: rgba(10,10,30,0.85);
    }
    body {
      background: var(--bg);
      color: #e0e0e0;
      font-family: 'Share Tech Mono', monospace;
      min-height: 100dvh;
      overflow-x: hidden;
    }

    /* Animated background grid */
    body::before {
      content: '';
      position: fixed;
      inset: 0;
      background:
        linear-gradient(rgba(0,240,255,0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(0,240,255,0.03) 1px, transparent 1px);
      background-size: 40px 40px;
      animation: gridScroll 20s linear infinite;
      z-index: 0;
    }
    @keyframes gridScroll {
      to { background-position: 40px 40px; }
    }

    /* Scanline overlay */
    body::after {
      content: '';
      position: fixed;
      inset: 0;
      background: repeating-linear-gradient(
        0deg,
        transparent,
        transparent 2px,
        rgba(0,0,0,0.08) 2px,
        rgba(0,0,0,0.08) 4px
      );
      pointer-events: none;
      z-index: 999;
    }

    .container {
      position: relative;
      z-index: 1;
      max-width: 600px;
      margin: 0 auto;
      padding: 24px 16px 80px;
    }

    header {
      text-align: center;
      padding: 32px 0 24px;
    }
    h1 {
      font-family: 'Orbitron', sans-serif;
      font-weight: 900;
      font-size: clamp(28px, 8vw, 52px);
      color: var(--cyan);
      text-shadow:
        0 0 10px var(--cyan),
        0 0 30px var(--cyan),
        0 0 60px rgba(0,240,255,0.3);
      letter-spacing: 4px;
      line-height: 1.1;
    }
    .tagline {
      font-size: clamp(11px, 2.5vw, 14px);
      color: var(--pink);
      text-shadow: 0 0 8px var(--pink);
      margin-top: 8px;
      letter-spacing: 3px;
      text-transform: uppercase;
    }

    /* Search */
    .search-box {
      display: flex;
      gap: 0;
      margin: 24px 0;
    }
    .search-box input {
      flex: 1;
      font-family: 'Share Tech Mono', monospace;
      font-size: 18px;
      padding: 14px 16px;
      background: var(--panel);
      border: 1px solid rgba(0,240,255,0.3);
      border-right: none;
      color: var(--cyan);
      outline: none;
      transition: border-color 0.3s, box-shadow 0.3s;
    }
    .search-box input::placeholder { color: rgba(0,240,255,0.3); }
    .search-box input:focus {
      border-color: var(--cyan);
      box-shadow: 0 0 15px rgba(0,240,255,0.2);
    }
    .search-box button {
      font-family: 'Orbitron', sans-serif;
      font-weight: 700;
      font-size: 14px;
      padding: 14px 20px;
      background: linear-gradient(135deg, var(--cyan), var(--purple));
      border: none;
      color: var(--bg);
      cursor: pointer;
      text-transform: uppercase;
      letter-spacing: 2px;
      transition: opacity 0.2s, transform 0.1s;
    }
    .search-box button:hover { opacity: 0.85; }
    .search-box button:active { transform: scale(0.97); }

    /* Weather card */
    .weather-card {
      display: none;
      border: 1px solid rgba(0,240,255,0.15);
      background: var(--panel);
      padding: 0;
      margin-top: 20px;
      animation: cardIn 0.5s ease-out;
      overflow: hidden;
    }
    .weather-card.visible { display: block; }
    @keyframes cardIn {
      from { opacity: 0; transform: translateY(20px) scale(0.97); }
      to { opacity: 1; transform: none; }
    }

    .card-header {
      padding: 20px 24px 16px;
      border-bottom: 1px solid rgba(0,240,255,0.1);
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
    }
    .city-name {
      font-family: 'Orbitron', sans-serif;
      font-weight: 700;
      font-size: clamp(18px, 4vw, 26px);
      color: var(--green);
      text-shadow: 0 0 10px var(--green), 0 0 25px rgba(57,255,20,0.3);
    }
    .dimension-tag {
      font-size: 11px;
      color: var(--purple);
      text-shadow: 0 0 6px var(--purple);
      padding: 3px 8px;
      border: 1px solid rgba(191,95,255,0.3);
      letter-spacing: 1px;
    }

    .card-main {
      display: flex;
      align-items: center;
      padding: 20px 24px;
      gap: 20px;
    }
    .weather-icon {
      font-size: clamp(56px, 14vw, 80px);
      line-height: 1;
      filter: drop-shadow(0 0 12px rgba(255,255,255,0.3));
      animation: iconFloat 3s ease-in-out infinite;
      flex-shrink: 0;
    }
    @keyframes iconFloat {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-6px); }
    }
    .weather-main {
      flex: 1;
      min-width: 0;
    }
    .condition {
      font-family: 'Orbitron', sans-serif;
      font-weight: 700;
      font-size: clamp(14px, 3.5vw, 20px);
      color: var(--pink);
      text-shadow: 0 0 8px var(--pink);
      margin-bottom: 6px;
    }
    .temp {
      font-family: 'Orbitron', sans-serif;
      font-weight: 900;
      font-size: clamp(36px, 10vw, 60px);
      line-height: 1;
      background: linear-gradient(135deg, var(--yellow), var(--pink));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .temp-unit {
      font-size: 0.4em;
      vertical-align: super;
      opacity: 0.7;
    }
    .feels-like {
      font-size: 13px;
      color: rgba(255,255,255,0.4);
      margin-top: 4px;
    }

    .card-stats {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
      border-top: 1px solid rgba(0,240,255,0.1);
    }
    .stat {
      padding: 16px 12px;
      text-align: center;
      border-right: 1px solid rgba(0,240,255,0.1);
    }
    .stat:last-child { border-right: none; }
    .stat-label {
      font-size: 10px;
      text-transform: uppercase;
      letter-spacing: 2px;
      color: rgba(0,240,255,0.5);
      margin-bottom: 6px;
    }
    .stat-value {
      font-family: 'Orbitron', sans-serif;
      font-weight: 700;
      font-size: clamp(14px, 3vw, 18px);
      color: var(--cyan);
      text-shadow: 0 0 6px rgba(0,240,255,0.4);
    }

    .card-advisory {
      padding: 14px 24px;
      border-top: 1px solid rgba(0,240,255,0.1);
      font-size: 13px;
      color: var(--yellow);
      text-shadow: 0 0 6px rgba(255,225,77,0.3);
    }
    .card-advisory::before {
      content: '‚ö† ';
    }

    .card-forecast {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      border-top: 1px solid rgba(0,240,255,0.1);
    }
    .fc-item {
      padding: 12px 4px;
      text-align: center;
      border-right: 1px solid rgba(0,240,255,0.06);
    }
    .fc-item:last-child { border-right: none; }
    .fc-time {
      font-size: 10px;
      color: rgba(255,255,255,0.35);
      letter-spacing: 1px;
      margin-bottom: 6px;
    }
    .fc-icon { font-size: 22px; margin-bottom: 4px; }
    .fc-temp {
      font-family: 'Orbitron', sans-serif;
      font-size: 12px;
      font-weight: 700;
      color: var(--pink);
    }

    /* History chips */
    .history {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 16px;
    }
    .history-chip {
      font-family: 'Share Tech Mono', monospace;
      font-size: 12px;
      padding: 4px 10px;
      background: rgba(0,240,255,0.06);
      border: 1px solid rgba(0,240,255,0.15);
      color: rgba(0,240,255,0.6);
      cursor: pointer;
      transition: all 0.2s;
    }
    .history-chip:hover {
      border-color: var(--cyan);
      color: var(--cyan);
      box-shadow: 0 0 8px rgba(0,240,255,0.2);
    }

    .backlink {
      position: fixed;
      bottom: 8px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 13px;
      color: rgba(0,240,255,0.25);
      text-decoration: none;
      z-index: 100;
    }
    .backlink:hover { color: rgba(0,240,255,0.6); }

    @media (max-width: 420px) {
      .card-stats { grid-template-columns: 1fr 1fr; }
      .stat:nth-child(3) { grid-column: span 2; border-right: none; border-top: 1px solid rgba(0,240,255,0.1); }
      .card-forecast { grid-template-columns: repeat(3, 1fr); }
      .fc-item:nth-child(n+4) { display: none; }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>NEON FORECAST</h1>
      <div class="tagline">Interdimensional Weather Bureau</div>
    </header>

    <div class="search-box">
      <input type="text" id="city-input" placeholder="Enter any city..." autocomplete="off">
      <button id="scan-btn" onclick="scanCity()">SCAN</button>
    </div>

    <div class="history" id="history"></div>

    <div class="weather-card" id="weather-card">
      <div class="card-header">
        <div class="city-name" id="w-city"></div>
        <div class="dimension-tag" id="w-dim"></div>
      </div>
      <div class="card-main">
        <div class="weather-icon" id="w-icon"></div>
        <div class="weather-main">
          <div class="condition" id="w-condition"></div>
          <div class="temp" id="w-temp"></div>
          <div class="feels-like" id="w-feels"></div>
        </div>
      </div>
      <div class="card-stats">
        <div class="stat">
          <div class="stat-label">Wind</div>
          <div class="stat-value" id="w-wind"></div>
        </div>
        <div class="stat">
          <div class="stat-label">Humidity</div>
          <div class="stat-value" id="w-humidity"></div>
        </div>
        <div class="stat">
          <div class="stat-label">Visibility</div>
          <div class="stat-value" id="w-vis"></div>
        </div>
      </div>
      <div class="card-advisory" id="w-advisory"></div>
      <div class="card-forecast" id="w-forecast"></div>
    </div>
  </div>

  <a class="backlink" href="https://sloppy.live" target="_blank">sloppy.live</a>

  <script>
    // ‚îÄ‚îÄ‚îÄ Fictional Weather Data ‚îÄ‚îÄ‚îÄ

    const CONDITIONS = [
      { name: 'Raining Disco Balls', icon: 'ü™©', feelsAdj: 'groovy' },
      { name: 'Quantum Fog', icon: 'üå´Ô∏è', feelsAdj: 'simultaneously warm and cold' },
      { name: 'Pixel Storm', icon: 'üëæ', feelsAdj: '8-bit' },
      { name: 'Liquid Sunshine', icon: 'ü´†', feelsAdj: 'melty' },
      { name: 'Glitter Hurricane', icon: '‚ú®', feelsAdj: 'fabulous' },
      { name: 'WiFi Drizzle', icon: 'üì∂', feelsAdj: 'buffering' },
      { name: 'Neon Aurora', icon: 'üåà', feelsAdj: 'electric' },
      { name: 'Temporal Haze', icon: '‚è≥', feelsAdj: 'last-Tuesday-ish' },
      { name: 'Bass Drop Thunderstorm', icon: 'üîä', feelsAdj: 'LOUD' },
      { name: 'Holographic Sleet', icon: 'üíé', feelsAdj: 'translucent' },
      { name: 'Existential Drizzle', icon: 'ü§î', feelsAdj: 'meaningless' },
      { name: 'Spaghetti Monsoon', icon: 'üçù', feelsAdj: 'al dente' },
      { name: 'Vaporwave Breeze', icon: 'üå∏', feelsAdj: 'aesthetic' },
      { name: 'Reverse Rain (Ground-Up)', icon: 'üîÑ', feelsAdj: 'confusing' },
      { name: 'Cat 5 Purricane', icon: 'üêà', feelsAdj: 'fluffy' },
      { name: 'Antimatter Snow', icon: '‚öõÔ∏è', feelsAdj: 'annihilating' },
      { name: 'Emoji Hail', icon: 'üò±', feelsAdj: 'expressive' },
      { name: 'Gravity Fluctuation', icon: 'üéà', feelsAdj: 'floaty' },
      { name: 'Sentient Clouds', icon: 'üß†', feelsAdj: 'judgmental' },
      { name: 'Carbonated Fog', icon: 'ü•§', feelsAdj: 'fizzy' },
      { name: 'Infinite Sunset', icon: 'üåÖ', feelsAdj: 'Instagram-ready' },
      { name: 'Melodic Thunder', icon: 'üéµ', feelsAdj: 'symphonic' },
      { name: 'Rubber Duck Tsunami', icon: 'ü¶Ü', feelsAdj: 'squeaky' },
      { name: 'Dark Matter Overcast', icon: 'üï≥Ô∏è', feelsAdj: 'invisible' },
      { name: 'Plasma Rain', icon: '‚ö°', feelsAdj: 'electrifying' },
      { name: 'Cinnamon Wind Advisory', icon: 'üå™Ô∏è', feelsAdj: 'spicy' },
      { name: 'Binary Snow', icon: '‚ùÑÔ∏è', feelsAdj: '01100011 01101111 01101100 01100100' },
      { name: 'D√©j√† Vu Fog', icon: 'üëÅÔ∏è', feelsAdj: 'familiar' },
      { name: 'Cheese Drizzle', icon: 'üßÄ', feelsAdj: 'gouda' },
      { name: 'Synthwave Heat Dome', icon: 'üî•', feelsAdj: 'retroactively hot' },
      { name: 'Razor Wind Advisory', icon: 'üî™', feelsAdj: 'sharp' },
    ];

    const WIND_TYPES = [
      'Sideways at {n} knots', '{n} BPM gusts', 'Spiraling at {n} RPM',
      '{n} parsecs/hour crosswind', 'Whisper-force {n}', 'Vibing at {n} wavelengths',
      '{n} decibels of breeze', 'Mach {n} (backwards)', '{n} flutter units',
      'Updraft: {n} stories/sec',
    ];

    const HUMIDITY_TYPES = [
      '{n}% (liquid)', '{n}% plasma', 'Negative {n}%', '{n}% sentient moisture',
      '{n}% (mostly opinions)', '{n}% crystallized', '‚àû% (saturated reality)',
      '{n}% holographic', '{n}% carbonated',
    ];

    const VISIBILITY_TYPES = [
      '{n} dimensions', '{n} parallel blocks', 'Past & future {n}m',
      '{n} layers deep', '{n} realities wide', 'Infinite (but blurry)',
      '{n} astral planes', 'See-through for {n}km', '{n} timelines ahead',
    ];

    const ADVISORIES = [
      'Residents advised to wear reflective mood rings at all times.',
      'Do NOT make eye contact with the clouds. They remember.',
      'Interdimensional Travel Authority recommends staying indoors until reality stabilizes.',
      'Emergency dance protocol activated. Groove responsibly.',
      'Authorities report the weather has become self-aware. Negotiations ongoing.',
      'If you hear your name whispered by the wind, do not answer.',
      'Carry a spare timeline in case of temporal collapse.',
      'The fog has opinions. They are mostly wrong.',
      'Umbrellas may spontaneously become sentient. Handle with care.',
      'This weather is not tax-deductible.',
      'All outdoor concerts have been upgraded to indoor tornadoes.',
      'Local pigeons have unionized in response to conditions.',
      'The sun filed a complaint. Expect passive-aggressive rays.',
      'Reality buffer is at 12%. Please limit existential questions.',
      'If gravity reverses, remember: the floor is now lava (literally).',
      'Recommended soundtrack: anything with synthesizers.',
      'The weather will be graded on a curve. No appeals.',
      'Forecast accuracy: vibes-based. No refunds.',
    ];

    const DIMENSIONS = [
      'Dimension C-137', 'Timeline Œ©-9', 'Sector 7G', 'Plane Œû-404',
      'Reality v2.3.1', 'Frequency 440Hz', 'Layer Zero', 'Subnet 127.0.0.1',
      'Branch: main', 'Epoch 2077', 'Grid Ref: ¬Ø\\_(„ÉÑ)_/¬Ø', 'Alt-Timeline Prime',
    ];

    const TEMP_UNITS = ['¬∞F', '¬∞C', '¬∞K', '¬∞W (Weird)', '¬∞V (Vibes)', '¬∞‚àû', '¬∞?'];

    // Seeded random from city name for consistent results per city per day
    function seededRandom(str) {
      const day = new Date().toISOString().slice(0, 10);
      const seed = str.toLowerCase().trim() + day;
      let h = 0;
      for (let i = 0; i < seed.length; i++) {
        h = ((h << 5) - h + seed.charCodeAt(i)) | 0;
      }
      // Simple LCG
      return function() {
        h = (h * 1664525 + 1013904223) | 0;
        return (h >>> 0) / 4294967296;
      };
    }

    function pick(arr, rng) { return arr[Math.floor(rng() * arr.length)]; }
    function randInt(min, max, rng) { return Math.floor(rng() * (max - min + 1)) + min; }

    function generateWeather(city) {
      const rng = seededRandom(city);
      const cond = pick(CONDITIONS, rng);
      const temp = randInt(-273, 9999, rng);
      const feelsTemp = temp + randInt(-50, 50, rng);
      const unit = pick(TEMP_UNITS, rng);
      const wind = pick(WIND_TYPES, rng).replace('{n}', randInt(1, 999, rng));
      const humidity = pick(HUMIDITY_TYPES, rng).replace('{n}', randInt(0, 300, rng));
      const vis = pick(VISIBILITY_TYPES, rng).replace('{n}', randInt(1, 42, rng));
      const advisory = pick(ADVISORIES, rng);
      const dim = pick(DIMENSIONS, rng);

      // 5-slot forecast
      const forecast = [];
      const hours = ['+1h', '+3h', '+6h', '+12h', '+‚àû'];
      for (let i = 0; i < 5; i++) {
        const fc = pick(CONDITIONS, rng);
        forecast.push({
          time: hours[i],
          icon: fc.icon,
          temp: randInt(-100, 5000, rng),
          unit: pick(TEMP_UNITS, rng),
        });
      }

      return { city, cond, temp, feelsTemp, unit, feelsAdj: cond.feelsAdj, wind, humidity, vis, advisory, dim, forecast };
    }

    // ‚îÄ‚îÄ‚îÄ Render ‚îÄ‚îÄ‚îÄ

    function renderWeather(w) {
      document.getElementById('w-city').textContent = w.city.toUpperCase();
      document.getElementById('w-dim').textContent = w.dim;
      document.getElementById('w-icon').textContent = w.cond.icon;
      document.getElementById('w-condition').textContent = w.cond.name;
      document.getElementById('w-temp').innerHTML = `${w.temp}<span class="temp-unit">${w.unit}</span>`;
      document.getElementById('w-feels').textContent = `Feels ${w.feelsAdj} (${w.feelsTemp}${w.unit})`;
      document.getElementById('w-wind').textContent = w.wind;
      document.getElementById('w-humidity').textContent = w.humidity;
      document.getElementById('w-vis').textContent = w.vis;
      document.getElementById('w-advisory').textContent = w.advisory;

      const fcEl = document.getElementById('w-forecast');
      fcEl.innerHTML = w.forecast.map(f =>
        `<div class="fc-item">
          <div class="fc-time">${f.time}</div>
          <div class="fc-icon">${f.icon}</div>
          <div class="fc-temp">${f.temp}${f.unit}</div>
        </div>`
      ).join('');

      const card = document.getElementById('weather-card');
      card.classList.remove('visible');
      void card.offsetWidth;
      card.classList.add('visible');
    }

    // ‚îÄ‚îÄ‚îÄ History ‚îÄ‚îÄ‚îÄ
    let history = [];
    try {
      const stored = localStorage.getItem('neon-forecast-history');
      if (stored) history = JSON.parse(stored);
    } catch(_) {}

    function addToHistory(city) {
      const normalized = city.trim();
      history = history.filter(c => c.toLowerCase() !== normalized.toLowerCase());
      history.unshift(normalized);
      if (history.length > 8) history = history.slice(0, 8);
      localStorage.setItem('neon-forecast-history', JSON.stringify(history));
      renderHistory();
    }

    function renderHistory() {
      const el = document.getElementById('history');
      el.innerHTML = history.map(c =>
        `<div class="history-chip" onclick="scanCity('${c.replace(/'/g, "\\'")}')">${c}</div>`
      ).join('');
    }

    // ‚îÄ‚îÄ‚îÄ Actions ‚îÄ‚îÄ‚îÄ

    window.scanCity = function(override) {
      const input = document.getElementById('city-input');
      const city = (override || input.value).trim();
      if (!city) return;
      input.value = city;
      const weather = generateWeather(city);
      renderWeather(weather);
      addToHistory(city);
    };

    // Enter key
    document.getElementById('city-input').addEventListener('keydown', e => {
      if (e.key === 'Enter') scanCity();
    });

    // Autofocus
    document.getElementById('city-input').focus();

    // Render saved history
    renderHistory();

    // Fun: scan a random city on load if history is empty
    if (history.length === 0) {
      const starters = ['Tokyo', 'New York', 'Mars Colony 7', 'Atlantis', 'Gotham', 'Wakanda', 'The Moon', 'Bikini Bottom'];
      const starter = starters[Math.floor(Math.random() * starters.length)];
      document.getElementById('city-input').value = starter;
      scanCity(starter);
    }
  </script>
</body>
</html>
