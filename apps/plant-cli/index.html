<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>Plant CLI</title>
  <link rel="icon" href="https://emojicdn.elk.sh/üå±">
  <meta name="description" content="Grow a virtual neon plant by completing tasks in this CLI productivity game">
  <meta property="og:title" content="Plant CLI">
  <meta property="og:description" content="Grow a virtual neon plant by completing tasks in this CLI productivity game">
  <meta property="og:image" content="https://emojicdn.elk.sh/üå±?style=google">
  <meta property="og:url" content="https://app.sloppy.live/plant-cli">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=VT323&display=swap');
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      background: #0a0a0a;
      min-height: 100vh;
      font-family: 'VT323', monospace;
      color: #0f0;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px;
    }
    .back-link {
      position: fixed;
      top: 10px; left: 10px;
      color: rgba(0,255,0,0.3);
      text-decoration: none;
      font-size: 1rem;
      z-index: 100;
    }
    .terminal {
      width: 100%;
      max-width: 700px;
      background: #0a0a0a;
      border: 2px solid #0f0;
      border-radius: 8px;
      box-shadow: 0 0 20px rgba(0,255,0,0.3), inset 0 0 50px rgba(0,255,0,0.05);
      overflow: hidden;
    }
    .terminal-header {
      background: linear-gradient(90deg, #0f0 0%, #0a0 100%);
      padding: 8px 15px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .terminal-dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
    }
    .dot-red { background: #f55; }
    .dot-yellow { background: #ff5; }
    .dot-green { background: #5f5; }
    .terminal-title {
      color: #000;
      font-size: 1rem;
      margin-left: 10px;
    }
    .terminal-body {
      padding: 20px;
      min-height: 500px;
    }
    .plant-container {
      display: flex;
      justify-content: center;
      margin-bottom: 20px;
    }
    .plant-display {
      font-size: 1.2rem;
      line-height: 1.2;
      white-space: pre;
      text-align: center;
      text-shadow: 0 0 10px currentColor;
    }
    .stats {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
      margin-bottom: 20px;
      padding: 10px;
      border: 1px solid #0f03;
      background: #0f01;
    }
    .stat {
      text-align: center;
    }
    .stat-label {
      font-size: 0.9rem;
      color: #0f08;
    }
    .stat-value {
      font-size: 1.4rem;
      color: #0f0;
      text-shadow: 0 0 10px #0f0;
    }
    .stat-bar {
      height: 8px;
      background: #0f02;
      margin-top: 5px;
      border-radius: 4px;
      overflow: hidden;
    }
    .stat-fill {
      height: 100%;
      background: linear-gradient(90deg, #0f0, #0ff);
      box-shadow: 0 0 10px #0f0;
      transition: width 0.5s;
    }
    .output {
      border: 1px solid #0f03;
      background: #000;
      padding: 10px;
      margin-bottom: 15px;
      max-height: 150px;
      overflow-y: auto;
      font-size: 1rem;
    }
    .output-line {
      margin-bottom: 3px;
    }
    .output-line.system { color: #0ff; }
    .output-line.success { color: #0f0; }
    .output-line.warning { color: #ff0; }
    .output-line.error { color: #f55; }
    .input-area {
      display: flex;
      gap: 10px;
      margin-bottom: 15px;
    }
    .prompt {
      color: #0f0;
      font-size: 1.2rem;
    }
    #cmdInput {
      flex: 1;
      background: transparent;
      border: none;
      color: #0f0;
      font-family: inherit;
      font-size: 1.2rem;
      outline: none;
      caret-color: #0f0;
    }
    .commands {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }
    .cmd-btn {
      padding: 8px 15px;
      background: #0f01;
      border: 1px solid #0f04;
      color: #0f0;
      font-family: inherit;
      font-size: 0.9rem;
      cursor: pointer;
      transition: all 0.2s;
    }
    .cmd-btn:hover {
      background: #0f03;
      border-color: #0f0;
      box-shadow: 0 0 15px #0f04;
    }
    .tasks-list {
      margin-top: 15px;
      border: 1px solid #0f03;
      background: #000;
      max-height: 200px;
      overflow-y: auto;
    }
    .task-item {
      padding: 8px 12px;
      border-bottom: 1px solid #0f02;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .task-item:last-child { border-bottom: none; }
    .task-item.completed {
      color: #0f06;
      text-decoration: line-through;
    }
    .task-complete-btn {
      background: #0f02;
      border: 1px solid #0f04;
      color: #0f0;
      padding: 3px 10px;
      font-family: inherit;
      cursor: pointer;
    }
    .task-complete-btn:hover {
      background: #0f04;
    }
    .hidden { display: none; }
    /* Scanlines effect */
    .terminal::before {
      content: '';
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      background: repeating-linear-gradient(
        0deg,
        rgba(0,0,0,0.1) 0px,
        rgba(0,0,0,0.1) 1px,
        transparent 1px,
        transparent 2px
      );
      pointer-events: none;
    }
    .terminal { position: relative; }
  </style>
</head>
<body>
  <a href="https://sloppy.live" class="back-link">‚Üê back</a>
  
  <div class="terminal">
    <div class="terminal-header">
      <div class="terminal-dot dot-red"></div>
      <div class="terminal-dot dot-yellow"></div>
      <div class="terminal-dot dot-green"></div>
      <span class="terminal-title">plant-cli v1.0</span>
    </div>
    <div class="terminal-body">
      <div class="plant-container">
        <div class="plant-display" id="plantDisplay"></div>
      </div>
      
      <div class="stats">
        <div class="stat">
          <div class="stat-label">LEVEL</div>
          <div class="stat-value" id="levelVal">1</div>
        </div>
        <div class="stat">
          <div class="stat-label">XP</div>
          <div class="stat-value" id="xpVal">0/10</div>
          <div class="stat-bar"><div class="stat-fill" id="xpBar" style="width: 0%"></div></div>
        </div>
        <div class="stat">
          <div class="stat-label">TASKS DONE</div>
          <div class="stat-value" id="tasksVal">0</div>
        </div>
      </div>
      
      <div class="output" id="output"></div>
      
      <div class="input-area">
        <span class="prompt">$</span>
        <input type="text" id="cmdInput" placeholder="type a command or task..." autofocus>
      </div>
      
      <div class="commands">
        <button class="cmd-btn" onclick="runCmd('help')">help</button>
        <button class="cmd-btn" onclick="runCmd('status')">status</button>
        <button class="cmd-btn" onclick="runCmd('water')">water</button>
        <button class="cmd-btn" onclick="runCmd('tasks')">tasks</button>
        <button class="cmd-btn" onclick="runCmd('clear')">clear</button>
      </div>
      
      <div class="tasks-list" id="tasksList"></div>
    </div>
  </div>

  <script>
    // Plant ASCII art stages
    const plantStages = [
      // Level 1 - Seed
      `<span style="color:#654">  ___</span>
<span style="color:#654"> /   \\</span>
<span style="color:#654">| <span style="color:#0f0">.</span> <span style="color:#0f0">.</span> |</span>
<span style="color:#654"> \\___/</span>
<span style="color:#654">___|___</span>`,
      
      // Level 2 - Sprout
      `<span style="color:#0f0">    |</span>
<span style="color:#0f0">   \\|/</span>
<span style="color:#0f0">    |</span>
<span style="color:#654">___|___</span>
<span style="color:#543">  ~~~</span>`,
      
      // Level 3 - Small plant
      `<span style="color:#0f0">   \\|/</span>
<span style="color:#0f0">  --<span style="color:#0ff">@</span>--</span>
<span style="color:#0f0">    |</span>
<span style="color:#0f0">   /|\\</span>
<span style="color:#654">___|___</span>`,
      
      // Level 4 - Growing
      `<span style="color:#0f0">  \\ | /</span>
<span style="color:#0f0"> --\\|/--</span>
<span style="color:#0f0">   <span style="color:#f0f">*</span>|<span style="color:#f0f">*</span></span>
<span style="color:#0f0">   /|\\</span>
<span style="color:#0f0">  / | \\</span>
<span style="color:#654">___|___</span>`,
      
      // Level 5 - Blooming
      `<span style="color:#0ff">    <span style="color:#f0f">‚úø</span></span>
<span style="color:#0f0">  \\\\|//</span>
<span style="color:#0f0"> <span style="color:#ff0">‚úø</span>-\\|/-<span style="color:#ff0">‚úø</span></span>
<span style="color:#0f0">    |</span>
<span style="color:#0f0">   /|\\</span>
<span style="color:#0f0">  //|\\\\</span>
<span style="color:#654">___|___</span>`,
      
      // Level 6 - Flowering
      `<span style="color:#f0f">   ‚úø<span style="color:#0ff">‚úø</span>‚úø</span>
<span style="color:#0f0">  \\\\\\|///</span>
<span style="color:#ff0"> ‚úø</span><span style="color:#0f0">--\\|/--</span><span style="color:#ff0">‚úø</span>
<span style="color:#0f0">    |||</span>
<span style="color:#0f0">   /|||\\</span>
<span style="color:#0f0">  //|||\\\\</span>
<span style="color:#654">____|____</span>`,
      
      // Level 7 - Majestic
      `<span style="color:#f0f">  ‚úø</span><span style="color:#0ff">‚úø</span><span style="color:#ff0">‚úø</span><span style="color:#f0f">‚úø</span><span style="color:#0ff">‚úø</span>
<span style="color:#0f0"> \\\\\\\\|////</span>
<span style="color:#ff0">‚úø</span><span style="color:#0f0">---\\|/---</span><span style="color:#ff0">‚úø</span>
<span style="color:#f0f"> ‚úø</span><span style="color:#0f0">--|||--</span><span style="color:#f0f">‚úø</span>
<span style="color:#0f0">   /|||\\</span>
<span style="color:#0f0">  //|||\\\\</span>
<span style="color:#0f0"> ///|||\\\\\\</span>
<span style="color:#654">____|____</span>`,
      
      // Level 8+ - Legendary
      `<span style="color:#ff0">    ‚òÖ</span>
<span style="color:#f0f"> ‚úø</span><span style="color:#0ff">‚úø</span><span style="color:#ff0">‚úø</span><span style="color:#f0f">‚úø</span><span style="color:#0ff">‚úø</span><span style="color:#ff0">‚úø</span><span style="color:#f0f">‚úø</span>
<span style="color:#0f0">\\\\\\\\\\|/////</span>
<span style="color:#ff0">‚úø</span><span style="color:#0f0">----\\|/----</span><span style="color:#ff0">‚úø</span>
<span style="color:#f0f"> ‚úø</span><span style="color:#0f0">---|||---</span><span style="color:#f0f">‚úø</span>
<span style="color:#0f0">   //|||\\\\</span>
<span style="color:#0f0">  ///|||\\\\\\</span>
<span style="color:#0f0"> ////|||\\\\\\\\</span>
<span style="color:#654">_____|_____</span>
<span style="color:#0f08">  ~~~~~~~</span>`
    ];
    
    // Game state
    let state = {
      level: 1,
      xp: 0,
      xpNeeded: 10,
      tasksCompleted: 0,
      waterLevel: 50,
      lastWatered: Date.now(),
      tasks: [],
      plantName: 'Sprout'
    };
    
    // Load saved state
    const saved = localStorage.getItem('plantCliState');
    if (saved) {
      state = { ...state, ...JSON.parse(saved) };
    }
    
    function saveState() {
      localStorage.setItem('plantCliState', JSON.stringify(state));
    }
    
    // DOM elements
    const plantDisplay = document.getElementById('plantDisplay');
    const output = document.getElementById('output');
    const cmdInput = document.getElementById('cmdInput');
    const tasksList = document.getElementById('tasksList');
    
    // Output messages
    function log(msg, type = '') {
      const line = document.createElement('div');
      line.className = 'output-line ' + type;
      line.textContent = '> ' + msg;
      output.appendChild(line);
      output.scrollTop = output.scrollHeight;
    }
    
    // Update display
    function updateDisplay() {
      const stageIndex = Math.min(state.level - 1, plantStages.length - 1);
      plantDisplay.innerHTML = plantStages[stageIndex];
      
      document.getElementById('levelVal').textContent = state.level;
      document.getElementById('xpVal').textContent = state.xp + '/' + state.xpNeeded;
      document.getElementById('xpBar').style.width = (state.xp / state.xpNeeded * 100) + '%';
      document.getElementById('tasksVal').textContent = state.tasksCompleted;
      
      renderTasks();
      saveState();
    }
    
    // Add XP and check level up
    function addXP(amount) {
      state.xp += amount;
      while (state.xp >= state.xpNeeded) {
        state.xp -= state.xpNeeded;
        state.level++;
        state.xpNeeded = Math.floor(state.xpNeeded * 1.5);
        log('LEVEL UP! Your plant is now level ' + state.level + '!', 'success');
        
        if (state.level === 2) log('Your seed has sprouted!', 'system');
        else if (state.level === 3) log('Leaves are growing!', 'system');
        else if (state.level === 4) log('Your plant is thriving!', 'system');
        else if (state.level === 5) log('Flowers are blooming!', 'system');
        else if (state.level === 6) log('Beautiful blossoms appear!', 'system');
        else if (state.level === 7) log('Your plant is majestic!', 'system');
        else if (state.level >= 8) log('LEGENDARY PLANT ACHIEVED!', 'success');
      }
      updateDisplay();
    }
    
    // Render tasks
    function renderTasks() {
      tasksList.innerHTML = '';
      state.tasks.forEach((task, i) => {
        const item = document.createElement('div');
        item.className = 'task-item' + (task.done ? ' completed' : '');
        item.innerHTML = '<span>' + (i + 1) + '. ' + task.text + '</span>' +
          (task.done ? '' : '<button class="task-complete-btn" onclick="completeTask(' + i + ')">done</button>');
        tasksList.appendChild(item);
      });
    }
    
    // Add task
    function addTask(text) {
      if (!text.trim()) {
        log('Usage: add <task description>', 'warning');
        return;
      }
      state.tasks.push({ text: text.trim(), done: false });
      log('Task added: "' + text.trim() + '"', 'success');
      updateDisplay();
    }
    
    // Complete task
    function completeTask(index) {
      if (index < 0 || index >= state.tasks.length) {
        log('Invalid task number', 'error');
        return;
      }
      if (state.tasks[index].done) {
        log('Task already completed', 'warning');
        return;
      }
      
      state.tasks[index].done = true;
      state.tasksCompleted++;
      const xpGain = 5 + Math.floor(Math.random() * 5);
      log('Task completed! +' + xpGain + ' XP', 'success');
      addXP(xpGain);
      
      // Bonus messages
      if (state.tasksCompleted % 5 === 0) {
        log('5 task streak! Bonus +5 XP!', 'success');
        addXP(5);
      }
    }
    
    // Water plant
    function waterPlant() {
      const now = Date.now();
      const timeSince = now - state.lastWatered;
      const minWait = 30000; // 30 seconds
      
      if (timeSince < minWait) {
        const wait = Math.ceil((minWait - timeSince) / 1000);
        log('Plant was just watered. Wait ' + wait + 's', 'warning');
        return;
      }
      
      state.lastWatered = now;
      state.waterLevel = Math.min(100, state.waterLevel + 30);
      const xpGain = 2;
      log('You watered your plant! +' + xpGain + ' XP', 'success');
      log('Water level: ' + state.waterLevel + '%', 'system');
      addXP(xpGain);
    }
    
    // Commands
    function runCmd(cmd) {
      const parts = cmd.trim().split(' ');
      const command = parts[0].toLowerCase();
      const args = parts.slice(1).join(' ');
      
      switch (command) {
        case 'help':
          log('=== PLANT CLI COMMANDS ===', 'system');
          log('add <task>  - Add a new task', 'system');
          log('done <num>  - Complete task #num', 'system');
          log('tasks       - List all tasks', 'system');
          log('water       - Water your plant (+XP)', 'system');
          log('status      - View plant status', 'system');
          log('name <name> - Name your plant', 'system');
          log('clear       - Clear output', 'system');
          log('reset       - Reset game (careful!)', 'system');
          break;
          
        case 'add':
          addTask(args);
          break;
          
        case 'done':
          completeTask(parseInt(args) - 1);
          break;
          
        case 'tasks':
          if (state.tasks.length === 0) {
            log('No tasks yet. Add one with: add <task>', 'system');
          } else {
            log('=== YOUR TASKS ===', 'system');
            state.tasks.forEach((t, i) => {
              log((i + 1) + '. [' + (t.done ? 'X' : ' ') + '] ' + t.text, t.done ? '' : 'warning');
            });
          }
          break;
          
        case 'water':
          waterPlant();
          break;
          
        case 'status':
          log('=== ' + state.plantName.toUpperCase() + ' STATUS ===', 'system');
          log('Level: ' + state.level, 'system');
          log('XP: ' + state.xp + '/' + state.xpNeeded, 'system');
          log('Tasks completed: ' + state.tasksCompleted, 'system');
          log('Pending tasks: ' + state.tasks.filter(t => !t.done).length, 'system');
          break;
          
        case 'name':
          if (args.trim()) {
            state.plantName = args.trim();
            log('Plant renamed to: ' + state.plantName, 'success');
            saveState();
          } else {
            log('Usage: name <plant name>', 'warning');
          }
          break;
          
        case 'clear':
          output.innerHTML = '';
          log('Output cleared', 'system');
          break;
          
        case 'reset':
          if (confirm('Reset all progress? This cannot be undone!')) {
            localStorage.removeItem('plantCliState');
            location.reload();
          }
          break;
          
        default:
          if (cmd.trim()) {
            // Treat unknown input as a task
            addTask(cmd.trim());
          }
      }
    }
    
    // Input handling
    cmdInput.addEventListener('keydown', (e) => {
      if (e.key === 'Enter') {
        const cmd = cmdInput.value.trim();
        if (cmd) {
          runCmd(cmd);
          cmdInput.value = '';
        }
      }
    });
    
    // Initialize
    log('Welcome to Plant CLI!', 'system');
    log('Complete tasks to grow your plant.', 'system');
    log('Type "help" for commands.', 'system');
    updateDisplay();
    
    // Water decay over time
    setInterval(() => {
      state.waterLevel = Math.max(0, state.waterLevel - 1);
      if (state.waterLevel < 20 && state.waterLevel > 0) {
        log('Your plant is thirsty! Type "water"', 'warning');
      }
      saveState();
    }, 60000);
  </script>
<script src="/sloppy-header/sloppy-bar.js"></script>
</body>
</html>
