<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gratitude Journal</title>
<link rel="icon" href="https://emojicdn.elk.sh/üôè">
<meta property="og:title" content="Gratitude Journal">
<meta property="og:description" content="Keep track of what you're grateful for each day">
<meta property="og:url" content="https://app.sloppy.live/gratitude-journal">
<meta property="og:image" content="https://app.sloppy.live/gratitude-journal/og-image.png">
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;background:linear-gradient(135deg,#1a1a2e 0%,#2d1b3d 50%,#44203c 100%);min-height:100vh;padding:20px;position:relative;overflow-x:hidden}
body::before{content:'';position:fixed;top:0;left:0;width:100%;height:100%;background:radial-gradient(circle at 30% 20%,rgba(255,180,100,0.1) 0%,transparent 50%),radial-gradient(circle at 70% 80%,rgba(255,120,150,0.08) 0%,transparent 50%),radial-gradient(circle at 50% 50%,rgba(255,200,150,0.05) 0%,transparent 70%);pointer-events:none;animation:aurora 15s ease-in-out infinite}
@keyframes aurora{0%,100%{opacity:0.8}50%{opacity:1}}
.container{max-width:800px;margin:0 auto;background:rgba(255,255,255,0.06);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border-radius:28px;padding:45px;box-shadow:0 20px 60px rgba(0,0,0,.4);border:1px solid rgba(255,255,255,0.08);position:relative;z-index:1}
h1{text-align:center;background:linear-gradient(135deg,#FFB366,#FF8C66,#FFD700);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:10px;font-size:2.8em;animation:glow 3s ease-in-out infinite}
@keyframes glow{0%,100%{filter:drop-shadow(0 0 8px rgba(255,179,102,0.3))}50%{filter:drop-shadow(0 0 16px rgba(255,179,102,0.5))}}
.subtitle{text-align:center;color:rgba(255,255,255,0.6);margin-bottom:35px;font-size:1.15em}
.entry-form{background:rgba(255,255,255,0.05);padding:28px;border-radius:20px;margin-bottom:30px;border:1px solid rgba(255,255,255,0.08)}
.entry-form label{display:block;margin-bottom:10px;font-weight:600;color:rgba(255,255,255,0.8);font-size:1.05em}
.entry-form textarea{width:100%;padding:18px;border:2px solid rgba(255,255,255,0.1);border-radius:14px;font-size:16px;font-family:inherit;resize:vertical;min-height:130px;transition:all .3s;background:rgba(255,255,255,0.05);color:white}
.entry-form textarea::placeholder{color:rgba(255,255,255,0.35)}
.entry-form textarea:focus{outline:none;border-color:rgba(255,179,102,0.5);box-shadow:0 0 25px rgba(255,179,102,0.15);background:rgba(255,255,255,0.08)}
.entry-form button{width:100%;padding:16px;background:linear-gradient(135deg,#FFB366 0%,#FF8C66 50%,#FF7744 100%);color:#fff;border:none;border-radius:14px;font-size:18px;font-weight:600;cursor:pointer;margin-top:18px;transition:all .3s;box-shadow:0 4px 20px rgba(255,140,102,0.3)}
.entry-form button:hover{transform:translateY(-3px);box-shadow:0 8px 30px rgba(255,140,102,0.45)}
.entry-form button:active{transform:translateY(-1px)}
.entry-form button:disabled{opacity:.5;cursor:not-allowed;transform:none}
.entries-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:22px;flex-wrap:wrap;gap:15px}
.entries-header h2{color:rgba(255,255,255,0.9);font-size:1.5em}
.filter-buttons{display:flex;gap:10px}
.filter-btn{padding:10px 18px;background:rgba(255,255,255,0.06);border:1px solid rgba(255,255,255,0.15);color:rgba(255,255,255,0.7);border-radius:12px;cursor:pointer;font-size:14px;font-weight:600;transition:all .3s}
.filter-btn:hover{background:rgba(255,179,102,0.15);border-color:rgba(255,179,102,0.3);color:rgba(255,255,255,0.9)}
.filter-btn.active{background:linear-gradient(135deg,rgba(255,179,102,0.3),rgba(255,140,102,0.3));border-color:rgba(255,179,102,0.5);color:#FFB366}
.entries-list{display:flex;flex-direction:column;gap:16px}
.entry-card{background:rgba(255,255,255,0.05);padding:22px;border-radius:18px;border-left:4px solid;border-image:linear-gradient(180deg,#FFB366,#FF8C66) 1;transition:all .3s;animation:fadeInUp 0.5s ease-out}
@keyframes fadeInUp{from{opacity:0;transform:translateY(15px)}to{opacity:1;transform:translateY(0)}}
.entry-card:hover{transform:translateX(6px);box-shadow:0 8px 25px rgba(0,0,0,.2);background:rgba(255,255,255,0.08)}
.entry-date{font-size:.9em;color:rgba(255,179,102,0.8);margin-bottom:12px;font-weight:600}
.entry-text{color:rgba(255,255,255,0.85);line-height:1.7;font-size:1.08em}
.entry-actions{margin-top:16px;display:flex;gap:12px}
.delete-btn{padding:8px 16px;background:rgba(231,76,60,0.2);color:#FF6B6B;border:1px solid rgba(231,76,60,0.3);border-radius:10px;cursor:pointer;font-size:14px;transition:all .3s;font-weight:500}
.delete-btn:hover{background:rgba(231,76,60,0.35);border-color:rgba(231,76,60,0.5);transform:translateY(-2px)}
.empty-state{text-align:center;padding:70px 25px;color:rgba(255,255,255,0.45)}
.empty-state-icon{font-size:4.5em;margin-bottom:22px;animation:float 3s ease-in-out infinite}
@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-10px)}}
.loading{text-align:center;padding:45px;color:#FFB366;font-size:1.2em}
.error{background:rgba(255,100,100,0.1);border:1px solid rgba(255,100,100,0.3);color:#FF8888;padding:18px;border-radius:14px;margin-bottom:22px;backdrop-filter:blur(10px)}
.backlink{margin-top:35px;text-align:center}
.backlink a{color:rgba(255,179,102,0.8);text-decoration:none;font-weight:600;padding:10px 20px;background:rgba(255,255,255,0.05);border-radius:12px;transition:all .3s;border:1px solid rgba(255,255,255,0.08)}
.backlink a:hover{background:rgba(255,255,255,0.1);transform:translateY(-2px);color:#FFB366}
@media (max-width:600px){
.container{padding:25px}
h1{font-size:2.2em}
.filter-buttons{flex-wrap:wrap;width:100%;justify-content:center}
.entries-header{flex-direction:column;align-items:flex-start}
}
</style>
</head>
<body>
<div class="container">
<h1>üôè Gratitude Journal</h1>
<p class="subtitle">What are you grateful for today?</p>
<div id="error" class="error" style="display:none"></div>
<div class="entry-form">
<label for="entryText">New Entry</label>
<textarea id="entryText" placeholder="I'm grateful for..."></textarea>
<button onclick="addEntry()">Add Entry ‚ú®</button>
</div>
<div class="entries-header">
<h2>Your Entries</h2>
<div class="filter-buttons">
<button class="filter-btn active" data-filter="all" onclick="filterEntries('all')">All</button>
<button class="filter-btn" data-filter="today" onclick="filterEntries('today')">Today</button>
<button class="filter-btn" data-filter="week" onclick="filterEntries('week')">This Week</button>
</div>
</div>
<div id="entriesList" class="entries-list">
<div class="loading">Loading your entries...</div>
</div>
<div class="backlink">
<a href="https://sloppy.live" target="_blank">‚Üê Back to VibeCodedByX livestream</a> | <a href="https://app.sloppy.live/overview" style="color:#4ecdc4;text-decoration:none">üé® View All Apps</a>
</div>
</div>
<script type="module">
import supabase,{supabaseSession} from '../../supabase-config.js';
let currentUser=null,currentFilter='all',allEntries=[];
const showError=msg=>{
const el=document.getElementById('error');
el.textContent=msg;
el.style.display='block';
setTimeout(()=>el.style.display='none',5e3)
};
const initSupabase=async()=>{
try{
const{user}=await supabaseSession();
currentUser=user;
loadEntries()
}catch(error){showError('Failed to initialize: '+error.message)}
};
const addEntry=async()=>{
const entryText=document.getElementById('entryText').value.trim();
if(!entryText){showError('Please enter something you\'re grateful for!');return}
try{
const{data,error}=await supabase.from('gratitude_entries').insert([{entry_text:entryText,entry_date:new Date().toISOString(),user_id:currentUser.id}]).select();
if(error)throw error;
document.getElementById('entryText').value='';
loadEntries()
}catch(error){showError('Failed to add entry: '+error.message)}
};
const loadEntries=async()=>{
try{
const{data,error}=await supabase.from('gratitude_entries').select('*').eq('user_id',currentUser.id).order('entry_date',{ascending:false});
if(error)throw error;
allEntries=data||[];
displayEntries()
}catch(error){showError('Failed to load entries: '+error.message)}
};
const displayEntries=()=>{
const entriesList=document.getElementById('entriesList');
let filteredEntries=filterEntriesByDate(allEntries);
if(filteredEntries.length===0){
entriesList.innerHTML='<div class="empty-state"><div class="empty-state-icon">üìù</div><p>No entries yet. Start by adding what you\'re grateful for!</p></div>';
return
}
entriesList.textContent='';
filteredEntries.forEach(entry=>{
const card=document.createElement('div');
card.className='entry-card';
const dateDiv=document.createElement('div');
dateDiv.className='entry-date';
dateDiv.textContent=formatDate(entry.entry_date);
const textDiv=document.createElement('div');
textDiv.className='entry-text';
textDiv.textContent=entry.entry_text;
const actionsDiv=document.createElement('div');
actionsDiv.className='entry-actions';
const deleteBtn=document.createElement('button');
deleteBtn.className='delete-btn';
deleteBtn.textContent='Delete';
deleteBtn.onclick=()=>deleteEntry(entry.id);
actionsDiv.appendChild(deleteBtn);
card.appendChild(dateDiv);
card.appendChild(textDiv);
card.appendChild(actionsDiv);
entriesList.appendChild(card)
})
};
const filterEntriesByDate=entries=>{
const now=new Date(),today=new Date(now.getFullYear(),now.getMonth(),now.getDate()),weekAgo=new Date(today);
weekAgo.setDate(weekAgo.getDate()-7);
if(currentFilter==='today')return entries.filter(entry=>new Date(entry.entry_date)>=today);
else if(currentFilter==='week')return entries.filter(entry=>new Date(entry.entry_date)>=weekAgo);
return entries
};
const filterEntries=filter=>{
currentFilter=filter;
document.querySelectorAll('.filter-btn').forEach(btn=>{
btn.classList.remove('active');
if(btn.dataset.filter===filter)btn.classList.add('active')
});
displayEntries()
};
const deleteEntry=async id=>{
if(!confirm('Are you sure you want to delete this entry?'))return;
try{
const{error}=await supabase.from('gratitude_entries').delete().eq('id',id);
if(error)throw error;
loadEntries()
}catch(error){showError('Failed to delete entry: '+error.message)}
};
const formatDate=dateString=>{
const date=new Date(dateString),now=new Date(),today=new Date(now.getFullYear(),now.getMonth(),now.getDate()),yesterday=new Date(today);
yesterday.setDate(yesterday.getDate()-1);
if(date>=today)return 'Today, '+date.toLocaleTimeString('en-US',{hour:'numeric',minute:'2-digit'});
else if(date>=yesterday)return 'Yesterday, '+date.toLocaleTimeString('en-US',{hour:'numeric',minute:'2-digit'});
else return date.toLocaleDateString('en-US',{month:'short',day:'numeric',year:'numeric'})
};
window.addEntry=addEntry;
window.filterEntries=filterEntries;
window.deleteEntry=deleteEntry;
initSupabase();
document.getElementById('entryText').addEventListener('keydown',e=>{
if(e.key==='Enter'&&e.ctrlKey)addEntry()
})
</script>
<script src="/sloppy-header/sloppy-bar.js"></script>
<script src="/vibelib-extended.js"></script>
<script>
  // Compatibility Patch for Legacy Apps
  window.addEventListener("load", () => {
    if (window.SloppyKarma && window.VibeLib.Economy) {
      // Redirect old calls to new engine
      window.SloppyKarma.track = window.VibeLib.Economy.track;
    }
  });
</script>
</body>
</html>
