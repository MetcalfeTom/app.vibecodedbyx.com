<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>UCMJ Translator - All 146 Articles in 6 Languages</title>
  <link rel="icon" href="https://emojicdn.elk.sh/‚öñÔ∏è">
  <meta name="description" content="Complete UCMJ - all 146 articles translated into Spanish, German, French, Korean, and Arabic.">
  <meta property="og:title" content="UCMJ Translator - All 146 Articles in 6 Languages">
  <meta property="og:description" content="Complete UCMJ - all 146 articles translated into Spanish, German, French, Korean, and Arabic.">
  <meta property="og:url" content="https://app.sloppy.live/ucmj-translator">
  <meta property="og:image" content="https://emojicdn.elk.sh/‚öñÔ∏è?style=twitter">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;500;600;700&family=IBM+Plex+Mono:wght@400;500&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      background: #0d1117;
      color: #c9d1d9;
      font-family: 'IBM Plex Sans', sans-serif;
      min-height: 100vh;
      line-height: 1.6;
    }

    .header {
      background: linear-gradient(180deg, #1a2332 0%, #0d1117 100%);
      border-bottom: 2px solid #2d5016;
      padding: 20px;
      text-align: center;
    }

    .header-badge {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 10px;
    }

    .eagle {
      font-size: 32px;
    }

    h1 {
      font-size: 28px;
      font-weight: 700;
      color: #58a6ff;
      letter-spacing: 2px;
    }

    .subtitle {
      color: #8b949e;
      font-size: 14px;
      margin-top: 5px;
    }

    .container {
      max-width: 1000px;
      margin: 0 auto;
      padding: 20px;
    }

    .controls {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
      margin-bottom: 20px;
      align-items: center;
    }

    .language-selector {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    .lang-btn {
      padding: 8px 16px;
      font-family: 'IBM Plex Sans', sans-serif;
      font-size: 13px;
      font-weight: 500;
      background: #21262d;
      border: 1px solid #30363d;
      color: #c9d1d9;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .lang-btn:hover {
      background: #30363d;
      border-color: #58a6ff;
    }

    .lang-btn.active {
      background: #388bfd26;
      border-color: #58a6ff;
      color: #58a6ff;
    }

    .search-box {
      flex: 1;
      min-width: 200px;
      padding: 10px 15px;
      font-family: 'IBM Plex Sans', sans-serif;
      font-size: 14px;
      background: #0d1117;
      border: 1px solid #30363d;
      color: #c9d1d9;
      border-radius: 6px;
    }

    .search-box:focus {
      outline: none;
      border-color: #58a6ff;
      box-shadow: 0 0 0 3px #388bfd33;
    }

    .search-box::placeholder {
      color: #6e7681;
    }

    .articles-grid {
      display: grid;
      gap: 15px;
    }

    .article-card {
      background: #161b22;
      border: 1px solid #30363d;
      border-radius: 8px;
      overflow: hidden;
      transition: border-color 0.2s;
    }

    .article-card:hover {
      border-color: #58a6ff;
    }

    .article-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 12px 16px;
      background: #21262d;
      border-bottom: 1px solid #30363d;
      cursor: pointer;
    }

    .article-number {
      font-family: 'IBM Plex Mono', monospace;
      font-size: 14px;
      font-weight: 600;
      color: #2d5016;
      background: #2d501633;
      padding: 4px 10px;
      border-radius: 4px;
    }

    .article-title {
      flex: 1;
      margin-left: 15px;
      font-weight: 600;
      color: #c9d1d9;
    }

    .expand-icon {
      color: #6e7681;
      transition: transform 0.2s;
    }

    .article-card.expanded .expand-icon {
      transform: rotate(180deg);
    }

    .article-content {
      display: none;
      padding: 16px;
    }

    .article-card.expanded .article-content {
      display: block;
    }

    .translation-block {
      margin-bottom: 15px;
      padding: 12px;
      background: #0d1117;
      border-radius: 6px;
      border-left: 3px solid #2d5016;
    }

    .translation-block:last-child {
      margin-bottom: 0;
    }

    .translation-label {
      font-size: 11px;
      font-weight: 600;
      color: #8b949e;
      text-transform: uppercase;
      letter-spacing: 1px;
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .translation-label .flag {
      font-size: 14px;
    }

    .translation-text {
      font-size: 14px;
      line-height: 1.7;
      color: #c9d1d9;
    }

    .original-label {
      color: #58a6ff;
    }

    .disclaimer {
      margin-top: 30px;
      padding: 15px;
      background: #2d1b1b;
      border: 1px solid #5c3030;
      border-radius: 6px;
      font-size: 12px;
      color: #f0b0b0;
    }

    .disclaimer strong {
      color: #ff6b6b;
    }

    .stats {
      display: flex;
      gap: 20px;
      margin-bottom: 20px;
      font-size: 13px;
      color: #8b949e;
    }

    .stat {
      display: flex;
      align-items: center;
      gap: 5px;
    }

    .stat-value {
      color: #58a6ff;
      font-weight: 600;
    }

    .backlink {
      display: block;
      text-align: center;
      margin-top: 30px;
      color: #6e7681;
      font-size: 12px;
      text-decoration: none;
    }

    .backlink:hover { color: #58a6ff; }

    @media (max-width: 600px) {
      h1 { font-size: 20px; }
      .controls { flex-direction: column; }
      .language-selector { width: 100%; justify-content: center; }
      .search-box { width: 100%; }
    }

    .copy-btn {
      padding: 4px 8px;
      font-size: 11px;
      background: #21262d;
      border: 1px solid #30363d;
      color: #8b949e;
      border-radius: 4px;
      cursor: pointer;
      margin-left: auto;
    }

    .copy-btn:hover {
      background: #30363d;
      color: #c9d1d9;
    }

    .cases-section {
      margin-top: 15px;
      padding-top: 15px;
      border-top: 1px solid #30363d;
    }

    .cases-title {
      font-size: 12px;
      font-weight: 600;
      color: #f0883e;
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .case-card {
      background: #1c2128;
      border: 1px solid #30363d;
      border-left: 3px solid #f0883e;
      border-radius: 6px;
      padding: 12px;
      margin-bottom: 10px;
    }

    .case-card:last-child {
      margin-bottom: 0;
    }

    .case-name {
      font-weight: 600;
      color: #58a6ff;
      font-size: 13px;
      margin-bottom: 4px;
    }

    .case-year {
      font-size: 11px;
      color: #8b949e;
      margin-bottom: 8px;
    }

    .case-summary {
      font-size: 13px;
      color: #c9d1d9;
      line-height: 1.5;
    }

    .case-outcome {
      margin-top: 8px;
      font-size: 12px;
      color: #7ee787;
      font-style: italic;
    }

    .section-filter {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-bottom: 15px;
    }

    .section-btn {
      padding: 6px 12px;
      font-size: 11px;
      background: #21262d;
      border: 1px solid #30363d;
      color: #8b949e;
      border-radius: 20px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .section-btn:hover, .section-btn.active {
      background: #388bfd26;
      border-color: #58a6ff;
      color: #58a6ff;
    }
  </style>
</head>
<body>
  <header class="header">
    <div class="header-badge">
      <span class="eagle">ü¶Ö</span>
      <span class="eagle">‚öñÔ∏è</span>
    </div>
    <h1>UCMJ TRANSLATOR</h1>
    <p class="subtitle">Uniform Code of Military Justice ‚Ä¢ All 146 Articles ‚Ä¢ 6 Languages</p>
  </header>

  <div class="container">
    <div class="controls">
      <div class="language-selector">
        <button class="lang-btn active" data-lang="en">üá∫üá∏ English</button>
        <button class="lang-btn" data-lang="es">üá™üá∏ Espa√±ol</button>
        <button class="lang-btn" data-lang="de">üá©üá™ Deutsch</button>
        <button class="lang-btn" data-lang="fr">üá´üá∑ Fran√ßais</button>
        <button class="lang-btn" data-lang="ko">üá∞üá∑ ÌïúÍµ≠Ïñ¥</button>
        <button class="lang-btn" data-lang="ar">üá∏üá¶ ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</button>
      </div>
      <input type="text" class="search-box" id="searchBox" placeholder="Search articles...">
    </div>

    <div class="stats">
      <div class="stat">Articles: <span class="stat-value" id="articleCount">0</span></div>
      <div class="stat">Languages: <span class="stat-value">6</span></div>
    </div>

    <div class="articles-grid" id="articlesGrid"></div>

    <div class="disclaimer">
      <strong>‚ö†Ô∏è DISCLAIMER:</strong> This tool provides unofficial translations for educational purposes only.
      These translations are not legally binding and should not be used as legal advice.
      For official legal matters, consult a qualified military attorney (JAG) and refer to the official UCMJ text.
    </div>

    <a href="https://sloppy.live" class="backlink">sloppy.live</a>
  </div>

  <script>
    // UCMJ Articles - loaded from JSON chunks
    let ucmjArticles = [];
    let isLoading = true;

    // JSON chunk files to load
    const jsonChunks = [
      'data/articles-1-35.json',
      'data/articles-36-76.json',
      'data/articles-77-110.json',
      'data/articles-111-146.json'
    ];

    // Load all JSON chunks and merge articles
    async function loadArticles() {
      try {
        const allArticles = [];

        for (const chunk of jsonChunks) {
          const response = await fetch(chunk);
          if (response.ok) {
            const data = await response.json();
            if (data.articles) {
              allArticles.push(...data.articles);
            }
          }
        }

        ucmjArticles = allArticles;
        isLoading = false;
        renderArticles();
      } catch (error) {
        console.error('Error loading articles:', error);
        isLoading = false;
        document.getElementById('articlesGrid').innerHTML =
          '<div style="text-align:center;padding:40px;color:#f0b0b0;">Error loading articles. Please refresh the page.</div>';
      }
    }

    // State
    let selectedLang = 'en';
    let searchTerm = '';

    // Render articles
    function renderArticles() {
      const grid = document.getElementById('articlesGrid');

      if (isLoading) {
        grid.innerHTML = '<div style="text-align:center;padding:40px;color:#8b949e;">‚è≥ Loading all 146 articles...</div>';
        document.getElementById('articleCount').textContent = '...';
        return;
      }

      const filtered = ucmjArticles.filter(article => {
        const searchLower = searchTerm.toLowerCase();
        return article.number.toLowerCase().includes(searchLower) ||
               article.title.toLowerCase().includes(searchLower) ||
               article.translations.en.toLowerCase().includes(searchLower);
      });

      document.getElementById('articleCount').textContent = filtered.length;

      grid.innerHTML = filtered.map((article, index) => `
        <div class="article-card" data-index="${index}">
          <div class="article-header" onclick="toggleArticle(${index})">
            <span class="article-number">${article.number}</span>
            <span class="article-title">${article.title}</span>
            <span class="expand-icon">‚ñº</span>
          </div>
          <div class="article-content">
            <div class="translation-block">
              <div class="translation-label original-label">
                <span class="flag">üá∫üá∏</span> ENGLISH (ORIGINAL)
              </div>
              <div class="translation-text">${article.translations.en}</div>
            </div>
            ${selectedLang !== 'en' ? `
              <div class="translation-block">
                <div class="translation-label">
                  <span class="flag">${getFlag(selectedLang)}</span> ${getLangName(selectedLang)}
                  <button class="copy-btn" onclick="copyText(event, '${escapeQuotes(article.translations[selectedLang])}')">Copy</button>
                </div>
                <div class="translation-text">${article.translations[selectedLang]}</div>
              </div>
            ` : ''}
            ${article.cases && article.cases.length > 0 ? `
              <div class="cases-section">
                <div class="cases-title">üìö HISTORICAL CASES</div>
                ${article.cases.map(c => `
                  <div class="case-card">
                    <div class="case-name">${c.name}</div>
                    <div class="case-year">${c.year}</div>
                    <div class="case-summary">${c.summary}</div>
                    <div class="case-outcome">‚öñÔ∏è ${c.outcome}</div>
                  </div>
                `).join('')}
              </div>
            ` : ''}
          </div>
        </div>
      `).join('');
    }

    function getFlag(lang) {
      const flags = { en: 'üá∫üá∏', es: 'üá™üá∏', de: 'üá©üá™', fr: 'üá´üá∑', ko: 'üá∞üá∑', ar: 'üá∏üá¶' };
      return flags[lang] || 'üè≥Ô∏è';
    }

    function getLangName(lang) {
      const names = { en: 'ENGLISH', es: 'ESPA√ëOL', de: 'DEUTSCH', fr: 'FRAN√áAIS', ko: 'ÌïúÍµ≠Ïñ¥', ar: 'ÿßŸÑÿπÿ±ÿ®Ÿäÿ©' };
      return names[lang] || lang.toUpperCase();
    }

    function escapeQuotes(str) {
      return str.replace(/'/g, "\\'").replace(/"/g, '\\"');
    }

    function toggleArticle(index) {
      const cards = document.querySelectorAll('.article-card');
      cards[index].classList.toggle('expanded');
    }

    function copyText(event, text) {
      event.stopPropagation();
      navigator.clipboard.writeText(text).then(() => {
        const btn = event.target;
        btn.textContent = 'Copied!';
        setTimeout(() => btn.textContent = 'Copy', 1500);
      });
    }

    // Event listeners
    document.querySelectorAll('.lang-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        selectedLang = btn.dataset.lang;
        renderArticles();
      });
    });

    document.getElementById('searchBox').addEventListener('input', (e) => {
      searchTerm = e.target.value;
      renderArticles();
    });

    // Initialize - load articles then render
    renderArticles();
    loadArticles();
  </script>
<script src="/apps/sloppy-header/sloppy-bar.js"></script>
<script src="/vibelib-extended.js"></script>
<script>
  // Compatibility Patch for Legacy Apps
  window.addEventListener("load", () => {
    if (window.SloppyKarma && window.VibeLib.Economy) {
      // Redirect old calls to new engine
      window.SloppyKarma.track = window.VibeLib.Economy.track;
    }
  });
</script>
</body>
</html>
