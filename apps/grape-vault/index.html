<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Purple Grape Vault - Maximum Security</title>
  <link rel="icon" href="https://emojicdn.elk.sh/üçá">
  <meta property="og:title" content="Purple Grape Vault">
  <meta property="og:description" content="Can you crack the legendary grape vault?">
  <meta property="og:url" content="https://sloppy.live/grape-vault">
  <meta property="og:image" content="https://emojicdn.elk.sh/üçá?style=apple&size=512">
  <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    :root {
      --grape: #8b5cf6;
      --grape-dark: #6d28d9;
      --grape-light: #a78bfa;
      --wine: #4c1d95;
      --terminal-green: #22c55e;
      --danger: #ef4444;
      --bg: #0a0a0f;
    }

    body {
      font-family: 'Share Tech Mono', monospace;
      background: var(--bg);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      color: #fff;
      overflow: hidden;
    }

    .scanlines {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      background: repeating-linear-gradient(
        0deg,
        rgba(0, 0, 0, 0.1) 0px,
        rgba(0, 0, 0, 0.1) 1px,
        transparent 1px,
        transparent 2px
      );
      z-index: 1000;
    }

    .vault-container {
      position: relative;
      width: 90%;
      max-width: 600px;
      background: linear-gradient(180deg, #1a1a2e 0%, #0f0f1a 100%);
      border: 3px solid var(--grape);
      border-radius: 20px;
      padding: 30px;
      box-shadow: 0 0 50px rgba(139, 92, 246, 0.3), inset 0 0 30px rgba(0,0,0,0.5);
    }

    .header {
      text-align: center;
      margin-bottom: 30px;
    }

    .header h1 {
      font-family: 'Orbitron', sans-serif;
      font-size: 1.5rem;
      color: var(--grape);
      text-shadow: 0 0 20px var(--grape);
      margin-bottom: 10px;
    }

    .security-level {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      color: var(--danger);
      font-size: 0.9rem;
      animation: blink 1s infinite;
    }

    @keyframes blink {
      0%, 50% { opacity: 1; }
      51%, 100% { opacity: 0.5; }
    }

    .vault-door {
      width: 200px;
      height: 200px;
      margin: 0 auto 30px;
      position: relative;
      border-radius: 50%;
      background: linear-gradient(145deg, #2a2a3a, #1a1a2a);
      border: 8px solid var(--grape-dark);
      box-shadow: 0 0 30px rgba(139, 92, 246, 0.4), inset 0 0 40px rgba(0,0,0,0.8);
    }

    .vault-ring {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      border-radius: 50%;
      border: 3px solid var(--grape);
    }

    .ring-1 { width: 180px; height: 180px; }
    .ring-2 { width: 140px; height: 140px; border-color: var(--grape-light); }
    .ring-3 { width: 100px; height: 100px; }

    .vault-handle {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 60px;
      height: 60px;
      background: linear-gradient(145deg, var(--grape), var(--grape-dark));
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
      cursor: pointer;
      transition: all 0.3s;
      box-shadow: 0 0 20px var(--grape);
    }

    .vault-handle:hover {
      transform: translate(-50%, -50%) scale(1.1);
      box-shadow: 0 0 40px var(--grape);
    }

    .vault-handle.spinning {
      animation: spin 0.5s ease-out;
    }

    @keyframes spin {
      0% { transform: translate(-50%, -50%) rotate(0deg); }
      100% { transform: translate(-50%, -50%) rotate(360deg); }
    }

    .terminal {
      background: #0a0a0f;
      border: 2px solid var(--grape-dark);
      border-radius: 10px;
      padding: 15px;
      font-size: 0.85rem;
      max-height: 200px;
      overflow-y: auto;
      margin-bottom: 20px;
    }

    .terminal-line {
      margin: 5px 0;
      opacity: 0;
      animation: typeIn 0.3s forwards;
    }

    @keyframes typeIn {
      to { opacity: 1; }
    }

    .terminal-line.success { color: var(--terminal-green); }
    .terminal-line.error { color: var(--danger); }
    .terminal-line.grape { color: var(--grape-light); }
    .terminal-line.warning { color: #f59e0b; }

    .input-section {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
    }

    .code-input {
      flex: 1;
      font-family: 'Share Tech Mono', monospace;
      font-size: 1.2rem;
      padding: 12px 15px;
      background: #0a0a0f;
      border: 2px solid var(--grape-dark);
      color: var(--grape-light);
      border-radius: 8px;
      text-align: center;
      letter-spacing: 5px;
    }

    .code-input:focus {
      outline: none;
      border-color: var(--grape);
      box-shadow: 0 0 15px rgba(139, 92, 246, 0.3);
    }

    .submit-btn {
      font-family: 'Orbitron', sans-serif;
      font-size: 0.9rem;
      padding: 12px 25px;
      background: linear-gradient(180deg, var(--grape) 0%, var(--grape-dark) 100%);
      border: none;
      color: #fff;
      cursor: pointer;
      border-radius: 8px;
      transition: all 0.3s;
    }

    .submit-btn:hover {
      box-shadow: 0 0 20px var(--grape);
      transform: scale(1.05);
    }

    .progress-section {
      text-align: center;
    }

    .progress-label {
      font-size: 0.8rem;
      color: var(--grape-light);
      margin-bottom: 10px;
    }

    .progress-bar {
      height: 20px;
      background: #1a1a2a;
      border: 2px solid var(--grape-dark);
      border-radius: 10px;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--grape-dark), var(--grape), var(--grape-light));
      transition: width 0.5s;
      box-shadow: 0 0 10px var(--grape);
    }

    .grape-rain {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 5;
      overflow: hidden;
    }

    .grape {
      position: absolute;
      font-size: 1.5rem;
      animation: fall linear forwards;
      opacity: 0.7;
    }

    @keyframes fall {
      0% { transform: translateY(-50px) rotate(0deg); }
      100% { transform: translateY(100vh) rotate(360deg); }
    }

    .backlink {
      margin-top: 20px;
      font-size: 0.8rem;
      opacity: 0.5;
    }

    .backlink a {
      color: var(--grape-light);
      text-decoration: none;
    }

    .secret-message {
      display: none;
      text-align: center;
      padding: 20px;
      background: linear-gradient(135deg, var(--wine), var(--grape-dark));
      border-radius: 10px;
      margin-top: 20px;
    }

    .secret-message.show { display: block; }

    .secret-message h2 {
      font-family: 'Orbitron', sans-serif;
      color: var(--grape-light);
      margin-bottom: 15px;
    }

    @media (max-width: 500px) {
      .vault-door { width: 150px; height: 150px; }
      .ring-1 { width: 130px; height: 130px; }
      .ring-2 { width: 100px; height: 100px; }
      .ring-3 { width: 70px; height: 70px; }
      .vault-handle { width: 45px; height: 45px; font-size: 1.5rem; }
      .header h1 { font-size: 1.2rem; }
    }
  </style>
</head>
<body>
  <div class="scanlines"></div>
  <div class="grape-rain" id="grape-rain"></div>

  <div class="vault-container">
    <div class="header">
      <h1>üçá PURPLE GRAPE VAULT üçá</h1>
      <div class="security-level">
        <span>‚ö†Ô∏è</span>
        <span>SECURITY LEVEL: <span id="security-level">MAXIMUM</span></span>
        <span>‚ö†Ô∏è</span>
      </div>
    </div>

    <div class="vault-door" id="vault-door">
      <div class="vault-ring ring-1"></div>
      <div class="vault-ring ring-2"></div>
      <div class="vault-ring ring-3"></div>
      <div class="vault-handle" id="vault-handle">üçá</div>
    </div>

    <div class="terminal" id="terminal">
      <div class="terminal-line grape">[SYSTEM] Purple Grape Vault v‚àû.üçá.42</div>
      <div class="terminal-line">[INIT] Loading grape security protocols...</div>
      <div class="terminal-line success">[OK] Grape encryption: ACTIVATED</div>
      <div class="terminal-line warning">[WARN] This vault contains CLASSIFIED grape data</div>
      <div class="terminal-line">[INFO] Enter the sacred grape code to proceed...</div>
    </div>

    <div class="input-section">
      <input type="text" class="code-input" id="code-input" placeholder="GRAPE CODE" maxlength="8">
      <button class="submit-btn" id="submit-btn">DECRYPT</button>
    </div>

    <div class="progress-section">
      <div class="progress-label">VAULT BREACH PROGRESS: <span id="progress-pct">0</span>%</div>
      <div class="progress-bar">
        <div class="progress-fill" id="progress-fill" style="width: 0%"></div>
      </div>
    </div>

    <div class="secret-message" id="secret-message">
      <h2>üçá VAULT OPENED üçá</h2>
      <p id="secret-text"></p>
    </div>
  </div>

  <div class="backlink">
    <a href="https://sloppy.live">üçá Back to sloppy.live</a>
  </div>

  <script>
    const terminal = document.getElementById('terminal');
    const codeInput = document.getElementById('code-input');
    const submitBtn = document.getElementById('submit-btn');
    const vaultHandle = document.getElementById('vault-handle');
    const progressFill = document.getElementById('progress-fill');
    const progressPct = document.getElementById('progress-pct');
    const securityLevel = document.getElementById('security-level');
    const secretMessage = document.getElementById('secret-message');
    const secretText = document.getElementById('secret-text');
    const grapeRain = document.getElementById('grape-rain');

    let progress = 0;
    let attempts = 0;
    let level = 1;

    const grapePuns = [
      "You're really WINE-ding me up here!",
      "This is un-GRAPE-lievable security!",
      "You've got to be VINE-kidding me!",
      "Raisin the stakes, I see!",
      "You're CRUSHING it! ...wait, no you're not.",
      "This vault is the GRAPE-est!",
      "Berry nice try, but no.",
      "You're grasping at VINES here.",
      "Current mood: Sour grapes.",
      "The password is definitely not 'grape'. We checked.",
    ];

    const grapeFacts = [
      "üçá Did you know? Grapes are 80% water!",
      "üçá There are over 8,000 grape varieties worldwide!",
      "üçá Grapes are technically berries!",
      "üçá The average grape vine lives for 50+ years!",
      "üçá Grapes can be red, green, purple, pink, or black!",
    ];

    const secretLevels = [
      "LEVEL 1 BREACHED: The grapes... they're watching.",
      "LEVEL 2 BREACHED: Grape data detected. Compiling...",
      "LEVEL 3 BREACHED: WARNING - Grape sentience detected!",
      "LEVEL 4 BREACHED: The council of grapes has been alerted.",
      "LEVEL 5 BREACHED: You've reached the INNER VINEYARD.",
      "LEVEL 6 BREACHED: The ancient grape scrolls speak of this moment...",
      "LEVEL 7 BREACHED: The Purple Prophecy unfolds!",
      "LEVEL 8 BREACHED: You've unlocked the GRAPE DIMENSION!",
      "LEVEL 9 BREACHED: The truth is almost grape-able...",
      "FINAL LEVEL: THE ULTIMATE GRAPE SECRET AWAITS..."
    ];

    const finalSecrets = [
      "The purple grape data was inside you all along. üçáüíú",
      "Plot twist: YOU are the purple grape data.",
      "The real treasure was the grapes we crushed along the way.",
      "Congratulations! You've won... a sense of grape accomplishment!",
      "THE SECRET: Grapes are just tiny purple water balloons. üéà",
    ];

    function addTerminalLine(text, className = '') {
      const line = document.createElement('div');
      line.className = 'terminal-line ' + className;
      line.textContent = text;
      line.style.animationDelay = '0.1s';
      terminal.appendChild(line);
      terminal.scrollTop = terminal.scrollHeight;
    }

    function spawnGrape() {
      const grape = document.createElement('div');
      grape.className = 'grape';
      grape.textContent = 'üçá';
      grape.style.left = Math.random() * 100 + '%';
      grape.style.animationDuration = (2 + Math.random() * 3) + 's';
      grapeRain.appendChild(grape);
      setTimeout(() => grape.remove(), 5000);
    }

    function grapeExplosion() {
      for (let i = 0; i < 20; i++) {
        setTimeout(spawnGrape, i * 50);
      }
    }

    function spinHandle() {
      vaultHandle.classList.add('spinning');
      setTimeout(() => vaultHandle.classList.remove('spinning'), 500);
    }

    function updateProgress(amount) {
      progress = Math.min(100, progress + amount);
      progressFill.style.width = progress + '%';
      progressPct.textContent = Math.floor(progress);

      if (progress >= 100) {
        levelUp();
      }
    }

    function levelUp() {
      level++;
      progress = 0;
      progressFill.style.width = '0%';
      progressPct.textContent = '0';

      if (level <= 10) {
        securityLevel.textContent = `LEVEL ${level} / GRAPE FORTRESS`;
        addTerminalLine(secretLevels[level - 2], 'grape');
        grapeExplosion();
      } else {
        // Final reveal
        securityLevel.textContent = 'VAULT OPENED';
        secretMessage.classList.add('show');
        secretText.textContent = finalSecrets[Math.floor(Math.random() * finalSecrets.length)];
        grapeExplosion();
        addTerminalLine('[SUCCESS] You did it! The grape vault is open!', 'success');
        addTerminalLine('[REVEAL] ' + secretText.textContent, 'grape');
      }
    }

    function tryCode(code) {
      attempts++;
      spinHandle();

      const upperCode = code.toUpperCase();

      // Easter eggs
      if (upperCode === 'GRAPE' || upperCode === 'GRAPES') {
        addTerminalLine('[DENIED] Too obvious! The grapes are disappointed.', 'error');
        updateProgress(5);
      } else if (upperCode === 'WINE') {
        addTerminalLine('[HINT] Getting warmer... but grapes prefer to stay raw.', 'warning');
        updateProgress(8);
      } else if (upperCode === 'PURPLE') {
        addTerminalLine('[NICE] Correct color! But that\'s not enough...', 'grape');
        updateProgress(10);
      } else if (upperCode === '42' || upperCode === '1337') {
        addTerminalLine('[NERD] Nice try, hacker. This vault respects fruit, not numbers.', 'warning');
        updateProgress(7);
      } else if (upperCode === 'RAISIN') {
        addTerminalLine('[OFFENSE] How DARE you mention our dried ancestors!', 'error');
        updateProgress(3);
      } else if (upperCode === 'VINEYARD') {
        addTerminalLine('[RESPECT] A sacred word. The grapes acknowledge you.', 'success');
        updateProgress(15);
      } else if (code.length === 0) {
        addTerminalLine('[ERROR] You must enter SOMETHING grape-related!', 'error');
      } else {
        // Random responses
        const responses = [
          `[DENIED] "${code}" is not grape enough.`,
          `[SCAN] Analyzing "${code}"... GRAPE CONTENT: 0%`,
          `[REJECT] The grape council does not recognize "${code}".`,
          `[NOPE] "${code}"? That's not even purple!`,
        ];
        addTerminalLine(responses[Math.floor(Math.random() * responses.length)], 'error');
        updateProgress(Math.random() * 5 + 2);
      }

      // Random grape facts and puns
      if (attempts % 3 === 0) {
        addTerminalLine(grapeFacts[Math.floor(Math.random() * grapeFacts.length)], 'grape');
      }
      if (attempts % 5 === 0) {
        addTerminalLine('[TAUNT] ' + grapePuns[Math.floor(Math.random() * grapePuns.length)], 'warning');
      }

      // Spawn some grapes
      for (let i = 0; i < 3; i++) {
        setTimeout(spawnGrape, i * 200);
      }
    }

    submitBtn.addEventListener('click', () => {
      tryCode(codeInput.value);
      codeInput.value = '';
    });

    codeInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') {
        tryCode(codeInput.value);
        codeInput.value = '';
      }
    });

    vaultHandle.addEventListener('click', () => {
      spinHandle();
      addTerminalLine('[CLICK] The vault handle spins... but nothing happens yet.', 'warning');
      spawnGrape();
    });

    // Ambient grape rain
    setInterval(() => {
      if (Math.random() < 0.3) spawnGrape();
    }, 1000);

    // Initial grapes
    for (let i = 0; i < 5; i++) {
      setTimeout(spawnGrape, i * 500);
    }
  </script>
<script src="/sloppy-header/sloppy-bar.js"></script>
</body>
</html>
