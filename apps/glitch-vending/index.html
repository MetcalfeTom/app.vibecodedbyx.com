<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Neon Glitch Vending Machine</title>
<link rel="icon" href="https://emojicdn.elk.sh/üé∞">
<meta property="og:title" content="Neon Glitch Vending Machine">
<meta property="og:description" content="Dispense radioactive snacks from a glitchy neon vending machine!">
<meta property="og:url" content="https://app.sloppy.live/glitch-vending">
<meta property="og:image" content="https://app.sloppy.live/glitch-vending/og-image.png">
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
<link rel="stylesheet" href="styles.css">
</head>
<body>
<a href="https://sloppy.live" class="back-link">‚Üê sloppy.live</a>
<h1>‚ò¢Ô∏è GLITCH VENDING ‚ò¢Ô∏è</h1>
<div class="vending-machine">
  <div class="machine-top"></div>
  <div class="display-screen">
    <div class="display-text" id="displayText">INSERT CREDITS TO BEGIN</div>
  </div>
  <div class="snack-grid" id="snackGrid"></div>
  <div class="dispense-tray" id="dispenseTray"></div>
  <div class="coin-slot">
    <span class="credits">CREDITS: <span id="credits">0</span>‚ò¢Ô∏è</span>
    <button class="add-credit" id="addCreditBtn">+ ADD CREDIT</button>
  </div>
  <div class="warning-label">‚ö†Ô∏è CAUTION: RADIOACTIVE CONTENTS ‚ö†Ô∏è</div>
</div>
<div class="glitch-overlay" id="glitchOverlay"></div>

<script type="module">
import { initVendingMachine, addCredit } from './vending.js';

// Initialize vending machine on load
initVendingMachine('snackGrid');

// Set up credit button
document.getElementById('addCreditBtn').onclick = () => addCredit();
</script>
<script src="/sloppy-header/sloppy-bar.js"></script>
<script src="/vibelib-extended.js"></script>
<script>
  // Compatibility Patch for Legacy Apps
  window.addEventListener("load", () => {
    if (window.SloppyKarma && window.VibeLib.Economy) {
      // Redirect old calls to new engine
      window.SloppyKarma.track = window.VibeLib.Economy.track;
    }
  });
</script>
</body>
</html>
